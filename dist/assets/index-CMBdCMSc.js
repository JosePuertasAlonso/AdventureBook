(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function IT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var CT={exports:{}},qh={},kT={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nl=Symbol.for("react.element"),Sk=Symbol.for("react.portal"),Ak=Symbol.for("react.fragment"),xk=Symbol.for("react.strict_mode"),Pk=Symbol.for("react.profiler"),Rk=Symbol.for("react.provider"),Ik=Symbol.for("react.context"),Ck=Symbol.for("react.forward_ref"),kk=Symbol.for("react.suspense"),Vk=Symbol.for("react.memo"),Dk=Symbol.for("react.lazy"),t_=Symbol.iterator;function Nk(t){return t===null||typeof t!="object"?null:(t=t_&&t[t_]||t["@@iterator"],typeof t=="function"?t:null)}var VT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DT=Object.assign,NT={};function So(t,e,n){this.props=t,this.context=e,this.refs=NT,this.updater=n||VT}So.prototype.isReactComponent={};So.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};So.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function MT(){}MT.prototype=So.prototype;function vg(t,e,n){this.props=t,this.context=e,this.refs=NT,this.updater=n||VT}var _g=vg.prototype=new MT;_g.constructor=vg;DT(_g,So.prototype);_g.isPureReactComponent=!0;var n_=Array.isArray,bT=Object.prototype.hasOwnProperty,wg={current:null},OT={key:!0,ref:!0,__self:!0,__source:!0};function LT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)bT.call(e,r)&&!OT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Nl,type:t,key:s,ref:o,props:i,_owner:wg.current}}function Mk(t,e){return{$$typeof:Nl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Eg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nl}function bk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var r_=/\/+/g;function od(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bk(""+t.key):e.toString(36)}function ec(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Nl:case Sk:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+od(o,0):r,n_(i)?(n="",t!=null&&(n=t.replace(r_,"$&/")+"/"),ec(i,e,n,"",function(c){return c})):i!=null&&(Eg(i)&&(i=Mk(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(r_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",n_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+od(s,a);o+=ec(s,e,n,l,i)}else if(l=Nk(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+od(s,a++),o+=ec(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yu(t,e,n){if(t==null)return t;var r=[],i=0;return ec(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Ok(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wt={current:null},tc={transition:null},Lk={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:tc,ReactCurrentOwner:wg};function FT(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:yu,forEach:function(t,e,n){yu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yu(t,function(){e++}),e},toArray:function(t){return yu(t,function(e){return e})||[]},only:function(t){if(!Eg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pe.Component=So;pe.Fragment=Ak;pe.Profiler=Pk;pe.PureComponent=vg;pe.StrictMode=xk;pe.Suspense=kk;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lk;pe.act=FT;pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=DT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=wg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)bT.call(e,l)&&!OT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Nl,type:t.type,key:i,ref:s,props:r,_owner:o}};pe.createContext=function(t){return t={$$typeof:Ik,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Rk,_context:t},t.Consumer=t};pe.createElement=LT;pe.createFactory=function(t){var e=LT.bind(null,t);return e.type=t,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:Ck,render:t}};pe.isValidElement=Eg;pe.lazy=function(t){return{$$typeof:Dk,_payload:{_status:-1,_result:t},_init:Ok}};pe.memo=function(t,e){return{$$typeof:Vk,type:t,compare:e===void 0?null:e}};pe.startTransition=function(t){var e=tc.transition;tc.transition={};try{t()}finally{tc.transition=e}};pe.unstable_act=FT;pe.useCallback=function(t,e){return Wt.current.useCallback(t,e)};pe.useContext=function(t){return Wt.current.useContext(t)};pe.useDebugValue=function(){};pe.useDeferredValue=function(t){return Wt.current.useDeferredValue(t)};pe.useEffect=function(t,e){return Wt.current.useEffect(t,e)};pe.useId=function(){return Wt.current.useId()};pe.useImperativeHandle=function(t,e,n){return Wt.current.useImperativeHandle(t,e,n)};pe.useInsertionEffect=function(t,e){return Wt.current.useInsertionEffect(t,e)};pe.useLayoutEffect=function(t,e){return Wt.current.useLayoutEffect(t,e)};pe.useMemo=function(t,e){return Wt.current.useMemo(t,e)};pe.useReducer=function(t,e,n){return Wt.current.useReducer(t,e,n)};pe.useRef=function(t){return Wt.current.useRef(t)};pe.useState=function(t){return Wt.current.useState(t)};pe.useSyncExternalStore=function(t,e,n){return Wt.current.useSyncExternalStore(t,e,n)};pe.useTransition=function(){return Wt.current.useTransition()};pe.version="18.3.1";kT.exports=pe;var j=kT.exports;const Se=IT(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fk=j,Uk=Symbol.for("react.element"),jk=Symbol.for("react.fragment"),Bk=Object.prototype.hasOwnProperty,zk=Fk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$k={key:!0,ref:!0,__self:!0,__source:!0};function UT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Bk.call(e,r)&&!$k.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Uk,type:t,key:s,ref:o,props:i,_owner:zk.current}}qh.Fragment=jk;qh.jsx=UT;qh.jsxs=UT;CT.exports=qh;var $=CT.exports,jT={exports:{}},mn={},BT={exports:{}},zT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,B){var H=F.length;F.push(B);e:for(;0<H;){var Z=H-1>>>1,te=F[Z];if(0<i(te,B))F[Z]=B,F[H]=te,H=Z;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var B=F[0],H=F.pop();if(H!==B){F[0]=H;e:for(var Z=0,te=F.length,le=te>>>1;Z<le;){var de=2*(Z+1)-1,ve=F[de],Oe=de+1,Le=F[Oe];if(0>i(ve,H))Oe<te&&0>i(Le,ve)?(F[Z]=Le,F[Oe]=H,Z=Oe):(F[Z]=ve,F[de]=H,Z=de);else if(Oe<te&&0>i(Le,H))F[Z]=Le,F[Oe]=H,Z=Oe;else break e}}return B}function i(F,B){var H=F.sortIndex-B.sortIndex;return H!==0?H:F.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,d=3,m=!1,v=!1,T=!1,P=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(F){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=F)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function A(F){if(T=!1,y(F),!v)if(n(l)!==null)v=!0,L(V);else{var B=n(c);B!==null&&K(A,B.startTime-F)}}function V(F,B){v=!1,T&&(T=!1,_(E),E=-1),m=!0;var H=d;try{for(y(B),f=n(l);f!==null&&(!(f.expirationTime>B)||F&&!k());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,d=f.priorityLevel;var te=Z(f.expirationTime<=B);B=t.unstable_now(),typeof te=="function"?f.callback=te:f===n(l)&&r(l),y(B)}else r(l);f=n(l)}if(f!==null)var le=!0;else{var de=n(c);de!==null&&K(A,de.startTime-B),le=!1}return le}finally{f=null,d=H,m=!1}}var N=!1,x=null,E=-1,R=5,I=-1;function k(){return!(t.unstable_now()-I<R)}function D(){if(x!==null){var F=t.unstable_now();I=F;var B=!0;try{B=x(!0,F)}finally{B?C():(N=!1,x=null)}}else N=!1}var C;if(typeof w=="function")C=function(){w(D)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,M=b.port2;b.port1.onmessage=D,C=function(){M.postMessage(null)}}else C=function(){P(D,0)};function L(F){x=F,N||(N=!0,C())}function K(F,B){E=P(function(){F(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,L(V))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var H=d;d=B;try{return F()}finally{d=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,B){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=d;d=F;try{return B()}finally{d=H}},t.unstable_scheduleCallback=function(F,B,H){var Z=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Z+H:Z):H=Z,F){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=H+te,F={id:h++,callback:B,priorityLevel:F,startTime:H,expirationTime:te,sortIndex:-1},H>Z?(F.sortIndex=H,e(c,F),n(l)===null&&F===n(c)&&(T?(_(E),E=-1):T=!0,K(A,H-Z))):(F.sortIndex=te,e(l,F),v||m||(v=!0,L(V))),F},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(F){var B=d;return function(){var H=d;d=B;try{return F.apply(this,arguments)}finally{d=H}}}})(zT);BT.exports=zT;var qk=BT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wk=j,dn=qk;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $T=new Set,Ga={};function as(t,e){eo(t,e),eo(t+"Capture",e)}function eo(t,e){for(Ga[t]=e,t=0;t<e.length;t++)$T.add(e[t])}var Ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hp=Object.prototype.hasOwnProperty,Hk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,i_={},s_={};function Gk(t){return hp.call(s_,t)?!0:hp.call(i_,t)?!1:Hk.test(t)?s_[t]=!0:(i_[t]=!0,!1)}function Kk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Qk(t,e,n,r){if(e===null||typeof e>"u"||Kk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ht(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vt[t]=new Ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vt[e]=new Ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vt[t]=new Ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vt[t]=new Ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vt[t]=new Ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vt[t]=new Ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vt[t]=new Ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vt[t]=new Ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vt[t]=new Ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var Tg=/[\-:]([a-z])/g;function Sg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Tg,Sg);vt[e]=new Ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Tg,Sg);vt[e]=new Ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Tg,Sg);vt[e]=new Ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ag(t,e,n,r){var i=vt.hasOwnProperty(e)?vt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Qk(e,n,i,r)&&(n=null),r||i===null?Gk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fr=Wk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vu=Symbol.for("react.element"),xs=Symbol.for("react.portal"),Ps=Symbol.for("react.fragment"),xg=Symbol.for("react.strict_mode"),fp=Symbol.for("react.profiler"),qT=Symbol.for("react.provider"),WT=Symbol.for("react.context"),Pg=Symbol.for("react.forward_ref"),dp=Symbol.for("react.suspense"),pp=Symbol.for("react.suspense_list"),Rg=Symbol.for("react.memo"),qr=Symbol.for("react.lazy"),HT=Symbol.for("react.offscreen"),o_=Symbol.iterator;function Ko(t){return t===null||typeof t!="object"?null:(t=o_&&t[o_]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,ad;function aa(t){if(ad===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ad=e&&e[1]||""}return`
`+ad+t}var ld=!1;function ud(t,e){if(!t||ld)return"";ld=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ld=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?aa(t):""}function Xk(t){switch(t.tag){case 5:return aa(t.type);case 16:return aa("Lazy");case 13:return aa("Suspense");case 19:return aa("SuspenseList");case 0:case 2:case 15:return t=ud(t.type,!1),t;case 11:return t=ud(t.type.render,!1),t;case 1:return t=ud(t.type,!0),t;default:return""}}function mp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ps:return"Fragment";case xs:return"Portal";case fp:return"Profiler";case xg:return"StrictMode";case dp:return"Suspense";case pp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case WT:return(t.displayName||"Context")+".Consumer";case qT:return(t._context.displayName||"Context")+".Provider";case Pg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rg:return e=t.displayName||null,e!==null?e:mp(t.type)||"Memo";case qr:e=t._payload,t=t._init;try{return mp(t(e))}catch{}}return null}function Yk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mp(e);case 8:return e===xg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Zk(t){var e=GT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _u(t){t._valueTracker||(t._valueTracker=Zk(t))}function KT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=GT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gp(t,e){var n=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function a_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=di(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function QT(t,e){e=e.checked,e!=null&&Ag(t,"checked",e,!1)}function yp(t,e){QT(t,e);var n=di(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vp(t,e.type,n):e.hasOwnProperty("defaultValue")&&vp(t,e.type,di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function l_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vp(t,e,n){(e!=="number"||Rc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var la=Array.isArray;function Ws(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+di(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _p(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function u_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(la(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:di(n)}}function XT(t,e){var n=di(e.value),r=di(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function c_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function YT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?YT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wu,ZT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wu=wu||document.createElement("div"),wu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ka(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Aa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jk=["Webkit","ms","Moz","O"];Object.keys(Aa).forEach(function(t){Jk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Aa[e]=Aa[t]})});function JT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Aa.hasOwnProperty(t)&&Aa[t]?(""+e).trim():e+"px"}function eS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=JT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var e2=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ep(t,e){if(e){if(e2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Tp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sp=null;function Ig(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ap=null,Hs=null,Gs=null;function h_(t){if(t=Ol(t)){if(typeof Ap!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Qh(e),Ap(t.stateNode,t.type,e))}}function tS(t){Hs?Gs?Gs.push(t):Gs=[t]:Hs=t}function nS(){if(Hs){var t=Hs,e=Gs;if(Gs=Hs=null,h_(t),e)for(t=0;t<e.length;t++)h_(e[t])}}function rS(t,e){return t(e)}function iS(){}var cd=!1;function sS(t,e,n){if(cd)return t(e,n);cd=!0;try{return rS(t,e,n)}finally{cd=!1,(Hs!==null||Gs!==null)&&(iS(),nS())}}function Qa(t,e){var n=t.stateNode;if(n===null)return null;var r=Qh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var xp=!1;if(Ir)try{var Qo={};Object.defineProperty(Qo,"passive",{get:function(){xp=!0}}),window.addEventListener("test",Qo,Qo),window.removeEventListener("test",Qo,Qo)}catch{xp=!1}function t2(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var xa=!1,Ic=null,Cc=!1,Pp=null,n2={onError:function(t){xa=!0,Ic=t}};function r2(t,e,n,r,i,s,o,a,l){xa=!1,Ic=null,t2.apply(n2,arguments)}function i2(t,e,n,r,i,s,o,a,l){if(r2.apply(this,arguments),xa){if(xa){var c=Ic;xa=!1,Ic=null}else throw Error(W(198));Cc||(Cc=!0,Pp=c)}}function ls(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function oS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function f_(t){if(ls(t)!==t)throw Error(W(188))}function s2(t){var e=t.alternate;if(!e){if(e=ls(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return f_(i),t;if(s===r)return f_(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function aS(t){return t=s2(t),t!==null?lS(t):null}function lS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lS(t);if(e!==null)return e;t=t.sibling}return null}var uS=dn.unstable_scheduleCallback,d_=dn.unstable_cancelCallback,o2=dn.unstable_shouldYield,a2=dn.unstable_requestPaint,Je=dn.unstable_now,l2=dn.unstable_getCurrentPriorityLevel,Cg=dn.unstable_ImmediatePriority,cS=dn.unstable_UserBlockingPriority,kc=dn.unstable_NormalPriority,u2=dn.unstable_LowPriority,hS=dn.unstable_IdlePriority,Wh=null,Zn=null;function c2(t){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(Wh,t,void 0,(t.current.flags&128)===128)}catch{}}var Fn=Math.clz32?Math.clz32:d2,h2=Math.log,f2=Math.LN2;function d2(t){return t>>>=0,t===0?32:31-(h2(t)/f2|0)|0}var Eu=64,Tu=4194304;function ua(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ua(a):(s&=o,s!==0&&(r=ua(s)))}else o=n&~i,o!==0?r=ua(o):s!==0&&(r=ua(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fn(e),i=1<<n,r|=t[n],e&=~i;return r}function p2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Fn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=p2(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Rp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fS(){var t=Eu;return Eu<<=1,!(Eu&4194240)&&(Eu=64),t}function hd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ml(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fn(e),t[e]=n}function g2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Fn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function kg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Fn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xe=0;function dS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pS,Vg,mS,gS,yS,Ip=!1,Su=[],ei=null,ti=null,ni=null,Xa=new Map,Ya=new Map,Kr=[],y2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function p_(t,e){switch(t){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":Xa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ya.delete(e.pointerId)}}function Xo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ol(e),e!==null&&Vg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function v2(t,e,n,r,i){switch(e){case"focusin":return ei=Xo(ei,t,e,n,r,i),!0;case"dragenter":return ti=Xo(ti,t,e,n,r,i),!0;case"mouseover":return ni=Xo(ni,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Xa.set(s,Xo(Xa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ya.set(s,Xo(Ya.get(s)||null,t,e,n,r,i)),!0}return!1}function vS(t){var e=Ui(t.target);if(e!==null){var n=ls(e);if(n!==null){if(e=n.tag,e===13){if(e=oS(n),e!==null){t.blockedOn=e,yS(t.priority,function(){mS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sp=r,n.target.dispatchEvent(r),Sp=null}else return e=Ol(n),e!==null&&Vg(e),t.blockedOn=n,!1;e.shift()}return!0}function m_(t,e,n){nc(t)&&n.delete(e)}function _2(){Ip=!1,ei!==null&&nc(ei)&&(ei=null),ti!==null&&nc(ti)&&(ti=null),ni!==null&&nc(ni)&&(ni=null),Xa.forEach(m_),Ya.forEach(m_)}function Yo(t,e){t.blockedOn===e&&(t.blockedOn=null,Ip||(Ip=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,_2)))}function Za(t){function e(i){return Yo(i,t)}if(0<Su.length){Yo(Su[0],t);for(var n=1;n<Su.length;n++){var r=Su[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ei!==null&&Yo(ei,t),ti!==null&&Yo(ti,t),ni!==null&&Yo(ni,t),Xa.forEach(e),Ya.forEach(e),n=0;n<Kr.length;n++)r=Kr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Kr.length&&(n=Kr[0],n.blockedOn===null);)vS(n),n.blockedOn===null&&Kr.shift()}var Ks=Fr.ReactCurrentBatchConfig,Dc=!0;function w2(t,e,n,r){var i=xe,s=Ks.transition;Ks.transition=null;try{xe=1,Dg(t,e,n,r)}finally{xe=i,Ks.transition=s}}function E2(t,e,n,r){var i=xe,s=Ks.transition;Ks.transition=null;try{xe=4,Dg(t,e,n,r)}finally{xe=i,Ks.transition=s}}function Dg(t,e,n,r){if(Dc){var i=Cp(t,e,n,r);if(i===null)Ed(t,e,r,Nc,n),p_(t,r);else if(v2(i,t,e,n,r))r.stopPropagation();else if(p_(t,r),e&4&&-1<y2.indexOf(t)){for(;i!==null;){var s=Ol(i);if(s!==null&&pS(s),s=Cp(t,e,n,r),s===null&&Ed(t,e,r,Nc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ed(t,e,r,null,n)}}var Nc=null;function Cp(t,e,n,r){if(Nc=null,t=Ig(r),t=Ui(t),t!==null)if(e=ls(t),e===null)t=null;else if(n=e.tag,n===13){if(t=oS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nc=t,null}function _S(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(l2()){case Cg:return 1;case cS:return 4;case kc:case u2:return 16;case hS:return 536870912;default:return 16}default:return 16}}var Yr=null,Ng=null,rc=null;function wS(){if(rc)return rc;var t,e=Ng,n=e.length,r,i="value"in Yr?Yr.value:Yr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return rc=i.slice(t,1<r?1-r:void 0)}function ic(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Au(){return!0}function g_(){return!1}function gn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Au:g_,this.isPropagationStopped=g_,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Au)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Au)},persist:function(){},isPersistent:Au}),e}var Ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mg=gn(Ao),bl=qe({},Ao,{view:0,detail:0}),T2=gn(bl),fd,dd,Zo,Hh=qe({},bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zo&&(Zo&&t.type==="mousemove"?(fd=t.screenX-Zo.screenX,dd=t.screenY-Zo.screenY):dd=fd=0,Zo=t),fd)},movementY:function(t){return"movementY"in t?t.movementY:dd}}),y_=gn(Hh),S2=qe({},Hh,{dataTransfer:0}),A2=gn(S2),x2=qe({},bl,{relatedTarget:0}),pd=gn(x2),P2=qe({},Ao,{animationName:0,elapsedTime:0,pseudoElement:0}),R2=gn(P2),I2=qe({},Ao,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),C2=gn(I2),k2=qe({},Ao,{data:0}),v_=gn(k2),V2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=N2[t])?!!e[t]:!1}function bg(){return M2}var b2=qe({},bl,{key:function(t){if(t.key){var e=V2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ic(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?D2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bg,charCode:function(t){return t.type==="keypress"?ic(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ic(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),O2=gn(b2),L2=qe({},Hh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),__=gn(L2),F2=qe({},bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bg}),U2=gn(F2),j2=qe({},Ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),B2=gn(j2),z2=qe({},Hh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$2=gn(z2),q2=[9,13,27,32],Og=Ir&&"CompositionEvent"in window,Pa=null;Ir&&"documentMode"in document&&(Pa=document.documentMode);var W2=Ir&&"TextEvent"in window&&!Pa,ES=Ir&&(!Og||Pa&&8<Pa&&11>=Pa),w_=" ",E_=!1;function TS(t,e){switch(t){case"keyup":return q2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rs=!1;function H2(t,e){switch(t){case"compositionend":return SS(e);case"keypress":return e.which!==32?null:(E_=!0,w_);case"textInput":return t=e.data,t===w_&&E_?null:t;default:return null}}function G2(t,e){if(Rs)return t==="compositionend"||!Og&&TS(t,e)?(t=wS(),rc=Ng=Yr=null,Rs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ES&&e.locale!=="ko"?null:e.data;default:return null}}var K2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!K2[t.type]:e==="textarea"}function AS(t,e,n,r){tS(r),e=Mc(e,"onChange"),0<e.length&&(n=new Mg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ra=null,Ja=null;function Q2(t){bS(t,0)}function Gh(t){var e=ks(t);if(KT(e))return t}function X2(t,e){if(t==="change")return e}var xS=!1;if(Ir){var md;if(Ir){var gd="oninput"in document;if(!gd){var S_=document.createElement("div");S_.setAttribute("oninput","return;"),gd=typeof S_.oninput=="function"}md=gd}else md=!1;xS=md&&(!document.documentMode||9<document.documentMode)}function A_(){Ra&&(Ra.detachEvent("onpropertychange",PS),Ja=Ra=null)}function PS(t){if(t.propertyName==="value"&&Gh(Ja)){var e=[];AS(e,Ja,t,Ig(t)),sS(Q2,e)}}function Y2(t,e,n){t==="focusin"?(A_(),Ra=e,Ja=n,Ra.attachEvent("onpropertychange",PS)):t==="focusout"&&A_()}function Z2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gh(Ja)}function J2(t,e){if(t==="click")return Gh(e)}function eV(t,e){if(t==="input"||t==="change")return Gh(e)}function tV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jn=typeof Object.is=="function"?Object.is:tV;function el(t,e){if(jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!hp.call(e,i)||!jn(t[i],e[i]))return!1}return!0}function x_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function P_(t,e){var n=x_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=x_(n)}}function RS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?RS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function IS(){for(var t=window,e=Rc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rc(t.document)}return e}function Lg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nV(t){var e=IS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&RS(n.ownerDocument.documentElement,n)){if(r!==null&&Lg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=P_(n,s);var o=P_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rV=Ir&&"documentMode"in document&&11>=document.documentMode,Is=null,kp=null,Ia=null,Vp=!1;function R_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vp||Is==null||Is!==Rc(r)||(r=Is,"selectionStart"in r&&Lg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ia&&el(Ia,r)||(Ia=r,r=Mc(kp,"onSelect"),0<r.length&&(e=new Mg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Is)))}function xu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Cs={animationend:xu("Animation","AnimationEnd"),animationiteration:xu("Animation","AnimationIteration"),animationstart:xu("Animation","AnimationStart"),transitionend:xu("Transition","TransitionEnd")},yd={},CS={};Ir&&(CS=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function Kh(t){if(yd[t])return yd[t];if(!Cs[t])return t;var e=Cs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in CS)return yd[t]=e[n];return t}var kS=Kh("animationend"),VS=Kh("animationiteration"),DS=Kh("animationstart"),NS=Kh("transitionend"),MS=new Map,I_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(t,e){MS.set(t,e),as(e,[t])}for(var vd=0;vd<I_.length;vd++){var _d=I_[vd],iV=_d.toLowerCase(),sV=_d[0].toUpperCase()+_d.slice(1);wi(iV,"on"+sV)}wi(kS,"onAnimationEnd");wi(VS,"onAnimationIteration");wi(DS,"onAnimationStart");wi("dblclick","onDoubleClick");wi("focusin","onFocus");wi("focusout","onBlur");wi(NS,"onTransitionEnd");eo("onMouseEnter",["mouseout","mouseover"]);eo("onMouseLeave",["mouseout","mouseover"]);eo("onPointerEnter",["pointerout","pointerover"]);eo("onPointerLeave",["pointerout","pointerover"]);as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));as("onBeforeInput",["compositionend","keypress","textInput","paste"]);as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oV=new Set("cancel close invalid load scroll toggle".split(" ").concat(ca));function C_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,i2(r,e,void 0,t),t.currentTarget=null}function bS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;C_(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;C_(i,a,c),s=l}}}if(Cc)throw t=Pp,Cc=!1,Pp=null,t}function Ve(t,e){var n=e[Op];n===void 0&&(n=e[Op]=new Set);var r=t+"__bubble";n.has(r)||(OS(e,t,2,!1),n.add(r))}function wd(t,e,n){var r=0;e&&(r|=4),OS(n,t,r,e)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function tl(t){if(!t[Pu]){t[Pu]=!0,$T.forEach(function(n){n!=="selectionchange"&&(oV.has(n)||wd(n,!1,t),wd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pu]||(e[Pu]=!0,wd("selectionchange",!1,e))}}function OS(t,e,n,r){switch(_S(e)){case 1:var i=w2;break;case 4:i=E2;break;default:i=Dg}n=i.bind(null,e,n,t),i=void 0,!xp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ed(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ui(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}sS(function(){var c=s,h=Ig(n),f=[];e:{var d=MS.get(t);if(d!==void 0){var m=Mg,v=t;switch(t){case"keypress":if(ic(n)===0)break e;case"keydown":case"keyup":m=O2;break;case"focusin":v="focus",m=pd;break;case"focusout":v="blur",m=pd;break;case"beforeblur":case"afterblur":m=pd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=y_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=A2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=U2;break;case kS:case VS:case DS:m=R2;break;case NS:m=B2;break;case"scroll":m=T2;break;case"wheel":m=$2;break;case"copy":case"cut":case"paste":m=C2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=__}var T=(e&4)!==0,P=!T&&t==="scroll",_=T?d!==null?d+"Capture":null:d;T=[];for(var w=c,y;w!==null;){y=w;var A=y.stateNode;if(y.tag===5&&A!==null&&(y=A,_!==null&&(A=Qa(w,_),A!=null&&T.push(nl(w,A,y)))),P)break;w=w.return}0<T.length&&(d=new m(d,v,null,n,h),f.push({event:d,listeners:T}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&n!==Sp&&(v=n.relatedTarget||n.fromElement)&&(Ui(v)||v[Cr]))break e;if((m||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?Ui(v):null,v!==null&&(P=ls(v),v!==P||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(T=y_,A="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(T=__,A="onPointerLeave",_="onPointerEnter",w="pointer"),P=m==null?d:ks(m),y=v==null?d:ks(v),d=new T(A,w+"leave",m,n,h),d.target=P,d.relatedTarget=y,A=null,Ui(h)===c&&(T=new T(_,w+"enter",v,n,h),T.target=y,T.relatedTarget=P,A=T),P=A,m&&v)t:{for(T=m,_=v,w=0,y=T;y;y=_s(y))w++;for(y=0,A=_;A;A=_s(A))y++;for(;0<w-y;)T=_s(T),w--;for(;0<y-w;)_=_s(_),y--;for(;w--;){if(T===_||_!==null&&T===_.alternate)break t;T=_s(T),_=_s(_)}T=null}else T=null;m!==null&&k_(f,d,m,T,!1),v!==null&&P!==null&&k_(f,P,v,T,!0)}}e:{if(d=c?ks(c):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var V=X2;else if(T_(d))if(xS)V=eV;else{V=Z2;var N=Y2}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(V=J2);if(V&&(V=V(t,c))){AS(f,V,n,h);break e}N&&N(t,d,c),t==="focusout"&&(N=d._wrapperState)&&N.controlled&&d.type==="number"&&vp(d,"number",d.value)}switch(N=c?ks(c):window,t){case"focusin":(T_(N)||N.contentEditable==="true")&&(Is=N,kp=c,Ia=null);break;case"focusout":Ia=kp=Is=null;break;case"mousedown":Vp=!0;break;case"contextmenu":case"mouseup":case"dragend":Vp=!1,R_(f,n,h);break;case"selectionchange":if(rV)break;case"keydown":case"keyup":R_(f,n,h)}var x;if(Og)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Rs?TS(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(ES&&n.locale!=="ko"&&(Rs||E!=="onCompositionStart"?E==="onCompositionEnd"&&Rs&&(x=wS()):(Yr=h,Ng="value"in Yr?Yr.value:Yr.textContent,Rs=!0)),N=Mc(c,E),0<N.length&&(E=new v_(E,t,null,n,h),f.push({event:E,listeners:N}),x?E.data=x:(x=SS(n),x!==null&&(E.data=x)))),(x=W2?H2(t,n):G2(t,n))&&(c=Mc(c,"onBeforeInput"),0<c.length&&(h=new v_("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=x))}bS(f,e)})}function nl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Qa(t,n),s!=null&&r.unshift(nl(t,s,i)),s=Qa(t,e),s!=null&&r.push(nl(t,s,i))),t=t.return}return r}function _s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function k_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Qa(n,s),l!=null&&o.unshift(nl(n,l,a))):i||(l=Qa(n,s),l!=null&&o.push(nl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var aV=/\r\n?/g,lV=/\u0000|\uFFFD/g;function V_(t){return(typeof t=="string"?t:""+t).replace(aV,`
`).replace(lV,"")}function Ru(t,e,n){if(e=V_(e),V_(t)!==e&&n)throw Error(W(425))}function bc(){}var Dp=null,Np=null;function Mp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bp=typeof setTimeout=="function"?setTimeout:void 0,uV=typeof clearTimeout=="function"?clearTimeout:void 0,D_=typeof Promise=="function"?Promise:void 0,cV=typeof queueMicrotask=="function"?queueMicrotask:typeof D_<"u"?function(t){return D_.resolve(null).then(t).catch(hV)}:bp;function hV(t){setTimeout(function(){throw t})}function Td(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Za(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Za(e)}function ri(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function N_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xo=Math.random().toString(36).slice(2),Gn="__reactFiber$"+xo,rl="__reactProps$"+xo,Cr="__reactContainer$"+xo,Op="__reactEvents$"+xo,fV="__reactListeners$"+xo,dV="__reactHandles$"+xo;function Ui(t){var e=t[Gn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cr]||n[Gn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=N_(t);t!==null;){if(n=t[Gn])return n;t=N_(t)}return e}t=n,n=t.parentNode}return null}function Ol(t){return t=t[Gn]||t[Cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ks(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Qh(t){return t[rl]||null}var Lp=[],Vs=-1;function Ei(t){return{current:t}}function Ne(t){0>Vs||(t.current=Lp[Vs],Lp[Vs]=null,Vs--)}function Ce(t,e){Vs++,Lp[Vs]=t.current,t.current=e}var pi={},Nt=Ei(pi),Zt=Ei(!1),Qi=pi;function to(t,e){var n=t.type.contextTypes;if(!n)return pi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Jt(t){return t=t.childContextTypes,t!=null}function Oc(){Ne(Zt),Ne(Nt)}function M_(t,e,n){if(Nt.current!==pi)throw Error(W(168));Ce(Nt,e),Ce(Zt,n)}function LS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,Yk(t)||"Unknown",i));return qe({},n,r)}function Lc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pi,Qi=Nt.current,Ce(Nt,t),Ce(Zt,Zt.current),!0}function b_(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=LS(t,e,Qi),r.__reactInternalMemoizedMergedChildContext=t,Ne(Zt),Ne(Nt),Ce(Nt,t)):Ne(Zt),Ce(Zt,n)}var dr=null,Xh=!1,Sd=!1;function FS(t){dr===null?dr=[t]:dr.push(t)}function pV(t){Xh=!0,FS(t)}function Ti(){if(!Sd&&dr!==null){Sd=!0;var t=0,e=xe;try{var n=dr;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dr=null,Xh=!1}catch(i){throw dr!==null&&(dr=dr.slice(t+1)),uS(Cg,Ti),i}finally{xe=e,Sd=!1}}return null}var Ds=[],Ns=0,Fc=null,Uc=0,_n=[],wn=0,Xi=null,yr=1,vr="";function Di(t,e){Ds[Ns++]=Uc,Ds[Ns++]=Fc,Fc=t,Uc=e}function US(t,e,n){_n[wn++]=yr,_n[wn++]=vr,_n[wn++]=Xi,Xi=t;var r=yr;t=vr;var i=32-Fn(r)-1;r&=~(1<<i),n+=1;var s=32-Fn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,yr=1<<32-Fn(e)+i|n<<i|r,vr=s+t}else yr=1<<s|n<<i|r,vr=t}function Fg(t){t.return!==null&&(Di(t,1),US(t,1,0))}function Ug(t){for(;t===Fc;)Fc=Ds[--Ns],Ds[Ns]=null,Uc=Ds[--Ns],Ds[Ns]=null;for(;t===Xi;)Xi=_n[--wn],_n[wn]=null,vr=_n[--wn],_n[wn]=null,yr=_n[--wn],_n[wn]=null}var fn=null,un=null,be=!1,Mn=null;function jS(t,e){var n=Sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function O_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fn=t,un=ri(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fn=t,un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xi!==null?{id:yr,overflow:vr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,fn=t,un=null,!0):!1;default:return!1}}function Fp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Up(t){if(be){var e=un;if(e){var n=e;if(!O_(t,e)){if(Fp(t))throw Error(W(418));e=ri(n.nextSibling);var r=fn;e&&O_(t,e)?jS(r,n):(t.flags=t.flags&-4097|2,be=!1,fn=t)}}else{if(Fp(t))throw Error(W(418));t.flags=t.flags&-4097|2,be=!1,fn=t}}}function L_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fn=t}function Iu(t){if(t!==fn)return!1;if(!be)return L_(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mp(t.type,t.memoizedProps)),e&&(e=un)){if(Fp(t))throw BS(),Error(W(418));for(;e;)jS(t,e),e=ri(e.nextSibling)}if(L_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){un=ri(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}un=null}}else un=fn?ri(t.stateNode.nextSibling):null;return!0}function BS(){for(var t=un;t;)t=ri(t.nextSibling)}function no(){un=fn=null,be=!1}function jg(t){Mn===null?Mn=[t]:Mn.push(t)}var mV=Fr.ReactCurrentBatchConfig;function Jo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Cu(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function F_(t){var e=t._init;return e(t._payload)}function zS(t){function e(_,w){if(t){var y=_.deletions;y===null?(_.deletions=[w],_.flags|=16):y.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(_,w){return _=ai(_,w),_.index=0,_.sibling=null,_}function s(_,w,y){return _.index=y,t?(y=_.alternate,y!==null?(y=y.index,y<w?(_.flags|=2,w):y):(_.flags|=2,w)):(_.flags|=1048576,w)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,y,A){return w===null||w.tag!==6?(w=kd(y,_.mode,A),w.return=_,w):(w=i(w,y),w.return=_,w)}function l(_,w,y,A){var V=y.type;return V===Ps?h(_,w,y.props.children,A,y.key):w!==null&&(w.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===qr&&F_(V)===w.type)?(A=i(w,y.props),A.ref=Jo(_,w,y),A.return=_,A):(A=hc(y.type,y.key,y.props,null,_.mode,A),A.ref=Jo(_,w,y),A.return=_,A)}function c(_,w,y,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==y.containerInfo||w.stateNode.implementation!==y.implementation?(w=Vd(y,_.mode,A),w.return=_,w):(w=i(w,y.children||[]),w.return=_,w)}function h(_,w,y,A,V){return w===null||w.tag!==7?(w=Wi(y,_.mode,A,V),w.return=_,w):(w=i(w,y),w.return=_,w)}function f(_,w,y){if(typeof w=="string"&&w!==""||typeof w=="number")return w=kd(""+w,_.mode,y),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vu:return y=hc(w.type,w.key,w.props,null,_.mode,y),y.ref=Jo(_,null,w),y.return=_,y;case xs:return w=Vd(w,_.mode,y),w.return=_,w;case qr:var A=w._init;return f(_,A(w._payload),y)}if(la(w)||Ko(w))return w=Wi(w,_.mode,y,null),w.return=_,w;Cu(_,w)}return null}function d(_,w,y,A){var V=w!==null?w.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return V!==null?null:a(_,w,""+y,A);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case vu:return y.key===V?l(_,w,y,A):null;case xs:return y.key===V?c(_,w,y,A):null;case qr:return V=y._init,d(_,w,V(y._payload),A)}if(la(y)||Ko(y))return V!==null?null:h(_,w,y,A,null);Cu(_,y)}return null}function m(_,w,y,A,V){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(y)||null,a(w,_,""+A,V);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case vu:return _=_.get(A.key===null?y:A.key)||null,l(w,_,A,V);case xs:return _=_.get(A.key===null?y:A.key)||null,c(w,_,A,V);case qr:var N=A._init;return m(_,w,y,N(A._payload),V)}if(la(A)||Ko(A))return _=_.get(y)||null,h(w,_,A,V,null);Cu(w,A)}return null}function v(_,w,y,A){for(var V=null,N=null,x=w,E=w=0,R=null;x!==null&&E<y.length;E++){x.index>E?(R=x,x=null):R=x.sibling;var I=d(_,x,y[E],A);if(I===null){x===null&&(x=R);break}t&&x&&I.alternate===null&&e(_,x),w=s(I,w,E),N===null?V=I:N.sibling=I,N=I,x=R}if(E===y.length)return n(_,x),be&&Di(_,E),V;if(x===null){for(;E<y.length;E++)x=f(_,y[E],A),x!==null&&(w=s(x,w,E),N===null?V=x:N.sibling=x,N=x);return be&&Di(_,E),V}for(x=r(_,x);E<y.length;E++)R=m(x,_,E,y[E],A),R!==null&&(t&&R.alternate!==null&&x.delete(R.key===null?E:R.key),w=s(R,w,E),N===null?V=R:N.sibling=R,N=R);return t&&x.forEach(function(k){return e(_,k)}),be&&Di(_,E),V}function T(_,w,y,A){var V=Ko(y);if(typeof V!="function")throw Error(W(150));if(y=V.call(y),y==null)throw Error(W(151));for(var N=V=null,x=w,E=w=0,R=null,I=y.next();x!==null&&!I.done;E++,I=y.next()){x.index>E?(R=x,x=null):R=x.sibling;var k=d(_,x,I.value,A);if(k===null){x===null&&(x=R);break}t&&x&&k.alternate===null&&e(_,x),w=s(k,w,E),N===null?V=k:N.sibling=k,N=k,x=R}if(I.done)return n(_,x),be&&Di(_,E),V;if(x===null){for(;!I.done;E++,I=y.next())I=f(_,I.value,A),I!==null&&(w=s(I,w,E),N===null?V=I:N.sibling=I,N=I);return be&&Di(_,E),V}for(x=r(_,x);!I.done;E++,I=y.next())I=m(x,_,E,I.value,A),I!==null&&(t&&I.alternate!==null&&x.delete(I.key===null?E:I.key),w=s(I,w,E),N===null?V=I:N.sibling=I,N=I);return t&&x.forEach(function(D){return e(_,D)}),be&&Di(_,E),V}function P(_,w,y,A){if(typeof y=="object"&&y!==null&&y.type===Ps&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case vu:e:{for(var V=y.key,N=w;N!==null;){if(N.key===V){if(V=y.type,V===Ps){if(N.tag===7){n(_,N.sibling),w=i(N,y.props.children),w.return=_,_=w;break e}}else if(N.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===qr&&F_(V)===N.type){n(_,N.sibling),w=i(N,y.props),w.ref=Jo(_,N,y),w.return=_,_=w;break e}n(_,N);break}else e(_,N);N=N.sibling}y.type===Ps?(w=Wi(y.props.children,_.mode,A,y.key),w.return=_,_=w):(A=hc(y.type,y.key,y.props,null,_.mode,A),A.ref=Jo(_,w,y),A.return=_,_=A)}return o(_);case xs:e:{for(N=y.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===y.containerInfo&&w.stateNode.implementation===y.implementation){n(_,w.sibling),w=i(w,y.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=Vd(y,_.mode,A),w.return=_,_=w}return o(_);case qr:return N=y._init,P(_,w,N(y._payload),A)}if(la(y))return v(_,w,y,A);if(Ko(y))return T(_,w,y,A);Cu(_,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,w!==null&&w.tag===6?(n(_,w.sibling),w=i(w,y),w.return=_,_=w):(n(_,w),w=kd(y,_.mode,A),w.return=_,_=w),o(_)):n(_,w)}return P}var ro=zS(!0),$S=zS(!1),jc=Ei(null),Bc=null,Ms=null,Bg=null;function zg(){Bg=Ms=Bc=null}function $g(t){var e=jc.current;Ne(jc),t._currentValue=e}function jp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qs(t,e){Bc=t,Bg=Ms=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yt=!0),t.firstContext=null)}function Rn(t){var e=t._currentValue;if(Bg!==t)if(t={context:t,memoizedValue:e,next:null},Ms===null){if(Bc===null)throw Error(W(308));Ms=t,Bc.dependencies={lanes:0,firstContext:t}}else Ms=Ms.next=t;return e}var ji=null;function qg(t){ji===null?ji=[t]:ji.push(t)}function qS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,qg(e)):(n.next=i.next,i.next=n),e.interleaved=n,kr(t,r)}function kr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wr=!1;function Wg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Er(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ii(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,kr(t,n)}return i=r.interleaved,i===null?(e.next=e,qg(r)):(e.next=i.next,i.next=e),r.interleaved=e,kr(t,n)}function sc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kg(t,n)}}function U_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zc(t,e,n,r){var i=t.updateQueue;Wr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,h=c=l=null,a=s;do{var d=a.lane,m=a.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,T=a;switch(d=e,m=n,T.tag){case 1:if(v=T.payload,typeof v=="function"){f=v.call(m,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=T.payload,d=typeof v=="function"?v.call(m,f,d):v,d==null)break e;f=qe({},f,d);break e;case 2:Wr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=f):h=h.next=m,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Zi|=o,t.lanes=o,t.memoizedState=f}}function j_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var Ll={},Jn=Ei(Ll),il=Ei(Ll),sl=Ei(Ll);function Bi(t){if(t===Ll)throw Error(W(174));return t}function Hg(t,e){switch(Ce(sl,e),Ce(il,t),Ce(Jn,Ll),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wp(e,t)}Ne(Jn),Ce(Jn,e)}function io(){Ne(Jn),Ne(il),Ne(sl)}function HS(t){Bi(sl.current);var e=Bi(Jn.current),n=wp(e,t.type);e!==n&&(Ce(il,t),Ce(Jn,n))}function Gg(t){il.current===t&&(Ne(Jn),Ne(il))}var je=Ei(0);function $c(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ad=[];function Kg(){for(var t=0;t<Ad.length;t++)Ad[t]._workInProgressVersionPrimary=null;Ad.length=0}var oc=Fr.ReactCurrentDispatcher,xd=Fr.ReactCurrentBatchConfig,Yi=0,$e=null,rt=null,at=null,qc=!1,Ca=!1,ol=0,gV=0;function St(){throw Error(W(321))}function Qg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jn(t[n],e[n]))return!1;return!0}function Xg(t,e,n,r,i,s){if(Yi=s,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,oc.current=t===null||t.memoizedState===null?wV:EV,t=n(r,i),Ca){s=0;do{if(Ca=!1,ol=0,25<=s)throw Error(W(301));s+=1,at=rt=null,e.updateQueue=null,oc.current=TV,t=n(r,i)}while(Ca)}if(oc.current=Wc,e=rt!==null&&rt.next!==null,Yi=0,at=rt=$e=null,qc=!1,e)throw Error(W(300));return t}function Yg(){var t=ol!==0;return ol=0,t}function Hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?$e.memoizedState=at=t:at=at.next=t,at}function In(){if(rt===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var e=at===null?$e.memoizedState:at.next;if(e!==null)at=e,rt=t;else{if(t===null)throw Error(W(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},at===null?$e.memoizedState=at=t:at=at.next=t}return at}function al(t,e){return typeof e=="function"?e(t):e}function Pd(t){var e=In(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=rt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((Yi&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,$e.lanes|=h,Zi|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,jn(r,e.memoizedState)||(Yt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,$e.lanes|=s,Zi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Rd(t){var e=In(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);jn(s,e.memoizedState)||(Yt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function GS(){}function KS(t,e){var n=$e,r=In(),i=e(),s=!jn(r.memoizedState,i);if(s&&(r.memoizedState=i,Yt=!0),r=r.queue,Zg(YS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,ll(9,XS.bind(null,n,r,i,e),void 0,null),lt===null)throw Error(W(349));Yi&30||QS(n,e,i)}return i}function QS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function XS(t,e,n,r){e.value=n,e.getSnapshot=r,ZS(e)&&JS(t)}function YS(t,e,n){return n(function(){ZS(e)&&JS(t)})}function ZS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jn(t,n)}catch{return!0}}function JS(t){var e=kr(t,1);e!==null&&Un(e,t,1,-1)}function B_(t){var e=Hn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:t},e.queue=t,t=t.dispatch=_V.bind(null,$e,t),[e.memoizedState,t]}function ll(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function eA(){return In().memoizedState}function ac(t,e,n,r){var i=Hn();$e.flags|=t,i.memoizedState=ll(1|e,n,void 0,r===void 0?null:r)}function Yh(t,e,n,r){var i=In();r=r===void 0?null:r;var s=void 0;if(rt!==null){var o=rt.memoizedState;if(s=o.destroy,r!==null&&Qg(r,o.deps)){i.memoizedState=ll(e,n,s,r);return}}$e.flags|=t,i.memoizedState=ll(1|e,n,s,r)}function z_(t,e){return ac(8390656,8,t,e)}function Zg(t,e){return Yh(2048,8,t,e)}function tA(t,e){return Yh(4,2,t,e)}function nA(t,e){return Yh(4,4,t,e)}function rA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iA(t,e,n){return n=n!=null?n.concat([t]):null,Yh(4,4,rA.bind(null,e,t),n)}function Jg(){}function sA(t,e){var n=In();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function oA(t,e){var n=In();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function aA(t,e,n){return Yi&21?(jn(n,e)||(n=fS(),$e.lanes|=n,Zi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yt=!0),t.memoizedState=n)}function yV(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=xd.transition;xd.transition={};try{t(!1),e()}finally{xe=n,xd.transition=r}}function lA(){return In().memoizedState}function vV(t,e,n){var r=oi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uA(t))cA(e,n);else if(n=qS(t,e,n,r),n!==null){var i=Bt();Un(n,t,r,i),hA(n,e,r)}}function _V(t,e,n){var r=oi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uA(t))cA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,jn(a,o)){var l=e.interleaved;l===null?(i.next=i,qg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=qS(t,e,i,r),n!==null&&(i=Bt(),Un(n,t,r,i),hA(n,e,r))}}function uA(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function cA(t,e){Ca=qc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kg(t,n)}}var Wc={readContext:Rn,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},wV={readContext:Rn,useCallback:function(t,e){return Hn().memoizedState=[t,e===void 0?null:e],t},useContext:Rn,useEffect:z_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ac(4194308,4,rA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ac(4194308,4,t,e)},useInsertionEffect:function(t,e){return ac(4,2,t,e)},useMemo:function(t,e){var n=Hn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Hn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=vV.bind(null,$e,t),[r.memoizedState,t]},useRef:function(t){var e=Hn();return t={current:t},e.memoizedState=t},useState:B_,useDebugValue:Jg,useDeferredValue:function(t){return Hn().memoizedState=t},useTransition:function(){var t=B_(!1),e=t[0];return t=yV.bind(null,t[1]),Hn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$e,i=Hn();if(be){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),lt===null)throw Error(W(349));Yi&30||QS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,z_(YS.bind(null,r,s,t),[t]),r.flags|=2048,ll(9,XS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Hn(),e=lt.identifierPrefix;if(be){var n=vr,r=yr;n=(r&~(1<<32-Fn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ol++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=gV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},EV={readContext:Rn,useCallback:sA,useContext:Rn,useEffect:Zg,useImperativeHandle:iA,useInsertionEffect:tA,useLayoutEffect:nA,useMemo:oA,useReducer:Pd,useRef:eA,useState:function(){return Pd(al)},useDebugValue:Jg,useDeferredValue:function(t){var e=In();return aA(e,rt.memoizedState,t)},useTransition:function(){var t=Pd(al)[0],e=In().memoizedState;return[t,e]},useMutableSource:GS,useSyncExternalStore:KS,useId:lA,unstable_isNewReconciler:!1},TV={readContext:Rn,useCallback:sA,useContext:Rn,useEffect:Zg,useImperativeHandle:iA,useInsertionEffect:tA,useLayoutEffect:nA,useMemo:oA,useReducer:Rd,useRef:eA,useState:function(){return Rd(al)},useDebugValue:Jg,useDeferredValue:function(t){var e=In();return rt===null?e.memoizedState=t:aA(e,rt.memoizedState,t)},useTransition:function(){var t=Rd(al)[0],e=In().memoizedState;return[t,e]},useMutableSource:GS,useSyncExternalStore:KS,useId:lA,unstable_isNewReconciler:!1};function Dn(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zh={isMounted:function(t){return(t=t._reactInternals)?ls(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Bt(),i=oi(t),s=Er(r,i);s.payload=e,n!=null&&(s.callback=n),e=ii(t,s,i),e!==null&&(Un(e,t,i,r),sc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Bt(),i=oi(t),s=Er(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ii(t,s,i),e!==null&&(Un(e,t,i,r),sc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Bt(),r=oi(t),i=Er(n,r);i.tag=2,e!=null&&(i.callback=e),e=ii(t,i,r),e!==null&&(Un(e,t,r,n),sc(e,t,r))}};function $_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!el(n,r)||!el(i,s):!0}function fA(t,e,n){var r=!1,i=pi,s=e.contextType;return typeof s=="object"&&s!==null?s=Rn(s):(i=Jt(e)?Qi:Nt.current,r=e.contextTypes,s=(r=r!=null)?to(t,i):pi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function q_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Zh.enqueueReplaceState(e,e.state,null)}function zp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Wg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Rn(s):(s=Jt(e)?Qi:Nt.current,i.context=to(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Bp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zh.enqueueReplaceState(i,i.state,null),zc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function so(t,e){try{var n="",r=e;do n+=Xk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Id(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $p(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var SV=typeof WeakMap=="function"?WeakMap:Map;function dA(t,e,n){n=Er(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gc||(Gc=!0,Jp=r),$p(t,e)},n}function pA(t,e,n){n=Er(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){$p(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){$p(t,e),typeof r!="function"&&(si===null?si=new Set([this]):si.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function W_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new SV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=LV.bind(null,t,e,n),e.then(t,t))}function H_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function G_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Er(-1,1),e.tag=2,ii(n,e,1))),n.lanes|=1),t)}var AV=Fr.ReactCurrentOwner,Yt=!1;function Lt(t,e,n,r){e.child=t===null?$S(e,null,n,r):ro(e,t.child,n,r)}function K_(t,e,n,r,i){n=n.render;var s=e.ref;return Qs(e,i),r=Xg(t,e,n,r,s,i),n=Yg(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vr(t,e,i)):(be&&n&&Fg(e),e.flags|=1,Lt(t,e,r,i),e.child)}function Q_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ay(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,mA(t,e,s,r,i)):(t=hc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:el,n(o,r)&&t.ref===e.ref)return Vr(t,e,i)}return e.flags|=1,t=ai(s,r),t.ref=e.ref,t.return=e,e.child=t}function mA(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(el(s,r)&&t.ref===e.ref)if(Yt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Yt=!0);else return e.lanes=t.lanes,Vr(t,e,i)}return qp(t,e,n,r,i)}function gA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Os,on),on|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(Os,on),on|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ce(Os,on),on|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ce(Os,on),on|=r;return Lt(t,e,i,n),e.child}function yA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qp(t,e,n,r,i){var s=Jt(n)?Qi:Nt.current;return s=to(e,s),Qs(e,i),n=Xg(t,e,n,r,s,i),r=Yg(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vr(t,e,i)):(be&&r&&Fg(e),e.flags|=1,Lt(t,e,n,i),e.child)}function X_(t,e,n,r,i){if(Jt(n)){var s=!0;Lc(e)}else s=!1;if(Qs(e,i),e.stateNode===null)lc(t,e),fA(e,n,r),zp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Rn(c):(c=Jt(n)?Qi:Nt.current,c=to(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&q_(e,o,r,c),Wr=!1;var d=e.memoizedState;o.state=d,zc(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Zt.current||Wr?(typeof h=="function"&&(Bp(e,n,h,r),l=e.memoizedState),(a=Wr||$_(e,n,a,r,d,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,WS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Dn(e.type,a),o.props=c,f=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Rn(l):(l=Jt(n)?Qi:Nt.current,l=to(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&q_(e,o,r,l),Wr=!1,d=e.memoizedState,o.state=d,zc(e,r,o,i);var v=e.memoizedState;a!==f||d!==v||Zt.current||Wr?(typeof m=="function"&&(Bp(e,n,m,r),v=e.memoizedState),(c=Wr||$_(e,n,c,r,d,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Wp(t,e,n,r,s,i)}function Wp(t,e,n,r,i,s){yA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&b_(e,n,!1),Vr(t,e,s);r=e.stateNode,AV.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ro(e,t.child,null,s),e.child=ro(e,null,a,s)):Lt(t,e,a,s),e.memoizedState=r.state,i&&b_(e,n,!0),e.child}function vA(t){var e=t.stateNode;e.pendingContext?M_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&M_(t,e.context,!1),Hg(t,e.containerInfo)}function Y_(t,e,n,r,i){return no(),jg(i),e.flags|=256,Lt(t,e,n,r),e.child}var Hp={dehydrated:null,treeContext:null,retryLane:0};function Gp(t){return{baseLanes:t,cachePool:null,transitions:null}}function _A(t,e,n){var r=e.pendingProps,i=je.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ce(je,i&1),t===null)return Up(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=tf(o,r,0,null),t=Wi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Gp(n),e.memoizedState=Hp,t):ey(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return xV(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ai(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ai(a,s):(s=Wi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Gp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Hp,r}return s=t.child,t=s.sibling,r=ai(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ey(t,e){return e=tf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ku(t,e,n,r){return r!==null&&jg(r),ro(e,t.child,null,n),t=ey(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xV(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Id(Error(W(422))),ku(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=tf({mode:"visible",children:r.children},i,0,null),s=Wi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ro(e,t.child,null,o),e.child.memoizedState=Gp(o),e.memoizedState=Hp,s);if(!(e.mode&1))return ku(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=Id(s,r,void 0),ku(t,e,o,r)}if(a=(o&t.childLanes)!==0,Yt||a){if(r=lt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,kr(t,i),Un(r,t,i,-1))}return oy(),r=Id(Error(W(421))),ku(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=FV.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,un=ri(i.nextSibling),fn=e,be=!0,Mn=null,t!==null&&(_n[wn++]=yr,_n[wn++]=vr,_n[wn++]=Xi,yr=t.id,vr=t.overflow,Xi=e),e=ey(e,r.children),e.flags|=4096,e)}function Z_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),jp(t.return,e,n)}function Cd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function wA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Lt(t,e,r.children,n),r=je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Z_(t,n,e);else if(t.tag===19)Z_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&$c(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Cd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$c(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Cd(e,!0,n,null,s);break;case"together":Cd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=ai(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ai(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PV(t,e,n){switch(e.tag){case 3:vA(e),no();break;case 5:HS(e);break;case 1:Jt(e.type)&&Lc(e);break;case 4:Hg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ce(jc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(je,je.current&1),e.flags|=128,null):n&e.child.childLanes?_A(t,e,n):(Ce(je,je.current&1),t=Vr(t,e,n),t!==null?t.sibling:null);Ce(je,je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(je,je.current),r)break;return null;case 22:case 23:return e.lanes=0,gA(t,e,n)}return Vr(t,e,n)}var EA,Kp,TA,SA;EA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Kp=function(){};TA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Bi(Jn.current);var s=null;switch(n){case"input":i=gp(t,i),r=gp(t,r),s=[];break;case"select":i=qe({},i,{value:void 0}),r=qe({},r,{value:void 0}),s=[];break;case"textarea":i=_p(t,i),r=_p(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bc)}Ep(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ga.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ga.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ve("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};SA=function(t,e,n,r){n!==r&&(e.flags|=4)};function ea(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function At(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function RV(t,e,n){var r=e.pendingProps;switch(Ug(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(e),null;case 1:return Jt(e.type)&&Oc(),At(e),null;case 3:return r=e.stateNode,io(),Ne(Zt),Ne(Nt),Kg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Iu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mn!==null&&(nm(Mn),Mn=null))),Kp(t,e),At(e),null;case 5:Gg(e);var i=Bi(sl.current);if(n=e.type,t!==null&&e.stateNode!=null)TA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return At(e),null}if(t=Bi(Jn.current),Iu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Gn]=e,r[rl]=s,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<ca.length;i++)Ve(ca[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":a_(r,s),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ve("invalid",r);break;case"textarea":u_(r,s),Ve("invalid",r)}Ep(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ru(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ru(r.textContent,a,t),i=["children",""+a]):Ga.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ve("scroll",r)}switch(n){case"input":_u(r),l_(r,s,!0);break;case"textarea":_u(r),c_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=bc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=YT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Gn]=e,t[rl]=r,EA(t,e,!1,!1),e.stateNode=t;e:{switch(o=Tp(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),i=r;break;case"iframe":case"object":case"embed":Ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<ca.length;i++)Ve(ca[i],t);i=r;break;case"source":Ve("error",t),i=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),i=r;break;case"details":Ve("toggle",t),i=r;break;case"input":a_(t,r),i=gp(t,r),Ve("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=qe({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":u_(t,r),i=_p(t,r),Ve("invalid",t);break;default:i=r}Ep(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?eS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ZT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ka(t,l):typeof l=="number"&&Ka(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ga.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ve("scroll",t):l!=null&&Ag(t,s,l,o))}switch(n){case"input":_u(t),l_(t,r,!1);break;case"textarea":_u(t),c_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+di(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ws(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ws(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=bc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return At(e),null;case 6:if(t&&e.stateNode!=null)SA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Bi(sl.current),Bi(Jn.current),Iu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gn]=e,(s=r.nodeValue!==n)&&(t=fn,t!==null))switch(t.tag){case 3:Ru(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ru(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gn]=e,e.stateNode=r}return At(e),null;case 13:if(Ne(je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&un!==null&&e.mode&1&&!(e.flags&128))BS(),no(),e.flags|=98560,s=!1;else if(s=Iu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[Gn]=e}else no(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;At(e),s=!1}else Mn!==null&&(nm(Mn),Mn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?it===0&&(it=3):oy())),e.updateQueue!==null&&(e.flags|=4),At(e),null);case 4:return io(),Kp(t,e),t===null&&tl(e.stateNode.containerInfo),At(e),null;case 10:return $g(e.type._context),At(e),null;case 17:return Jt(e.type)&&Oc(),At(e),null;case 19:if(Ne(je),s=e.memoizedState,s===null)return At(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ea(s,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$c(t),o!==null){for(e.flags|=128,ea(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(je,je.current&1|2),e.child}t=t.sibling}s.tail!==null&&Je()>oo&&(e.flags|=128,r=!0,ea(s,!1),e.lanes=4194304)}else{if(!r)if(t=$c(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ea(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!be)return At(e),null}else 2*Je()-s.renderingStartTime>oo&&n!==1073741824&&(e.flags|=128,r=!0,ea(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Je(),e.sibling=null,n=je.current,Ce(je,r?n&1|2:n&1),e):(At(e),null);case 22:case 23:return sy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?on&1073741824&&(At(e),e.subtreeFlags&6&&(e.flags|=8192)):At(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function IV(t,e){switch(Ug(e),e.tag){case 1:return Jt(e.type)&&Oc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return io(),Ne(Zt),Ne(Nt),Kg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gg(e),null;case 13:if(Ne(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));no()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(je),null;case 4:return io(),null;case 10:return $g(e.type._context),null;case 22:case 23:return sy(),null;case 24:return null;default:return null}}var Vu=!1,It=!1,CV=typeof WeakSet=="function"?WeakSet:Set,Y=null;function bs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qe(t,e,r)}else n.current=null}function Qp(t,e,n){try{n()}catch(r){Qe(t,e,r)}}var J_=!1;function kV(t,e){if(Dp=Dc,t=IS(),Lg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=t,d=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===t)break t;if(d===n&&++c===i&&(a=o),d===s&&++h===r&&(l=o),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Np={focusedElem:t,selectionRange:n},Dc=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var T=v.memoizedProps,P=v.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?T:Dn(e.type,T),P);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(A){Qe(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return v=J_,J_=!1,v}function ka(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qp(e,n,s)}i=i.next}while(i!==r)}}function Jh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Xp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AA(t){var e=t.alternate;e!==null&&(t.alternate=null,AA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gn],delete e[rl],delete e[Op],delete e[fV],delete e[dV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xA(t){return t.tag===5||t.tag===3||t.tag===4}function e1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bc));else if(r!==4&&(t=t.child,t!==null))for(Yp(t,e,n),t=t.sibling;t!==null;)Yp(t,e,n),t=t.sibling}function Zp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Zp(t,e,n),t=t.sibling;t!==null;)Zp(t,e,n),t=t.sibling}var ht=null,Nn=!1;function zr(t,e,n){for(n=n.child;n!==null;)PA(t,e,n),n=n.sibling}function PA(t,e,n){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(Wh,n)}catch{}switch(n.tag){case 5:It||bs(n,e);case 6:var r=ht,i=Nn;ht=null,zr(t,e,n),ht=r,Nn=i,ht!==null&&(Nn?(t=ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(Nn?(t=ht,n=n.stateNode,t.nodeType===8?Td(t.parentNode,n):t.nodeType===1&&Td(t,n),Za(t)):Td(ht,n.stateNode));break;case 4:r=ht,i=Nn,ht=n.stateNode.containerInfo,Nn=!0,zr(t,e,n),ht=r,Nn=i;break;case 0:case 11:case 14:case 15:if(!It&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Qp(n,e,o),i=i.next}while(i!==r)}zr(t,e,n);break;case 1:if(!It&&(bs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Qe(n,e,a)}zr(t,e,n);break;case 21:zr(t,e,n);break;case 22:n.mode&1?(It=(r=It)||n.memoizedState!==null,zr(t,e,n),It=r):zr(t,e,n);break;default:zr(t,e,n)}}function t1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new CV),e.forEach(function(r){var i=UV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ht=a.stateNode,Nn=!1;break e;case 3:ht=a.stateNode.containerInfo,Nn=!0;break e;case 4:ht=a.stateNode.containerInfo,Nn=!0;break e}a=a.return}if(ht===null)throw Error(W(160));PA(s,o,i),ht=null,Nn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Qe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)RA(e,t),e=e.sibling}function RA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vn(e,t),Wn(t),r&4){try{ka(3,t,t.return),Jh(3,t)}catch(T){Qe(t,t.return,T)}try{ka(5,t,t.return)}catch(T){Qe(t,t.return,T)}}break;case 1:Vn(e,t),Wn(t),r&512&&n!==null&&bs(n,n.return);break;case 5:if(Vn(e,t),Wn(t),r&512&&n!==null&&bs(n,n.return),t.flags&32){var i=t.stateNode;try{Ka(i,"")}catch(T){Qe(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&QT(i,s),Tp(a,o);var c=Tp(a,s);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?eS(i,f):h==="dangerouslySetInnerHTML"?ZT(i,f):h==="children"?Ka(i,f):Ag(i,h,f,c)}switch(a){case"input":yp(i,s);break;case"textarea":XT(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ws(i,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?Ws(i,!!s.multiple,s.defaultValue,!0):Ws(i,!!s.multiple,s.multiple?[]:"",!1))}i[rl]=s}catch(T){Qe(t,t.return,T)}}break;case 6:if(Vn(e,t),Wn(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){Qe(t,t.return,T)}}break;case 3:if(Vn(e,t),Wn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Za(e.containerInfo)}catch(T){Qe(t,t.return,T)}break;case 4:Vn(e,t),Wn(t);break;case 13:Vn(e,t),Wn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ry=Je())),r&4&&t1(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(It=(c=It)||h,Vn(e,t),It=c):Vn(e,t),Wn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Y=t,h=t.child;h!==null;){for(f=Y=h;Y!==null;){switch(d=Y,m=d.child,d.tag){case 0:case 11:case 14:case 15:ka(4,d,d.return);break;case 1:bs(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(T){Qe(r,n,T)}}break;case 5:bs(d,d.return);break;case 22:if(d.memoizedState!==null){r1(f);continue}}m!==null?(m.return=d,Y=m):r1(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=JT("display",o))}catch(T){Qe(t,t.return,T)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(T){Qe(t,t.return,T)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Vn(e,t),Wn(t),r&4&&t1(t);break;case 21:break;default:Vn(e,t),Wn(t)}}function Wn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xA(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ka(i,""),r.flags&=-33);var s=e1(t);Zp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=e1(t);Yp(t,a,o);break;default:throw Error(W(161))}}catch(l){Qe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function VV(t,e,n){Y=t,IA(t)}function IA(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Vu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||It;a=Vu;var c=It;if(Vu=o,(It=l)&&!c)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?i1(i):l!==null?(l.return=o,Y=l):i1(i);for(;s!==null;)Y=s,IA(s),s=s.sibling;Y=i,Vu=a,It=c}n1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):n1(t)}}function n1(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:It||Jh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!It)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Dn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&j_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}j_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Za(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}It||e.flags&512&&Xp(e)}catch(d){Qe(e,e.return,d)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function r1(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function i1(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Jh(4,e)}catch(l){Qe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Qe(e,i,l)}}var s=e.return;try{Xp(e)}catch(l){Qe(e,s,l)}break;case 5:var o=e.return;try{Xp(e)}catch(l){Qe(e,o,l)}}}catch(l){Qe(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var DV=Math.ceil,Hc=Fr.ReactCurrentDispatcher,ty=Fr.ReactCurrentOwner,xn=Fr.ReactCurrentBatchConfig,we=0,lt=null,tt=null,gt=0,on=0,Os=Ei(0),it=0,ul=null,Zi=0,ef=0,ny=0,Va=null,Qt=null,ry=0,oo=1/0,fr=null,Gc=!1,Jp=null,si=null,Du=!1,Zr=null,Kc=0,Da=0,em=null,uc=-1,cc=0;function Bt(){return we&6?Je():uc!==-1?uc:uc=Je()}function oi(t){return t.mode&1?we&2&&gt!==0?gt&-gt:mV.transition!==null?(cc===0&&(cc=fS()),cc):(t=xe,t!==0||(t=window.event,t=t===void 0?16:_S(t.type)),t):1}function Un(t,e,n,r){if(50<Da)throw Da=0,em=null,Error(W(185));Ml(t,n,r),(!(we&2)||t!==lt)&&(t===lt&&(!(we&2)&&(ef|=n),it===4&&Qr(t,gt)),en(t,r),n===1&&we===0&&!(e.mode&1)&&(oo=Je()+500,Xh&&Ti()))}function en(t,e){var n=t.callbackNode;m2(t,e);var r=Vc(t,t===lt?gt:0);if(r===0)n!==null&&d_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&d_(n),e===1)t.tag===0?pV(s1.bind(null,t)):FS(s1.bind(null,t)),cV(function(){!(we&6)&&Ti()}),n=null;else{switch(dS(r)){case 1:n=Cg;break;case 4:n=cS;break;case 16:n=kc;break;case 536870912:n=hS;break;default:n=kc}n=OA(n,CA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function CA(t,e){if(uc=-1,cc=0,we&6)throw Error(W(327));var n=t.callbackNode;if(Xs()&&t.callbackNode!==n)return null;var r=Vc(t,t===lt?gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qc(t,r);else{e=r;var i=we;we|=2;var s=VA();(lt!==t||gt!==e)&&(fr=null,oo=Je()+500,qi(t,e));do try{bV();break}catch(a){kA(t,a)}while(!0);zg(),Hc.current=s,we=i,tt!==null?e=0:(lt=null,gt=0,e=it)}if(e!==0){if(e===2&&(i=Rp(t),i!==0&&(r=i,e=tm(t,i))),e===1)throw n=ul,qi(t,0),Qr(t,r),en(t,Je()),n;if(e===6)Qr(t,r);else{if(i=t.current.alternate,!(r&30)&&!NV(i)&&(e=Qc(t,r),e===2&&(s=Rp(t),s!==0&&(r=s,e=tm(t,s))),e===1))throw n=ul,qi(t,0),Qr(t,r),en(t,Je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Ni(t,Qt,fr);break;case 3:if(Qr(t,r),(r&130023424)===r&&(e=ry+500-Je(),10<e)){if(Vc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Bt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=bp(Ni.bind(null,t,Qt,fr),e);break}Ni(t,Qt,fr);break;case 4:if(Qr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Fn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DV(r/1960))-r,10<r){t.timeoutHandle=bp(Ni.bind(null,t,Qt,fr),r);break}Ni(t,Qt,fr);break;case 5:Ni(t,Qt,fr);break;default:throw Error(W(329))}}}return en(t,Je()),t.callbackNode===n?CA.bind(null,t):null}function tm(t,e){var n=Va;return t.current.memoizedState.isDehydrated&&(qi(t,e).flags|=256),t=Qc(t,e),t!==2&&(e=Qt,Qt=n,e!==null&&nm(e)),t}function nm(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function NV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!jn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qr(t,e){for(e&=~ny,e&=~ef,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fn(e),r=1<<n;t[n]=-1,e&=~r}}function s1(t){if(we&6)throw Error(W(327));Xs();var e=Vc(t,0);if(!(e&1))return en(t,Je()),null;var n=Qc(t,e);if(t.tag!==0&&n===2){var r=Rp(t);r!==0&&(e=r,n=tm(t,r))}if(n===1)throw n=ul,qi(t,0),Qr(t,e),en(t,Je()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ni(t,Qt,fr),en(t,Je()),null}function iy(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(oo=Je()+500,Xh&&Ti())}}function Ji(t){Zr!==null&&Zr.tag===0&&!(we&6)&&Xs();var e=we;we|=1;var n=xn.transition,r=xe;try{if(xn.transition=null,xe=1,t)return t()}finally{xe=r,xn.transition=n,we=e,!(we&6)&&Ti()}}function sy(){on=Os.current,Ne(Os)}function qi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,uV(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(Ug(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Oc();break;case 3:io(),Ne(Zt),Ne(Nt),Kg();break;case 5:Gg(r);break;case 4:io();break;case 13:Ne(je);break;case 19:Ne(je);break;case 10:$g(r.type._context);break;case 22:case 23:sy()}n=n.return}if(lt=t,tt=t=ai(t.current,null),gt=on=e,it=0,ul=null,ny=ef=Zi=0,Qt=Va=null,ji!==null){for(e=0;e<ji.length;e++)if(n=ji[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ji=null}return t}function kA(t,e){do{var n=tt;try{if(zg(),oc.current=Wc,qc){for(var r=$e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qc=!1}if(Yi=0,at=rt=$e=null,Ca=!1,ol=0,ty.current=null,n===null||n.return===null){it=1,ul=e,tt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=gt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=H_(o);if(m!==null){m.flags&=-257,G_(m,o,a,s,e),m.mode&1&&W_(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var T=new Set;T.add(l),e.updateQueue=T}else v.add(l);break e}else{if(!(e&1)){W_(s,c,e),oy();break e}l=Error(W(426))}}else if(be&&a.mode&1){var P=H_(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),G_(P,o,a,s,e),jg(so(l,a));break e}}s=l=so(l,a),it!==4&&(it=2),Va===null?Va=[s]:Va.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=dA(s,l,e);U_(s,_);break e;case 1:a=l;var w=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(si===null||!si.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=pA(s,a,e);U_(s,A);break e}}s=s.return}while(s!==null)}NA(n)}catch(V){e=V,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function VA(){var t=Hc.current;return Hc.current=Wc,t===null?Wc:t}function oy(){(it===0||it===3||it===2)&&(it=4),lt===null||!(Zi&268435455)&&!(ef&268435455)||Qr(lt,gt)}function Qc(t,e){var n=we;we|=2;var r=VA();(lt!==t||gt!==e)&&(fr=null,qi(t,e));do try{MV();break}catch(i){kA(t,i)}while(!0);if(zg(),we=n,Hc.current=r,tt!==null)throw Error(W(261));return lt=null,gt=0,it}function MV(){for(;tt!==null;)DA(tt)}function bV(){for(;tt!==null&&!o2();)DA(tt)}function DA(t){var e=bA(t.alternate,t,on);t.memoizedProps=t.pendingProps,e===null?NA(t):tt=e,ty.current=null}function NA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=IV(n,e),n!==null){n.flags&=32767,tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,tt=null;return}}else if(n=RV(n,e,on),n!==null){tt=n;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);it===0&&(it=5)}function Ni(t,e,n){var r=xe,i=xn.transition;try{xn.transition=null,xe=1,OV(t,e,n,r)}finally{xn.transition=i,xe=r}return null}function OV(t,e,n,r){do Xs();while(Zr!==null);if(we&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(g2(t,s),t===lt&&(tt=lt=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Du||(Du=!0,OA(kc,function(){return Xs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xn.transition,xn.transition=null;var o=xe;xe=1;var a=we;we|=4,ty.current=null,kV(t,n),RA(n,t),nV(Np),Dc=!!Dp,Np=Dp=null,t.current=n,VV(n),a2(),we=a,xe=o,xn.transition=s}else t.current=n;if(Du&&(Du=!1,Zr=t,Kc=i),s=t.pendingLanes,s===0&&(si=null),c2(n.stateNode),en(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gc)throw Gc=!1,t=Jp,Jp=null,t;return Kc&1&&t.tag!==0&&Xs(),s=t.pendingLanes,s&1?t===em?Da++:(Da=0,em=t):Da=0,Ti(),null}function Xs(){if(Zr!==null){var t=dS(Kc),e=xn.transition,n=xe;try{if(xn.transition=null,xe=16>t?16:t,Zr===null)var r=!1;else{if(t=Zr,Zr=null,Kc=0,we&6)throw Error(W(331));var i=we;for(we|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Y=c;Y!==null;){var h=Y;switch(h.tag){case 0:case 11:case 15:ka(8,h,s)}var f=h.child;if(f!==null)f.return=h,Y=f;else for(;Y!==null;){h=Y;var d=h.sibling,m=h.return;if(AA(h),h===c){Y=null;break}if(d!==null){d.return=m,Y=d;break}Y=m}}}var v=s.alternate;if(v!==null){var T=v.child;if(T!==null){v.child=null;do{var P=T.sibling;T.sibling=null,T=P}while(T!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ka(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Y=_;break e}Y=s.return}}var w=t.current;for(Y=w;Y!==null;){o=Y;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,Y=y;else e:for(o=w;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Jh(9,a)}}catch(V){Qe(a,a.return,V)}if(a===o){Y=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,Y=A;break e}Y=a.return}}if(we=i,Ti(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(Wh,t)}catch{}r=!0}return r}finally{xe=n,xn.transition=e}}return!1}function o1(t,e,n){e=so(n,e),e=dA(t,e,1),t=ii(t,e,1),e=Bt(),t!==null&&(Ml(t,1,e),en(t,e))}function Qe(t,e,n){if(t.tag===3)o1(t,t,n);else for(;e!==null;){if(e.tag===3){o1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(si===null||!si.has(r))){t=so(n,t),t=pA(e,t,1),e=ii(e,t,1),t=Bt(),e!==null&&(Ml(e,1,t),en(e,t));break}}e=e.return}}function LV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Bt(),t.pingedLanes|=t.suspendedLanes&n,lt===t&&(gt&n)===n&&(it===4||it===3&&(gt&130023424)===gt&&500>Je()-ry?qi(t,0):ny|=n),en(t,e)}function MA(t,e){e===0&&(t.mode&1?(e=Tu,Tu<<=1,!(Tu&130023424)&&(Tu=4194304)):e=1);var n=Bt();t=kr(t,e),t!==null&&(Ml(t,e,n),en(t,n))}function FV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),MA(t,n)}function UV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),MA(t,n)}var bA;bA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zt.current)Yt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Yt=!1,PV(t,e,n);Yt=!!(t.flags&131072)}else Yt=!1,be&&e.flags&1048576&&US(e,Uc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;lc(t,e),t=e.pendingProps;var i=to(e,Nt.current);Qs(e,n),i=Xg(null,e,r,t,i,n);var s=Yg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jt(r)?(s=!0,Lc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wg(e),i.updater=Zh,e.stateNode=i,i._reactInternals=e,zp(e,r,t,n),e=Wp(null,e,r,!0,s,n)):(e.tag=0,be&&s&&Fg(e),Lt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(lc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=BV(r),t=Dn(r,t),i){case 0:e=qp(null,e,r,t,n);break e;case 1:e=X_(null,e,r,t,n);break e;case 11:e=K_(null,e,r,t,n);break e;case 14:e=Q_(null,e,r,Dn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),qp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),X_(t,e,r,i,n);case 3:e:{if(vA(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,WS(t,e),zc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=so(Error(W(423)),e),e=Y_(t,e,r,n,i);break e}else if(r!==i){i=so(Error(W(424)),e),e=Y_(t,e,r,n,i);break e}else for(un=ri(e.stateNode.containerInfo.firstChild),fn=e,be=!0,Mn=null,n=$S(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(no(),r===i){e=Vr(t,e,n);break e}Lt(t,e,r,n)}e=e.child}return e;case 5:return HS(e),t===null&&Up(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Mp(r,i)?o=null:s!==null&&Mp(r,s)&&(e.flags|=32),yA(t,e),Lt(t,e,o,n),e.child;case 6:return t===null&&Up(e),null;case 13:return _A(t,e,n);case 4:return Hg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ro(e,null,r,n):Lt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),K_(t,e,r,i,n);case 7:return Lt(t,e,e.pendingProps,n),e.child;case 8:return Lt(t,e,e.pendingProps.children,n),e.child;case 12:return Lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ce(jc,r._currentValue),r._currentValue=o,s!==null)if(jn(s.value,o)){if(s.children===i.children&&!Zt.current){e=Vr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Er(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),jp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),jp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Lt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qs(e,n),i=Rn(i),r=r(i),e.flags|=1,Lt(t,e,r,n),e.child;case 14:return r=e.type,i=Dn(r,e.pendingProps),i=Dn(r.type,i),Q_(t,e,r,i,n);case 15:return mA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Dn(r,i),lc(t,e),e.tag=1,Jt(r)?(t=!0,Lc(e)):t=!1,Qs(e,n),fA(e,r,i),zp(e,r,i,n),Wp(null,e,r,!0,t,n);case 19:return wA(t,e,n);case 22:return gA(t,e,n)}throw Error(W(156,e.tag))};function OA(t,e){return uS(t,e)}function jV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,e,n,r){return new jV(t,e,n,r)}function ay(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BV(t){if(typeof t=="function")return ay(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pg)return 11;if(t===Rg)return 14}return 2}function ai(t,e){var n=t.alternate;return n===null?(n=Sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ay(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ps:return Wi(n.children,i,s,e);case xg:o=8,i|=8;break;case fp:return t=Sn(12,n,e,i|2),t.elementType=fp,t.lanes=s,t;case dp:return t=Sn(13,n,e,i),t.elementType=dp,t.lanes=s,t;case pp:return t=Sn(19,n,e,i),t.elementType=pp,t.lanes=s,t;case HT:return tf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qT:o=10;break e;case WT:o=9;break e;case Pg:o=11;break e;case Rg:o=14;break e;case qr:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Sn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Wi(t,e,n,r){return t=Sn(7,t,r,e),t.lanes=n,t}function tf(t,e,n,r){return t=Sn(22,t,r,e),t.elementType=HT,t.lanes=n,t.stateNode={isHidden:!1},t}function kd(t,e,n){return t=Sn(6,t,null,e),t.lanes=n,t}function Vd(t,e,n){return e=Sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hd(0),this.expirationTimes=hd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ly(t,e,n,r,i,s,o,a,l){return t=new zV(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Sn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wg(s),t}function $V(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function LA(t){if(!t)return pi;t=t._reactInternals;e:{if(ls(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Jt(n))return LS(t,n,e)}return e}function FA(t,e,n,r,i,s,o,a,l){return t=ly(n,r,!0,t,i,s,o,a,l),t.context=LA(null),n=t.current,r=Bt(),i=oi(n),s=Er(r,i),s.callback=e??null,ii(n,s,i),t.current.lanes=i,Ml(t,i,r),en(t,r),t}function nf(t,e,n,r){var i=e.current,s=Bt(),o=oi(i);return n=LA(n),e.context===null?e.context=n:e.pendingContext=n,e=Er(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ii(i,e,o),t!==null&&(Un(t,i,o,s),sc(t,i,o)),o}function Xc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function a1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function uy(t,e){a1(t,e),(t=t.alternate)&&a1(t,e)}function qV(){return null}var UA=typeof reportError=="function"?reportError:function(t){console.error(t)};function cy(t){this._internalRoot=t}rf.prototype.render=cy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));nf(t,e,null,null)};rf.prototype.unmount=cy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ji(function(){nf(null,t,null,null)}),e[Cr]=null}};function rf(t){this._internalRoot=t}rf.prototype.unstable_scheduleHydration=function(t){if(t){var e=gS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Kr.length&&e!==0&&e<Kr[n].priority;n++);Kr.splice(n,0,t),n===0&&vS(t)}};function hy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function l1(){}function WV(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Xc(o);s.call(c)}}var o=FA(e,r,t,0,null,!1,!1,"",l1);return t._reactRootContainer=o,t[Cr]=o.current,tl(t.nodeType===8?t.parentNode:t),Ji(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Xc(l);a.call(c)}}var l=ly(t,0,!1,null,null,!1,!1,"",l1);return t._reactRootContainer=l,t[Cr]=l.current,tl(t.nodeType===8?t.parentNode:t),Ji(function(){nf(e,l,n,r)}),l}function of(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Xc(o);a.call(l)}}nf(e,o,t,i)}else o=WV(n,e,t,i,r);return Xc(o)}pS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ua(e.pendingLanes);n!==0&&(kg(e,n|1),en(e,Je()),!(we&6)&&(oo=Je()+500,Ti()))}break;case 13:Ji(function(){var r=kr(t,1);if(r!==null){var i=Bt();Un(r,t,1,i)}}),uy(t,1)}};Vg=function(t){if(t.tag===13){var e=kr(t,134217728);if(e!==null){var n=Bt();Un(e,t,134217728,n)}uy(t,134217728)}};mS=function(t){if(t.tag===13){var e=oi(t),n=kr(t,e);if(n!==null){var r=Bt();Un(n,t,e,r)}uy(t,e)}};gS=function(){return xe};yS=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};Ap=function(t,e,n){switch(e){case"input":if(yp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Qh(r);if(!i)throw Error(W(90));KT(r),yp(r,i)}}}break;case"textarea":XT(t,n);break;case"select":e=n.value,e!=null&&Ws(t,!!n.multiple,e,!1)}};rS=iy;iS=Ji;var HV={usingClientEntryPoint:!1,Events:[Ol,ks,Qh,tS,nS,iy]},ta={findFiberByHostInstance:Ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GV={bundleType:ta.bundleType,version:ta.version,rendererPackageName:ta.rendererPackageName,rendererConfig:ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=aS(t),t===null?null:t.stateNode},findFiberByHostInstance:ta.findFiberByHostInstance||qV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{Wh=Nu.inject(GV),Zn=Nu}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HV;mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hy(e))throw Error(W(200));return $V(t,e,null,n)};mn.createRoot=function(t,e){if(!hy(t))throw Error(W(299));var n=!1,r="",i=UA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ly(t,1,!1,null,null,n,!1,r,i),t[Cr]=e.current,tl(t.nodeType===8?t.parentNode:t),new cy(e)};mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=aS(e),t=t===null?null:t.stateNode,t};mn.flushSync=function(t){return Ji(t)};mn.hydrate=function(t,e,n){if(!sf(e))throw Error(W(200));return of(null,t,e,!0,n)};mn.hydrateRoot=function(t,e,n){if(!hy(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=UA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=FA(e,null,t,1,n??null,i,!1,s,o),t[Cr]=e.current,tl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new rf(e)};mn.render=function(t,e,n){if(!sf(e))throw Error(W(200));return of(null,t,e,!1,n)};mn.unmountComponentAtNode=function(t){if(!sf(t))throw Error(W(40));return t._reactRootContainer?(Ji(function(){of(null,null,t,!1,function(){t._reactRootContainer=null,t[Cr]=null})}),!0):!1};mn.unstable_batchedUpdates=iy;mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sf(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return of(t,e,n,!1,r)};mn.version="18.3.1-next-f1338f8080-20240426";function jA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jA)}catch(t){console.error(t)}}jA(),jT.exports=mn;var KV=jT.exports,BA,u1=KV;BA=u1.createRoot,u1.hydrateRoot;var zA={exports:{}},QV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",XV=QV,YV=XV;function $A(){}function qA(){}qA.resetWarningCache=$A;var ZV=function(){function t(r,i,s,o,a,l){if(l!==YV){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:qA,resetWarningCache:$A};return n.PropTypes=n,n};zA.exports=ZV();var JV=zA.exports;const G=IT(JV);class Vt{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const s=n[i],o=e+s,a=Math.abs(e)<Math.abs(s)?e-(o-s):s-(o-e);a&&(n[r++]=a),e=o}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,s,o=0;if(n>0){for(o=e[--n];n>0&&(r=o,i=e[--n],o=r+i,s=i-(o-r),!s););n>0&&(s<0&&e[n-1]<0||s>0&&e[n-1]>0)&&(i=s*2,r=o+i,i==r-o&&(o=r))}return o}}function*eD(t){for(const e of t)yield*e}function WA(t){return Array.from(eD(t))}function Ls(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}var re=1e-6,cl=1e-12,fe=Math.PI,Xe=fe/2,Yc=fe/4,zt=fe*2,Re=180/fe,se=fe/180,ge=Math.abs,Po=Math.atan,$t=Math.atan2,ne=Math.cos,Mu=Math.ceil,HA=Math.exp,rm=Math.hypot,Zc=Math.log,Dd=Math.pow,X=Math.sin,An=Math.sign||function(t){return t>0?1:t<0?-1:0},ut=Math.sqrt,fy=Math.tan;function GA(t){return t>1?0:t<-1?fe:Math.acos(t)}function qt(t){return t>1?Xe:t<-1?-Xe:Math.asin(t)}function c1(t){return(t=X(t/2))*t}function Be(){}function Jc(t,e){t&&f1.hasOwnProperty(t.type)&&f1[t.type](t,e)}var h1={Feature:function(t,e){Jc(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Jc(n[r].geometry,e)}},f1={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){im(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)im(n[r],e,0)},Polygon:function(t,e){d1(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)d1(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Jc(n[r],e)}};function im(t,e,n){var r=-1,i=t.length-n,s;for(e.lineStart();++r<i;)s=t[r],e.point(s[0],s[1],s[2]);e.lineEnd()}function d1(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)im(t[n],e,1);e.polygonEnd()}function bn(t,e){t&&h1.hasOwnProperty(t.type)?h1[t.type](t,e):Jc(t,e)}var eh=new Vt,th=new Vt,KA,QA,sm,om,am,sr={point:Be,lineStart:Be,lineEnd:Be,polygonStart:function(){eh=new Vt,sr.lineStart=tD,sr.lineEnd=nD},polygonEnd:function(){var t=+eh;th.add(t<0?zt+t:t),this.lineStart=this.lineEnd=this.point=Be},sphere:function(){th.add(zt)}};function tD(){sr.point=rD}function nD(){XA(KA,QA)}function rD(t,e){sr.point=XA,KA=t,QA=e,t*=se,e*=se,sm=t,om=ne(e=e/2+Yc),am=X(e)}function XA(t,e){t*=se,e*=se,e=e/2+Yc;var n=t-sm,r=n>=0?1:-1,i=r*n,s=ne(e),o=X(e),a=am*o,l=om*s+a*ne(i),c=a*r*X(i);eh.add($t(c,l)),sm=t,om=s,am=o}function iD(t){return th=new Vt,bn(t,sr),th*2}function nh(t){return[$t(t[1],t[0]),qt(t[2])]}function es(t){var e=t[0],n=t[1],r=ne(n);return[r*ne(e),r*X(e),X(n)]}function bu(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ao(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Nd(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ou(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function rh(t){var e=ut(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Ue,Xt,Ke,ln,Mi,YA,ZA,Ys,Na,Hr,Dr,pr={point:lm,lineStart:p1,lineEnd:m1,polygonStart:function(){pr.point=ex,pr.lineStart=sD,pr.lineEnd=oD,Na=new Vt,sr.polygonStart()},polygonEnd:function(){sr.polygonEnd(),pr.point=lm,pr.lineStart=p1,pr.lineEnd=m1,eh<0?(Ue=-(Ke=180),Xt=-(ln=90)):Na>re?ln=90:Na<-re&&(Xt=-90),Dr[0]=Ue,Dr[1]=Ke},sphere:function(){Ue=-(Ke=180),Xt=-(ln=90)}};function lm(t,e){Hr.push(Dr=[Ue=t,Ke=t]),e<Xt&&(Xt=e),e>ln&&(ln=e)}function JA(t,e){var n=es([t*se,e*se]);if(Ys){var r=ao(Ys,n),i=[r[1],-r[0],0],s=ao(i,r);rh(s),s=nh(s);var o=t-Mi,a=o>0?1:-1,l=s[0]*Re*a,c,h=ge(o)>180;h^(a*Mi<l&&l<a*t)?(c=s[1]*Re,c>ln&&(ln=c)):(l=(l+360)%360-180,h^(a*Mi<l&&l<a*t)?(c=-s[1]*Re,c<Xt&&(Xt=c)):(e<Xt&&(Xt=e),e>ln&&(ln=e))),h?t<Mi?an(Ue,t)>an(Ue,Ke)&&(Ke=t):an(t,Ke)>an(Ue,Ke)&&(Ue=t):Ke>=Ue?(t<Ue&&(Ue=t),t>Ke&&(Ke=t)):t>Mi?an(Ue,t)>an(Ue,Ke)&&(Ke=t):an(t,Ke)>an(Ue,Ke)&&(Ue=t)}else Hr.push(Dr=[Ue=t,Ke=t]);e<Xt&&(Xt=e),e>ln&&(ln=e),Ys=n,Mi=t}function p1(){pr.point=JA}function m1(){Dr[0]=Ue,Dr[1]=Ke,pr.point=lm,Ys=null}function ex(t,e){if(Ys){var n=t-Mi;Na.add(ge(n)>180?n+(n>0?360:-360):n)}else YA=t,ZA=e;sr.point(t,e),JA(t,e)}function sD(){sr.lineStart()}function oD(){ex(YA,ZA),sr.lineEnd(),ge(Na)>re&&(Ue=-(Ke=180)),Dr[0]=Ue,Dr[1]=Ke,Ys=null}function an(t,e){return(e-=t)<0?e+360:e}function aD(t,e){return t[0]-e[0]}function g1(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function lD(t){var e,n,r,i,s,o,a;if(ln=Ke=-(Ue=Xt=1/0),Hr=[],bn(t,pr),n=Hr.length){for(Hr.sort(aD),e=1,r=Hr[0],s=[r];e<n;++e)i=Hr[e],g1(r,i[0])||g1(r,i[1])?(an(r[0],i[1])>an(r[0],r[1])&&(r[1]=i[1]),an(i[0],r[1])>an(r[0],r[1])&&(r[0]=i[0])):s.push(r=i);for(o=-1/0,n=s.length-1,e=0,r=s[n];e<=n;r=i,++e)i=s[e],(a=an(r[1],i[0]))>o&&(o=a,Ue=i[0],Ke=r[1])}return Hr=Dr=null,Ue===1/0||Xt===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ue,Xt],[Ke,ln]]}var ha,ih,sh,oh,ah,lh,uh,ch,um,cm,hm,tx,nx,Ft,Ut,jt,On={sphere:Be,point:dy,lineStart:y1,lineEnd:v1,polygonStart:function(){On.lineStart=hD,On.lineEnd=fD},polygonEnd:function(){On.lineStart=y1,On.lineEnd=v1}};function dy(t,e){t*=se,e*=se;var n=ne(e);Fl(n*ne(t),n*X(t),X(e))}function Fl(t,e,n){++ha,sh+=(t-sh)/ha,oh+=(e-oh)/ha,ah+=(n-ah)/ha}function y1(){On.point=uD}function uD(t,e){t*=se,e*=se;var n=ne(e);Ft=n*ne(t),Ut=n*X(t),jt=X(e),On.point=cD,Fl(Ft,Ut,jt)}function cD(t,e){t*=se,e*=se;var n=ne(e),r=n*ne(t),i=n*X(t),s=X(e),o=$t(ut((o=Ut*s-jt*i)*o+(o=jt*r-Ft*s)*o+(o=Ft*i-Ut*r)*o),Ft*r+Ut*i+jt*s);ih+=o,lh+=o*(Ft+(Ft=r)),uh+=o*(Ut+(Ut=i)),ch+=o*(jt+(jt=s)),Fl(Ft,Ut,jt)}function v1(){On.point=dy}function hD(){On.point=dD}function fD(){rx(tx,nx),On.point=dy}function dD(t,e){tx=t,nx=e,t*=se,e*=se,On.point=rx;var n=ne(e);Ft=n*ne(t),Ut=n*X(t),jt=X(e),Fl(Ft,Ut,jt)}function rx(t,e){t*=se,e*=se;var n=ne(e),r=n*ne(t),i=n*X(t),s=X(e),o=Ut*s-jt*i,a=jt*r-Ft*s,l=Ft*i-Ut*r,c=rm(o,a,l),h=qt(c),f=c&&-h/c;um.add(f*o),cm.add(f*a),hm.add(f*l),ih+=h,lh+=h*(Ft+(Ft=r)),uh+=h*(Ut+(Ut=i)),ch+=h*(jt+(jt=s)),Fl(Ft,Ut,jt)}function pD(t){ha=ih=sh=oh=ah=lh=uh=ch=0,um=new Vt,cm=new Vt,hm=new Vt,bn(t,On);var e=+um,n=+cm,r=+hm,i=rm(e,n,r);return i<cl&&(e=lh,n=uh,r=ch,ih<re&&(e=sh,n=oh,r=ah),i=rm(e,n,r),i<cl)?[NaN,NaN]:[$t(n,e)*Re,qt(r/i)*Re]}function ws(t){return function(){return t}}function fm(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function dm(t,e){return[ge(t)>fe?t+Math.round(-t/zt)*zt:t,e]}dm.invert=dm;function py(t,e,n){return(t%=zt)?e||n?fm(w1(t),E1(e,n)):w1(t):e||n?E1(e,n):dm}function _1(t){return function(e,n){return e+=t,[e>fe?e-zt:e<-fe?e+zt:e,n]}}function w1(t){var e=_1(t);return e.invert=_1(-t),e}function E1(t,e){var n=ne(t),r=X(t),i=ne(e),s=X(e);function o(a,l){var c=ne(l),h=ne(a)*c,f=X(a)*c,d=X(l),m=d*n+h*r;return[$t(f*i-m*s,h*n-d*r),qt(m*i+f*s)]}return o.invert=function(a,l){var c=ne(l),h=ne(a)*c,f=X(a)*c,d=X(l),m=d*i-f*s;return[$t(f*i+d*s,h*n+m*r),qt(m*n-h*r)]},o}function ix(t){t=py(t[0]*se,t[1]*se,t.length>2?t[2]*se:0);function e(n){return n=t(n[0]*se,n[1]*se),n[0]*=Re,n[1]*=Re,n}return e.invert=function(n){return n=t.invert(n[0]*se,n[1]*se),n[0]*=Re,n[1]*=Re,n},e}function sx(t,e,n,r,i,s){if(n){var o=ne(e),a=X(e),l=r*n;i==null?(i=e+r*zt,s=e-l/2):(i=T1(o,i),s=T1(o,s),(r>0?i<s:i>s)&&(i+=r*zt));for(var c,h=i;r>0?h>s:h<s;h-=l)c=nh([o,-a*ne(h),-a*X(h)]),t.point(c[0],c[1])}}function T1(t,e){e=es(e),e[0]-=t,rh(e);var n=GA(-e[1]);return((-e[2]<0?-n:n)+zt-re)%zt}function mD(){var t=ws([0,0]),e=ws(90),n=ws(6),r,i,s={point:o};function o(l,c){r.push(l=i(l,c)),l[0]*=Re,l[1]*=Re}function a(){var l=t.apply(this,arguments),c=e.apply(this,arguments)*se,h=n.apply(this,arguments)*se;return r=[],i=py(-l[0]*se,-l[1]*se,0).invert,sx(s,c,h,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return a.center=function(l){return arguments.length?(t=typeof l=="function"?l:ws([+l[0],+l[1]]),a):t},a.radius=function(l){return arguments.length?(e=typeof l=="function"?l:ws(+l),a):e},a.precision=function(l){return arguments.length?(n=typeof l=="function"?l:ws(+l),a):n},a}function ox(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:Be,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function fc(t,e){return ge(t[0]-e[0])<re&&ge(t[1]-e[1])<re}function Lu(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function ax(t,e,n,r,i){var s=[],o=[],a,l;if(t.forEach(function(v){if(!((T=v.length-1)<=0)){var T,P=v[0],_=v[T],w;if(fc(P,_)){if(!P[2]&&!_[2]){for(i.lineStart(),a=0;a<T;++a)i.point((P=v[a])[0],P[1]);i.lineEnd();return}_[0]+=2*re}s.push(w=new Lu(P,v,null,!0)),o.push(w.o=new Lu(P,null,w,!1)),s.push(w=new Lu(_,v,null,!1)),o.push(w.o=new Lu(_,null,w,!0))}}),!!s.length){for(o.sort(e),S1(s),S1(o),a=0,l=o.length;a<l;++a)o[a].e=n=!n;for(var c=s[0],h,f;;){for(var d=c,m=!0;d.v;)if((d=d.n)===c)return;h=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(m)for(a=0,l=h.length;a<l;++a)i.point((f=h[a])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(m)for(h=d.p.z,a=h.length-1;a>=0;--a)i.point((f=h[a])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,h=d.z,m=!m}while(!d.v);i.lineEnd()}}}function S1(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Md(t){return ge(t[0])<=fe?t[0]:An(t[0])*((ge(t[0])+fe)%zt-fe)}function lx(t,e){var n=Md(e),r=e[1],i=X(r),s=[X(n),-ne(n),0],o=0,a=0,l=new Vt;i===1?r=Xe+re:i===-1&&(r=-Xe-re);for(var c=0,h=t.length;c<h;++c)if(d=(f=t[c]).length)for(var f,d,m=f[d-1],v=Md(m),T=m[1]/2+Yc,P=X(T),_=ne(T),w=0;w<d;++w,v=A,P=N,_=x,m=y){var y=f[w],A=Md(y),V=y[1]/2+Yc,N=X(V),x=ne(V),E=A-v,R=E>=0?1:-1,I=R*E,k=I>fe,D=P*N;if(l.add($t(D*R*X(I),_*x+D*ne(I))),o+=k?E+R*zt:E,k^v>=n^A>=n){var C=ao(es(m),es(y));rh(C);var b=ao(s,C);rh(b);var M=(k^E>=0?-1:1)*qt(b[2]);(r>M||r===M&&(C[0]||C[1]))&&(a+=k^E>=0?1:-1)}}return(o<-re||o<re&&l<-cl)^a&1}function ux(t,e,n,r){return function(i){var s=e(i),o=ox(),a=e(o),l=!1,c,h,f,d={point:m,lineStart:T,lineEnd:P,polygonStart:function(){d.point=_,d.lineStart=w,d.lineEnd=y,h=[],c=[]},polygonEnd:function(){d.point=m,d.lineStart=T,d.lineEnd=P,h=WA(h);var A=lx(c,r);h.length?(l||(i.polygonStart(),l=!0),ax(h,yD,A,n,i)):A&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),h=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function m(A,V){t(A,V)&&i.point(A,V)}function v(A,V){s.point(A,V)}function T(){d.point=v,s.lineStart()}function P(){d.point=m,s.lineEnd()}function _(A,V){f.push([A,V]),a.point(A,V)}function w(){a.lineStart(),f=[]}function y(){_(f[0][0],f[0][1]),a.lineEnd();var A=a.clean(),V=o.result(),N,x=V.length,E,R,I;if(f.pop(),c.push(f),f=null,!!x){if(A&1){if(R=V[0],(E=R.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),N=0;N<E;++N)i.point((I=R[N])[0],I[1]);i.lineEnd()}return}x>1&&A&2&&V.push(V.pop().concat(V.shift())),h.push(V.filter(gD))}}return d}}function gD(t){return t.length>1}function yD(t,e){return((t=t.x)[0]<0?t[1]-Xe-re:Xe-t[1])-((e=e.x)[0]<0?e[1]-Xe-re:Xe-e[1])}const pm=ux(function(){return!0},vD,wD,[-fe,-Xe]);function vD(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(s,o){var a=s>0?fe:-fe,l=ge(s-e);ge(l-fe)<re?(t.point(e,n=(n+o)/2>0?Xe:-Xe),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(a,n),t.point(s,n),i=0):r!==a&&l>=fe&&(ge(e-r)<re&&(e-=r*re),ge(s-a)<re&&(s-=a*re),n=_D(e,n,s,o),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(a,n),i=0),t.point(e=s,n=o),r=a},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function _D(t,e,n,r){var i,s,o=X(t-n);return ge(o)>re?Po((X(e)*(s=ne(r))*X(n)-X(r)*(i=ne(e))*X(t))/(i*s*o)):(e+r)/2}function wD(t,e,n,r){var i;if(t==null)i=n*Xe,r.point(-fe,i),r.point(0,i),r.point(fe,i),r.point(fe,0),r.point(fe,-i),r.point(0,-i),r.point(-fe,-i),r.point(-fe,0),r.point(-fe,i);else if(ge(t[0]-e[0])>re){var s=t[0]<e[0]?fe:-fe;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(e[0],e[1])}function cx(t){var e=ne(t),n=6*se,r=e>0,i=ge(e)>re;function s(h,f,d,m){sx(m,t,n,d,h,f)}function o(h,f){return ne(h)*ne(f)>e}function a(h){var f,d,m,v,T;return{lineStart:function(){v=m=!1,T=1},point:function(P,_){var w=[P,_],y,A=o(P,_),V=r?A?0:c(P,_):A?c(P+(P<0?fe:-fe),_):0;if(!f&&(v=m=A)&&h.lineStart(),A!==m&&(y=l(f,w),(!y||fc(f,y)||fc(w,y))&&(w[2]=1)),A!==m)T=0,A?(h.lineStart(),y=l(w,f),h.point(y[0],y[1])):(y=l(f,w),h.point(y[0],y[1],2),h.lineEnd()),f=y;else if(i&&f&&r^A){var N;!(V&d)&&(N=l(w,f,!0))&&(T=0,r?(h.lineStart(),h.point(N[0][0],N[0][1]),h.point(N[1][0],N[1][1]),h.lineEnd()):(h.point(N[1][0],N[1][1]),h.lineEnd(),h.lineStart(),h.point(N[0][0],N[0][1],3)))}A&&(!f||!fc(f,w))&&h.point(w[0],w[1]),f=w,m=A,d=V},lineEnd:function(){m&&h.lineEnd(),f=null},clean:function(){return T|(v&&m)<<1}}}function l(h,f,d){var m=es(h),v=es(f),T=[1,0,0],P=ao(m,v),_=bu(P,P),w=P[0],y=_-w*w;if(!y)return!d&&h;var A=e*_/y,V=-e*w/y,N=ao(T,P),x=Ou(T,A),E=Ou(P,V);Nd(x,E);var R=N,I=bu(x,R),k=bu(R,R),D=I*I-k*(bu(x,x)-1);if(!(D<0)){var C=ut(D),b=Ou(R,(-I-C)/k);if(Nd(b,x),b=nh(b),!d)return b;var M=h[0],L=f[0],K=h[1],F=f[1],B;L<M&&(B=M,M=L,L=B);var H=L-M,Z=ge(H-fe)<re,te=Z||H<re;if(!Z&&F<K&&(B=K,K=F,F=B),te?Z?K+F>0^b[1]<(ge(b[0]-M)<re?K:F):K<=b[1]&&b[1]<=F:H>fe^(M<=b[0]&&b[0]<=L)){var le=Ou(R,(-I+C)/k);return Nd(le,x),[b,nh(le)]}}}function c(h,f){var d=r?t:fe-t,m=0;return h<-d?m|=1:h>d&&(m|=2),f<-d?m|=4:f>d&&(m|=8),m}return ux(o,a,s,r?[0,-t]:[-fe,t-fe])}function ED(t,e,n,r,i,s){var o=t[0],a=t[1],l=e[0],c=e[1],h=0,f=1,d=l-o,m=c-a,v;if(v=n-o,!(!d&&v>0)){if(v/=d,d<0){if(v<h)return;v<f&&(f=v)}else if(d>0){if(v>f)return;v>h&&(h=v)}if(v=i-o,!(!d&&v<0)){if(v/=d,d<0){if(v>f)return;v>h&&(h=v)}else if(d>0){if(v<h)return;v<f&&(f=v)}if(v=r-a,!(!m&&v>0)){if(v/=m,m<0){if(v<h)return;v<f&&(f=v)}else if(m>0){if(v>f)return;v>h&&(h=v)}if(v=s-a,!(!m&&v<0)){if(v/=m,m<0){if(v>f)return;v>h&&(h=v)}else if(m>0){if(v<h)return;v<f&&(f=v)}return h>0&&(t[0]=o+h*d,t[1]=a+h*m),f<1&&(e[0]=o+f*d,e[1]=a+f*m),!0}}}}}var fa=1e9,Fu=-fa;function af(t,e,n,r){function i(c,h){return t<=c&&c<=n&&e<=h&&h<=r}function s(c,h,f,d){var m=0,v=0;if(c==null||(m=o(c,f))!==(v=o(h,f))||l(c,h)<0^f>0)do d.point(m===0||m===3?t:n,m>1?r:e);while((m=(m+f+4)%4)!==v);else d.point(h[0],h[1])}function o(c,h){return ge(c[0]-t)<re?h>0?0:3:ge(c[0]-n)<re?h>0?2:1:ge(c[1]-e)<re?h>0?1:0:h>0?3:2}function a(c,h){return l(c.x,h.x)}function l(c,h){var f=o(c,1),d=o(h,1);return f!==d?f-d:f===0?h[1]-c[1]:f===1?c[0]-h[0]:f===2?c[1]-h[1]:h[0]-c[0]}return function(c){var h=c,f=ox(),d,m,v,T,P,_,w,y,A,V,N,x={point:E,lineStart:D,lineEnd:C,polygonStart:I,polygonEnd:k};function E(M,L){i(M,L)&&h.point(M,L)}function R(){for(var M=0,L=0,K=m.length;L<K;++L)for(var F=m[L],B=1,H=F.length,Z=F[0],te,le,de=Z[0],ve=Z[1];B<H;++B)te=de,le=ve,Z=F[B],de=Z[0],ve=Z[1],le<=r?ve>r&&(de-te)*(r-le)>(ve-le)*(t-te)&&++M:ve<=r&&(de-te)*(r-le)<(ve-le)*(t-te)&&--M;return M}function I(){h=f,d=[],m=[],N=!0}function k(){var M=R(),L=N&&M,K=(d=WA(d)).length;(L||K)&&(c.polygonStart(),L&&(c.lineStart(),s(null,null,1,c),c.lineEnd()),K&&ax(d,a,M,s,c),c.polygonEnd()),h=c,d=m=v=null}function D(){x.point=b,m&&m.push(v=[]),V=!0,A=!1,w=y=NaN}function C(){d&&(b(T,P),_&&A&&f.rejoin(),d.push(f.result())),x.point=E,A&&h.lineEnd()}function b(M,L){var K=i(M,L);if(m&&v.push([M,L]),V)T=M,P=L,_=K,V=!1,K&&(h.lineStart(),h.point(M,L));else if(K&&A)h.point(M,L);else{var F=[w=Math.max(Fu,Math.min(fa,w)),y=Math.max(Fu,Math.min(fa,y))],B=[M=Math.max(Fu,Math.min(fa,M)),L=Math.max(Fu,Math.min(fa,L))];ED(F,B,t,e,n,r)?(A||(h.lineStart(),h.point(F[0],F[1])),h.point(B[0],B[1]),K||h.lineEnd(),N=!1):K&&(h.lineStart(),h.point(M,L),N=!1)}w=M,y=L,A=K}return x}}function TD(){var t=0,e=0,n=960,r=500,i,s,o;return o={stream:function(a){return i&&s===a?i:i=af(t,e,n,r)(s=a)},extent:function(a){return arguments.length?(t=+a[0][0],e=+a[0][1],n=+a[1][0],r=+a[1][1],i=s=null,o):[[t,e],[n,r]]}}}var mm,gm,dc,pc,lo={sphere:Be,point:Be,lineStart:SD,lineEnd:Be,polygonStart:Be,polygonEnd:Be};function SD(){lo.point=xD,lo.lineEnd=AD}function AD(){lo.point=lo.lineEnd=Be}function xD(t,e){t*=se,e*=se,gm=t,dc=X(e),pc=ne(e),lo.point=PD}function PD(t,e){t*=se,e*=se;var n=X(e),r=ne(e),i=ge(t-gm),s=ne(i),o=X(i),a=r*o,l=pc*n-dc*r*s,c=dc*n+pc*r*s;mm.add($t(ut(a*a+l*l),c)),gm=t,dc=n,pc=r}function hx(t){return mm=new Vt,bn(t,lo),+mm}var ym=[null,null],RD={type:"LineString",coordinates:ym};function hh(t,e){return ym[0]=t,ym[1]=e,hx(RD)}var A1={Feature:function(t,e){return fh(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(fh(n[r].geometry,e))return!0;return!1}},x1={Sphere:function(){return!0},Point:function(t,e){return P1(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(P1(n[r],e))return!0;return!1},LineString:function(t,e){return R1(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(R1(n[r],e))return!0;return!1},Polygon:function(t,e){return I1(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(I1(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(fh(n[r],e))return!0;return!1}};function fh(t,e){return t&&x1.hasOwnProperty(t.type)?x1[t.type](t,e):!1}function P1(t,e){return hh(t,e)===0}function R1(t,e){for(var n,r,i,s=0,o=t.length;s<o;s++){if(r=hh(t[s],e),r===0||s>0&&(i=hh(t[s],t[s-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<cl*i))return!0;n=r}return!1}function I1(t,e){return!!lx(t.map(ID),fx(e))}function ID(t){return t=t.map(fx),t.pop(),t}function fx(t){return[t[0]*se,t[1]*se]}function CD(t,e){return(t&&A1.hasOwnProperty(t.type)?A1[t.type]:fh)(t,e)}function C1(t,e,n){var r=Ls(t,e-re,n).concat(e);return function(i){return r.map(function(s){return[i,s]})}}function k1(t,e,n){var r=Ls(t,e-re,n).concat(e);return function(i){return r.map(function(s){return[s,i]})}}function my(){var t,e,n,r,i,s,o,a,l=10,c=l,h=90,f=360,d,m,v,T,P=2.5;function _(){return{type:"MultiLineString",coordinates:w()}}function w(){return Ls(Mu(r/h)*h,n,h).map(v).concat(Ls(Mu(a/f)*f,o,f).map(T)).concat(Ls(Mu(e/l)*l,t,l).filter(function(y){return ge(y%h)>re}).map(d)).concat(Ls(Mu(s/c)*c,i,c).filter(function(y){return ge(y%f)>re}).map(m))}return _.lines=function(){return w().map(function(y){return{type:"LineString",coordinates:y}})},_.outline=function(){return{type:"Polygon",coordinates:[v(r).concat(T(o).slice(1),v(n).reverse().slice(1),T(a).reverse().slice(1))]}},_.extent=function(y){return arguments.length?_.extentMajor(y).extentMinor(y):_.extentMinor()},_.extentMajor=function(y){return arguments.length?(r=+y[0][0],n=+y[1][0],a=+y[0][1],o=+y[1][1],r>n&&(y=r,r=n,n=y),a>o&&(y=a,a=o,o=y),_.precision(P)):[[r,a],[n,o]]},_.extentMinor=function(y){return arguments.length?(e=+y[0][0],t=+y[1][0],s=+y[0][1],i=+y[1][1],e>t&&(y=e,e=t,t=y),s>i&&(y=s,s=i,i=y),_.precision(P)):[[e,s],[t,i]]},_.step=function(y){return arguments.length?_.stepMajor(y).stepMinor(y):_.stepMinor()},_.stepMajor=function(y){return arguments.length?(h=+y[0],f=+y[1],_):[h,f]},_.stepMinor=function(y){return arguments.length?(l=+y[0],c=+y[1],_):[l,c]},_.precision=function(y){return arguments.length?(P=+y,d=C1(s,i,90),m=k1(e,t,P),v=C1(a,o,90),T=k1(r,n,P),_):P},_.extentMajor([[-180,-90+re],[180,90-re]]).extentMinor([[-180,-80-re],[180,80+re]])}function kD(){return my()()}function VD(t,e){var n=t[0]*se,r=t[1]*se,i=e[0]*se,s=e[1]*se,o=ne(r),a=X(r),l=ne(s),c=X(s),h=o*ne(n),f=o*X(n),d=l*ne(i),m=l*X(i),v=2*qt(ut(c1(s-r)+o*l*c1(i-n))),T=X(v),P=v?function(_){var w=X(_*=v)/T,y=X(v-_)/T,A=y*h+w*d,V=y*f+w*m,N=y*a+w*c;return[$t(V,A)*Re,$t(N,ut(A*A+V*V))*Re]}:function(){return[n*Re,r*Re]};return P.distance=v,P}const hl=t=>t;var bd=new Vt,vm=new Vt,dx,px,_m,wm,mr={point:Be,lineStart:Be,lineEnd:Be,polygonStart:function(){mr.lineStart=DD,mr.lineEnd=MD},polygonEnd:function(){mr.lineStart=mr.lineEnd=mr.point=Be,bd.add(ge(vm)),vm=new Vt},result:function(){var t=bd/2;return bd=new Vt,t}};function DD(){mr.point=ND}function ND(t,e){mr.point=mx,dx=_m=t,px=wm=e}function mx(t,e){vm.add(wm*t-_m*e),_m=t,wm=e}function MD(){mx(dx,px)}var uo=1/0,dh=uo,fl=-uo,ph=fl,mh={point:bD,lineStart:Be,lineEnd:Be,polygonStart:Be,polygonEnd:Be,result:function(){var t=[[uo,dh],[fl,ph]];return fl=ph=-(dh=uo=1/0),t}};function bD(t,e){t<uo&&(uo=t),t>fl&&(fl=t),e<dh&&(dh=e),e>ph&&(ph=e)}var Em=0,Tm=0,da=0,gh=0,yh=0,Fs=0,Sm=0,Am=0,pa=0,gx,yx,Kn,Qn,En={point:ts,lineStart:V1,lineEnd:D1,polygonStart:function(){En.lineStart=FD,En.lineEnd=UD},polygonEnd:function(){En.point=ts,En.lineStart=V1,En.lineEnd=D1},result:function(){var t=pa?[Sm/pa,Am/pa]:Fs?[gh/Fs,yh/Fs]:da?[Em/da,Tm/da]:[NaN,NaN];return Em=Tm=da=gh=yh=Fs=Sm=Am=pa=0,t}};function ts(t,e){Em+=t,Tm+=e,++da}function V1(){En.point=OD}function OD(t,e){En.point=LD,ts(Kn=t,Qn=e)}function LD(t,e){var n=t-Kn,r=e-Qn,i=ut(n*n+r*r);gh+=i*(Kn+t)/2,yh+=i*(Qn+e)/2,Fs+=i,ts(Kn=t,Qn=e)}function D1(){En.point=ts}function FD(){En.point=jD}function UD(){vx(gx,yx)}function jD(t,e){En.point=vx,ts(gx=Kn=t,yx=Qn=e)}function vx(t,e){var n=t-Kn,r=e-Qn,i=ut(n*n+r*r);gh+=i*(Kn+t)/2,yh+=i*(Qn+e)/2,Fs+=i,i=Qn*t-Kn*e,Sm+=i*(Kn+t),Am+=i*(Qn+e),pa+=i*3,ts(Kn=t,Qn=e)}function _x(t){this._context=t}_x.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,zt);break}}},result:Be};var xm=new Vt,Od,wx,Ex,ma,ga,dl={point:Be,lineStart:function(){dl.point=BD},lineEnd:function(){Od&&Tx(wx,Ex),dl.point=Be},polygonStart:function(){Od=!0},polygonEnd:function(){Od=null},result:function(){var t=+xm;return xm=new Vt,t}};function BD(t,e){dl.point=Tx,wx=ma=t,Ex=ga=e}function Tx(t,e){ma-=t,ga-=e,xm.add(ut(ma*ma+ga*ga)),ma=t,ga=e}function Sx(){this._string=[]}Sx.prototype={_radius:4.5,_circle:N1(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=N1(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function N1(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ax(t,e){var n=4.5,r,i;function s(o){return o&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),bn(o,r(i))),i.result()}return s.area=function(o){return bn(o,r(mr)),mr.result()},s.measure=function(o){return bn(o,r(dl)),dl.result()},s.bounds=function(o){return bn(o,r(mh)),mh.result()},s.centroid=function(o){return bn(o,r(En)),En.result()},s.projection=function(o){return arguments.length?(r=o==null?(t=null,hl):(t=o).stream,s):t},s.context=function(o){return arguments.length?(i=o==null?(e=null,new Sx):new _x(e=o),typeof n!="function"&&i.pointRadius(n),s):e},s.pointRadius=function(o){return arguments.length?(n=typeof o=="function"?o:(i.pointRadius(+o),+o),s):n},s.projection(t).context(e)}function zD(t){return{stream:Ul(t)}}function Ul(t){return function(e){var n=new Pm;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Pm(){}Pm.prototype={constructor:Pm,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function gy(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),bn(n,t.stream(mh)),e(mh.result()),r!=null&&t.clipExtent(r),t}function lf(t,e,n){return gy(t,function(r){var i=e[1][0]-e[0][0],s=e[1][1]-e[0][1],o=Math.min(i/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),a=+e[0][0]+(i-o*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(s-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,l])},n)}function yy(t,e,n){return lf(t,[[0,0],e],n)}function vy(t,e,n){return gy(t,function(r){var i=+e,s=i/(r[1][0]-r[0][0]),o=(i-s*(r[1][0]+r[0][0]))/2,a=-s*r[0][1];t.scale(150*s).translate([o,a])},n)}function _y(t,e,n){return gy(t,function(r){var i=+e,s=i/(r[1][1]-r[0][1]),o=-s*r[0][0],a=(i-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([o,a])},n)}var M1=16,$D=ne(30*se);function b1(t,e){return+e?WD(t,e):qD(t)}function qD(t){return Ul({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function WD(t,e){function n(r,i,s,o,a,l,c,h,f,d,m,v,T,P){var _=c-r,w=h-i,y=_*_+w*w;if(y>4*e&&T--){var A=o+d,V=a+m,N=l+v,x=ut(A*A+V*V+N*N),E=qt(N/=x),R=ge(ge(N)-1)<re||ge(s-f)<re?(s+f)/2:$t(V,A),I=t(R,E),k=I[0],D=I[1],C=k-r,b=D-i,M=w*C-_*b;(M*M/y>e||ge((_*C+w*b)/y-.5)>.3||o*d+a*m+l*v<$D)&&(n(r,i,s,o,a,l,k,D,R,A/=x,V/=x,N,T,P),P.point(k,D),n(k,D,R,A,V,N,c,h,f,d,m,v,T,P))}}return function(r){var i,s,o,a,l,c,h,f,d,m,v,T,P={point:_,lineStart:w,lineEnd:A,polygonStart:function(){r.polygonStart(),P.lineStart=V},polygonEnd:function(){r.polygonEnd(),P.lineStart=w}};function _(E,R){E=t(E,R),r.point(E[0],E[1])}function w(){f=NaN,P.point=y,r.lineStart()}function y(E,R){var I=es([E,R]),k=t(E,R);n(f,d,h,m,v,T,f=k[0],d=k[1],h=E,m=I[0],v=I[1],T=I[2],M1,r),r.point(f,d)}function A(){P.point=_,r.lineEnd()}function V(){w(),P.point=N,P.lineEnd=x}function N(E,R){y(i=E,R),s=f,o=d,a=m,l=v,c=T,P.point=y}function x(){n(f,d,h,m,v,T,s,o,i,a,l,c,M1,r),P.lineEnd=A,A()}return P}}var HD=Ul({point:function(t,e){this.stream.point(t*se,e*se)}});function GD(t){return Ul({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function KD(t,e,n,r,i){function s(o,a){return o*=r,a*=i,[e+t*o,n-t*a]}return s.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},s}function O1(t,e,n,r,i,s){if(!s)return KD(t,e,n,r,i);var o=ne(s),a=X(s),l=o*t,c=a*t,h=o/t,f=a/t,d=(a*n-o*e)/t,m=(a*e+o*n)/t;function v(T,P){return T*=r,P*=i,[l*T-c*P+e,n-c*T-l*P]}return v.invert=function(T,P){return[r*(h*T-f*P+d),i*(m-f*T-h*P)]},v}function ar(t){return wy(function(){return t})()}function wy(t){var e,n=150,r=480,i=250,s=0,o=0,a=0,l=0,c=0,h,f=0,d=1,m=1,v=null,T=pm,P=null,_,w,y,A=hl,V=.5,N,x,E,R,I;function k(M){return E(M[0]*se,M[1]*se)}function D(M){return M=E.invert(M[0],M[1]),M&&[M[0]*Re,M[1]*Re]}k.stream=function(M){return R&&I===M?R:R=HD(GD(h)(T(N(A(I=M)))))},k.preclip=function(M){return arguments.length?(T=M,v=void 0,b()):T},k.postclip=function(M){return arguments.length?(A=M,P=_=w=y=null,b()):A},k.clipAngle=function(M){return arguments.length?(T=+M?cx(v=M*se):(v=null,pm),b()):v*Re},k.clipExtent=function(M){return arguments.length?(A=M==null?(P=_=w=y=null,hl):af(P=+M[0][0],_=+M[0][1],w=+M[1][0],y=+M[1][1]),b()):P==null?null:[[P,_],[w,y]]},k.scale=function(M){return arguments.length?(n=+M,C()):n},k.translate=function(M){return arguments.length?(r=+M[0],i=+M[1],C()):[r,i]},k.center=function(M){return arguments.length?(s=M[0]%360*se,o=M[1]%360*se,C()):[s*Re,o*Re]},k.rotate=function(M){return arguments.length?(a=M[0]%360*se,l=M[1]%360*se,c=M.length>2?M[2]%360*se:0,C()):[a*Re,l*Re,c*Re]},k.angle=function(M){return arguments.length?(f=M%360*se,C()):f*Re},k.reflectX=function(M){return arguments.length?(d=M?-1:1,C()):d<0},k.reflectY=function(M){return arguments.length?(m=M?-1:1,C()):m<0},k.precision=function(M){return arguments.length?(N=b1(x,V=M*M),b()):ut(V)},k.fitExtent=function(M,L){return lf(k,M,L)},k.fitSize=function(M,L){return yy(k,M,L)},k.fitWidth=function(M,L){return vy(k,M,L)},k.fitHeight=function(M,L){return _y(k,M,L)};function C(){var M=O1(n,0,0,d,m,f).apply(null,e(s,o)),L=O1(n,r-M[0],i-M[1],d,m,f);return h=py(a,l,c),x=fm(e,L),E=fm(h,x),N=b1(x,V),b()}function b(){return R=I=null,k}return function(){return e=t.apply(this,arguments),k.invert=e.invert&&D,C()}}function Ey(t){var e=0,n=fe/3,r=wy(t),i=r(e,n);return i.parallels=function(s){return arguments.length?r(e=s[0]*se,n=s[1]*se):[e*Re,n*Re]},i}function QD(t){var e=ne(t);function n(r,i){return[r*e,X(i)/e]}return n.invert=function(r,i){return[r/e,qt(i*e)]},n}function xx(t,e){var n=X(t),r=(n+X(e))/2;if(ge(r)<re)return QD(t);var i=1+n*(2*r-n),s=ut(i)/r;function o(a,l){var c=ut(i-2*r*X(l))/r;return[c*X(a*=r),s-c*ne(a)]}return o.invert=function(a,l){var c=s-l,h=$t(a,ge(c))*An(c);return c*r<0&&(h-=fe*An(a)*An(c)),[h/r,qt((i-(a*a+c*c)*r*r)/(2*r))]},o}function vh(){return Ey(xx).scale(155.424).center([0,33.6442])}function Px(){return vh().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function XD(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function YD(){var t,e,n=Px(),r,i=vh().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,o=vh().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,c={point:function(d,m){l=[d,m]}};function h(d){var m=d[0],v=d[1];return l=null,r.point(m,v),l||(s.point(m,v),l)||(a.point(m,v),l)}h.invert=function(d){var m=n.scale(),v=n.translate(),T=(d[0]-v[0])/m,P=(d[1]-v[1])/m;return(P>=.12&&P<.234&&T>=-.425&&T<-.214?i:P>=.166&&P<.234&&T>=-.214&&T<-.115?o:n).invert(d)},h.stream=function(d){return t&&e===d?t:t=XD([n.stream(e=d),i.stream(d),o.stream(d)])},h.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),o.precision(d),f()):n.precision()},h.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),o.scale(d),h.translate(n.translate())):n.scale()},h.translate=function(d){if(!arguments.length)return n.translate();var m=n.scale(),v=+d[0],T=+d[1];return r=n.translate(d).clipExtent([[v-.455*m,T-.238*m],[v+.455*m,T+.238*m]]).stream(c),s=i.translate([v-.307*m,T+.201*m]).clipExtent([[v-.425*m+re,T+.12*m+re],[v-.214*m-re,T+.234*m-re]]).stream(c),a=o.translate([v-.205*m,T+.212*m]).clipExtent([[v-.214*m+re,T+.166*m+re],[v-.115*m-re,T+.234*m-re]]).stream(c),f()},h.fitExtent=function(d,m){return lf(h,d,m)},h.fitSize=function(d,m){return yy(h,d,m)},h.fitWidth=function(d,m){return vy(h,d,m)},h.fitHeight=function(d,m){return _y(h,d,m)};function f(){return t=e=null,h}return h.scale(1070)}function Rx(t){return function(e,n){var r=ne(e),i=ne(n),s=t(r*i);return s===1/0?[2,0]:[s*i*X(e),s*X(n)]}}function jl(t){return function(e,n){var r=ut(e*e+n*n),i=t(r),s=X(i),o=ne(i);return[$t(e*s,r*o),qt(r&&n*s/r)]}}var Ty=Rx(function(t){return ut(2/(1+t))});Ty.invert=jl(function(t){return 2*qt(t/2)});function ZD(){return ar(Ty).scale(124.75).clipAngle(180-.001)}var Sy=Rx(function(t){return(t=GA(t))&&t/X(t)});Sy.invert=jl(function(t){return t});function JD(){return ar(Sy).scale(79.4188).clipAngle(180-.001)}function Bl(t,e){return[t,Zc(fy((Xe+e)/2))]}Bl.invert=function(t,e){return[t,2*Po(HA(e))-Xe]};function eN(){return Ix(Bl).scale(961/zt)}function Ix(t){var e=ar(t),n=e.center,r=e.scale,i=e.translate,s=e.clipExtent,o=null,a,l,c;e.scale=function(f){return arguments.length?(r(f),h()):r()},e.translate=function(f){return arguments.length?(i(f),h()):i()},e.center=function(f){return arguments.length?(n(f),h()):n()},e.clipExtent=function(f){return arguments.length?(f==null?o=a=l=c=null:(o=+f[0][0],a=+f[0][1],l=+f[1][0],c=+f[1][1]),h()):o==null?null:[[o,a],[l,c]]};function h(){var f=fe*r(),d=e(ix(e.rotate()).invert([0,0]));return s(o==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:t===Bl?[[Math.max(d[0]-f,o),a],[Math.min(d[0]+f,l),c]]:[[o,Math.max(d[1]-f,a)],[l,Math.min(d[1]+f,c)]])}return h()}function Uu(t){return fy((Xe+t)/2)}function Cx(t,e){var n=ne(t),r=t===e?X(t):Zc(n/ne(e))/Zc(Uu(e)/Uu(t)),i=n*Dd(Uu(t),r)/r;if(!r)return Bl;function s(o,a){i>0?a<-Xe+re&&(a=-Xe+re):a>Xe-re&&(a=Xe-re);var l=i/Dd(Uu(a),r);return[l*X(r*o),i-l*ne(r*o)]}return s.invert=function(o,a){var l=i-a,c=An(r)*ut(o*o+l*l),h=$t(o,ge(l))*An(l);return l*r<0&&(h-=fe*An(o)*An(l)),[h/r,2*Po(Dd(i/c,1/r))-Xe]},s}function tN(){return Ey(Cx).scale(109.5).parallels([30,30])}function pl(t,e){return[t,e]}pl.invert=pl;function nN(){return ar(pl).scale(152.63)}function kx(t,e){var n=ne(t),r=t===e?X(t):(n-ne(e))/(e-t),i=n/r+t;if(ge(r)<re)return pl;function s(o,a){var l=i-a,c=r*o;return[l*X(c),i-l*ne(c)]}return s.invert=function(o,a){var l=i-a,c=$t(o,ge(l))*An(l);return l*r<0&&(c-=fe*An(o)*An(l)),[c/r,i-An(r)*ut(o*o+l*l)]},s}function rN(){return Ey(kx).scale(131.154).center([0,13.9389])}var Ma=1.340264,ba=-.081106,Oa=893e-6,La=.003796,_h=ut(3)/2,iN=12;function Ay(t,e){var n=qt(_h*X(e)),r=n*n,i=r*r*r;return[t*ne(n)/(_h*(Ma+3*ba*r+i*(7*Oa+9*La*r))),n*(Ma+ba*r+i*(Oa+La*r))]}Ay.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,s=0,o,a,l;s<iN&&(a=n*(Ma+ba*r+i*(Oa+La*r))-e,l=Ma+3*ba*r+i*(7*Oa+9*La*r),n-=o=a/l,r=n*n,i=r*r*r,!(ge(o)<cl));++s);return[_h*t*(Ma+3*ba*r+i*(7*Oa+9*La*r))/ne(n),qt(X(n)/_h)]};function sN(){return ar(Ay).scale(177.158)}function xy(t,e){var n=ne(e),r=ne(t)*n;return[n*X(t)/r,X(e)/r]}xy.invert=jl(Po);function oN(){return ar(xy).scale(144.049).clipAngle(60)}function aN(){var t=1,e=0,n=0,r=1,i=1,s=0,o,a,l=null,c,h,f,d=1,m=1,v=Ul({point:function(A,V){var N=y([A,V]);this.stream.point(N[0],N[1])}}),T=hl,P,_;function w(){return d=t*r,m=t*i,P=_=null,y}function y(A){var V=A[0]*d,N=A[1]*m;if(s){var x=N*o-V*a;V=V*o+N*a,N=x}return[V+e,N+n]}return y.invert=function(A){var V=A[0]-e,N=A[1]-n;if(s){var x=N*o+V*a;V=V*o-N*a,N=x}return[V/d,N/m]},y.stream=function(A){return P&&_===A?P:P=v(T(_=A))},y.postclip=function(A){return arguments.length?(T=A,l=c=h=f=null,w()):T},y.clipExtent=function(A){return arguments.length?(T=A==null?(l=c=h=f=null,hl):af(l=+A[0][0],c=+A[0][1],h=+A[1][0],f=+A[1][1]),w()):l==null?null:[[l,c],[h,f]]},y.scale=function(A){return arguments.length?(t=+A,w()):t},y.translate=function(A){return arguments.length?(e=+A[0],n=+A[1],w()):[e,n]},y.angle=function(A){return arguments.length?(s=A%360*se,a=X(s),o=ne(s),w()):s*Re},y.reflectX=function(A){return arguments.length?(r=A?-1:1,w()):r<0},y.reflectY=function(A){return arguments.length?(i=A?-1:1,w()):i<0},y.fitExtent=function(A,V){return lf(y,A,V)},y.fitSize=function(A,V){return yy(y,A,V)},y.fitWidth=function(A,V){return vy(y,A,V)},y.fitHeight=function(A,V){return _y(y,A,V)},y}function Py(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}Py.invert=function(t,e){var n=e,r=25,i;do{var s=n*n,o=s*s;n-=i=(n*(1.007226+s*(.015085+o*(-.044475+.028874*s-.005916*o)))-e)/(1.007226+s*(.015085*3+o*(-.044475*7+.028874*9*s-.005916*11*o)))}while(ge(i)>re&&--r>0);return[t/(.8707+(s=n*n)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),n]};function lN(){return ar(Py).scale(175.295)}function Ry(t,e){return[ne(e)*X(t),X(e)]}Ry.invert=jl(qt);function uN(){return ar(Ry).scale(249.5).clipAngle(90+re)}function Iy(t,e){var n=ne(e),r=1+ne(t)*n;return[n*X(t)/r,X(e)/r]}Iy.invert=jl(function(t){return 2*Po(t)});function cN(){return ar(Iy).scale(250).clipAngle(142)}function Cy(t,e){return[Zc(fy((Xe+e)/2)),-t]}Cy.invert=function(t,e){return[-e,2*Po(HA(t))-Xe]};function hN(){var t=Ix(Cy),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const fN=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:Px,geoAlbersUsa:YD,geoArea:iD,geoAzimuthalEqualArea:ZD,geoAzimuthalEqualAreaRaw:Ty,geoAzimuthalEquidistant:JD,geoAzimuthalEquidistantRaw:Sy,geoBounds:lD,geoCentroid:pD,geoCircle:mD,geoClipAntimeridian:pm,geoClipCircle:cx,geoClipExtent:TD,geoClipRectangle:af,geoConicConformal:tN,geoConicConformalRaw:Cx,geoConicEqualArea:vh,geoConicEqualAreaRaw:xx,geoConicEquidistant:rN,geoConicEquidistantRaw:kx,geoContains:CD,geoDistance:hh,geoEqualEarth:sN,geoEqualEarthRaw:Ay,geoEquirectangular:nN,geoEquirectangularRaw:pl,geoGnomonic:oN,geoGnomonicRaw:xy,geoGraticule:my,geoGraticule10:kD,geoIdentity:aN,geoInterpolate:VD,geoLength:hx,geoMercator:eN,geoMercatorRaw:Bl,geoNaturalEarth1:lN,geoNaturalEarth1Raw:Py,geoOrthographic:uN,geoOrthographicRaw:Ry,geoPath:Ax,geoProjection:ar,geoProjectionMutator:wy,geoRotation:ix,geoStereographic:cN,geoStereographicRaw:Iy,geoStream:bn,geoTransform:zD,geoTransverseMercator:hN,geoTransverseMercatorRaw:Cy},Symbol.toStringTag,{value:"Module"}));function dN(t){return t}function pN(t){if(t==null)return dN;var e,n,r=t.scale[0],i=t.scale[1],s=t.translate[0],o=t.translate[1];return function(a,l){l||(e=n=0);var c=2,h=a.length,f=new Array(h);for(f[0]=(e+=a[0])*r+s,f[1]=(n+=a[1])*i+o;c<h;)f[c]=a[c],++c;return f}}function mN(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function gN(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return L1(t,n)})}:L1(t,e)}function L1(t,e){var n=e.id,r=e.bbox,i=e.properties==null?{}:e.properties,s=Vx(t,e);return n==null&&r==null?{type:"Feature",properties:i,geometry:s}:r==null?{type:"Feature",id:n,properties:i,geometry:s}:{type:"Feature",id:n,bbox:r,properties:i,geometry:s}}function Vx(t,e){var n=pN(t.transform),r=t.arcs;function i(h,f){f.length&&f.pop();for(var d=r[h<0?~h:h],m=0,v=d.length;m<v;++m)f.push(n(d[m],m));h<0&&mN(f,v)}function s(h){return n(h)}function o(h){for(var f=[],d=0,m=h.length;d<m;++d)i(h[d],f);return f.length<2&&f.push(f[0]),f}function a(h){for(var f=o(h);f.length<4;)f.push(f[0]);return f}function l(h){return h.map(a)}function c(h){var f=h.type,d;switch(f){case"GeometryCollection":return{type:f,geometries:h.geometries.map(c)};case"Point":d=s(h.coordinates);break;case"MultiPoint":d=h.coordinates.map(s);break;case"LineString":d=o(h.arcs);break;case"MultiLineString":d=h.arcs.map(o);break;case"Polygon":d=l(h.arcs);break;case"MultiPolygon":d=h.arcs.map(l);break;default:return null}return{type:f,coordinates:d}}return c(e)}function yN(t,e){var n={},r={},i={},s=[],o=-1;e.forEach(function(c,h){var f=t.arcs[c<0?~c:c],d;f.length<3&&!f[1][0]&&!f[1][1]&&(d=e[++o],e[o]=c,e[h]=d)}),e.forEach(function(c){var h=a(c),f=h[0],d=h[1],m,v;if(m=i[f])if(delete i[m.end],m.push(c),m.end=d,v=r[d]){delete r[v.start];var T=v===m?m:m.concat(v);r[T.start=m.start]=i[T.end=v.end]=T}else r[m.start]=i[m.end]=m;else if(m=r[d])if(delete r[m.start],m.unshift(c),m.start=f,v=i[f]){delete i[v.end];var P=v===m?m:v.concat(m);r[P.start=v.start]=i[P.end=m.end]=P}else r[m.start]=i[m.end]=m;else m=[c],r[m.start=f]=i[m.end=d]=m});function a(c){var h=t.arcs[c<0?~c:c],f=h[0],d;return t.transform?(d=[0,0],h.forEach(function(m){d[0]+=m[0],d[1]+=m[1]})):d=h[h.length-1],c<0?[d,f]:[f,d]}function l(c,h){for(var f in c){var d=c[f];delete h[d.start],delete d.start,delete d.end,d.forEach(function(m){n[m<0?~m:m]=1}),s.push(d)}}return l(i,r),l(r,i),e.forEach(function(c){n[c<0?~c:c]||s.push([c])}),s}function F1(t){return Vx(t,vN.apply(this,arguments))}function vN(t,e,n){var r,i,s;if(arguments.length>1)r=_N(t,e,n);else for(i=0,r=new Array(s=t.arcs.length);i<s;++i)r[i]=i;return{type:"MultiLineString",arcs:yN(t,r)}}function _N(t,e,n){var r=[],i=[],s;function o(f){var d=f<0?~f:f;(i[d]||(i[d]=[])).push({i:f,g:s})}function a(f){f.forEach(o)}function l(f){f.forEach(a)}function c(f){f.forEach(l)}function h(f){switch(s=f,f.type){case"GeometryCollection":f.geometries.forEach(h);break;case"LineString":a(f.arcs);break;case"MultiLineString":case"Polygon":l(f.arcs);break;case"MultiPolygon":c(f.arcs);break}}return h(e),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}var wN={value:()=>{}};function ky(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new mc(n)}function mc(t){this._=t}function EN(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}mc.prototype=ky.prototype={constructor:mc,on:function(t,e){var n=this._,r=EN(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=TN(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=U1(n[i],t.name,e);else if(e==null)for(i in n)n[i]=U1(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new mc(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function TN(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function U1(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=wN,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Rm="http://www.w3.org/1999/xhtml";const j1={svg:"http://www.w3.org/2000/svg",xhtml:Rm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function uf(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),j1.hasOwnProperty(e)?{space:j1[e],local:t}:t}function SN(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Rm&&e.documentElement.namespaceURI===Rm?e.createElement(t):e.createElementNS(n,t)}}function AN(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Dx(t){var e=uf(t);return(e.local?AN:SN)(e)}function xN(){}function Vy(t){return t==null?xN:function(){return this.querySelector(t)}}function PN(t){typeof t!="function"&&(t=Vy(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,c,h=0;h<o;++h)(l=s[h])&&(c=t.call(l,l.__data__,h,s))&&("__data__"in l&&(c.__data__=l.__data__),a[h]=c);return new tn(r,this._parents)}function Nx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function RN(){return[]}function Mx(t){return t==null?RN:function(){return this.querySelectorAll(t)}}function IN(t){return function(){var e=t.apply(this,arguments);return e==null?[]:Nx(e)}}function CN(t){typeof t=="function"?t=IN(t):t=Mx(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(t.call(l,l.__data__,c,o)),i.push(l));return new tn(r,i)}function bx(t){return function(){return this.matches(t)}}function Ox(t){return function(e){return e.matches(t)}}var kN=Array.prototype.find;function VN(t){return function(){return kN.call(this.children,t)}}function DN(){return this.firstElementChild}function NN(t){return this.select(t==null?DN:VN(typeof t=="function"?t:Ox(t)))}var MN=Array.prototype.filter;function bN(){return this.children}function ON(t){return function(){return MN.call(this.children,t)}}function LN(t){return this.selectAll(t==null?bN:ON(typeof t=="function"?t:Ox(t)))}function FN(t){typeof t!="function"&&(t=bx(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new tn(r,this._parents)}function Lx(t){return new Array(t.length)}function UN(){return new tn(this._enter||this._groups.map(Lx),this._parents)}function wh(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}wh.prototype={constructor:wh,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function jN(t){return function(){return t}}function BN(t,e,n,r,i,s){for(var o=0,a,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new wh(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function zN(t,e,n,r,i,s,o){var a,l,c=new Map,h=e.length,f=s.length,d=new Array(h),m;for(a=0;a<h;++a)(l=e[a])&&(d[a]=m=o.call(l,l.__data__,a,e)+"",c.has(m)?i[a]=l:c.set(m,l));for(a=0;a<f;++a)m=o.call(t,s[a],a,s)+"",(l=c.get(m))?(r[a]=l,l.__data__=s[a],c.delete(m)):n[a]=new wh(t,s[a]);for(a=0;a<h;++a)(l=e[a])&&c.get(d[a])===l&&(i[a]=l)}function $N(t){return t.__data__}function qN(t,e){if(!arguments.length)return Array.from(this,$N);var n=e?zN:BN,r=this._parents,i=this._groups;typeof t!="function"&&(t=jN(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var h=r[c],f=i[c],d=f.length,m=Nx(t.call(h,h&&h.__data__,c,r)),v=m.length,T=a[c]=new Array(v),P=o[c]=new Array(v),_=l[c]=new Array(d);n(h,f,T,P,_,m,e);for(var w=0,y=0,A,V;w<v;++w)if(A=T[w]){for(w>=y&&(y=w+1);!(V=P[y])&&++y<v;);A._next=V||null}}return o=new tn(o,r),o._enter=a,o._exit=l,o}function WN(){return new tn(this._exit||this._groups.map(Lx),this._parents)}function HN(t,e,n){var r=this.enter(),i=this,s=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(i=e(i)),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function GN(t){if(!(t instanceof tn))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],c=n[a],h=l.length,f=o[a]=new Array(h),d,m=0;m<h;++m)(d=l[m]||c[m])&&(f[m]=d);for(;a<r;++a)o[a]=e[a];return new tn(o,this._parents)}function KN(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function QN(t){t||(t=XN);function e(f,d){return f&&d?t(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),c,h=0;h<a;++h)(c=o[h])&&(l[h]=c);l.sort(e)}return new tn(i,this._parents).order()}function XN(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function YN(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ZN(){return Array.from(this)}function JN(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function eM(){let t=0;for(const e of this)++t;return t}function tM(){return!this.node()}function nM(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function rM(t){return function(){this.removeAttribute(t)}}function iM(t){return function(){this.removeAttributeNS(t.space,t.local)}}function sM(t,e){return function(){this.setAttribute(t,e)}}function oM(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function aM(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function lM(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function uM(t,e){var n=uf(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?iM:rM:typeof e=="function"?n.local?lM:aM:n.local?oM:sM)(n,e))}function Fx(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function cM(t){return function(){this.style.removeProperty(t)}}function hM(t,e,n){return function(){this.style.setProperty(t,e,n)}}function fM(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function dM(t,e,n){return arguments.length>1?this.each((e==null?cM:typeof e=="function"?fM:hM)(t,e,n??"")):co(this.node(),t)}function co(t,e){return t.style.getPropertyValue(e)||Fx(t).getComputedStyle(t,null).getPropertyValue(e)}function pM(t){return function(){delete this[t]}}function mM(t,e){return function(){this[t]=e}}function gM(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function yM(t,e){return arguments.length>1?this.each((e==null?pM:typeof e=="function"?gM:mM)(t,e)):this.node()[t]}function Ux(t){return t.trim().split(/^|\s+/)}function Dy(t){return t.classList||new jx(t)}function jx(t){this._node=t,this._names=Ux(t.getAttribute("class")||"")}jx.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Bx(t,e){for(var n=Dy(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function zx(t,e){for(var n=Dy(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function vM(t){return function(){Bx(this,t)}}function _M(t){return function(){zx(this,t)}}function wM(t,e){return function(){(e.apply(this,arguments)?Bx:zx)(this,t)}}function EM(t,e){var n=Ux(t+"");if(arguments.length<2){for(var r=Dy(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?wM:e?vM:_M)(n,e))}function TM(){this.textContent=""}function SM(t){return function(){this.textContent=t}}function AM(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function xM(t){return arguments.length?this.each(t==null?TM:(typeof t=="function"?AM:SM)(t)):this.node().textContent}function PM(){this.innerHTML=""}function RM(t){return function(){this.innerHTML=t}}function IM(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function CM(t){return arguments.length?this.each(t==null?PM:(typeof t=="function"?IM:RM)(t)):this.node().innerHTML}function kM(){this.nextSibling&&this.parentNode.appendChild(this)}function VM(){return this.each(kM)}function DM(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function NM(){return this.each(DM)}function MM(t){var e=typeof t=="function"?t:Dx(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function bM(){return null}function OM(t,e){var n=typeof t=="function"?t:Dx(t),r=e==null?bM:typeof e=="function"?e:Vy(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function LM(){var t=this.parentNode;t&&t.removeChild(this)}function FM(){return this.each(LM)}function UM(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function jM(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function BM(t){return this.select(t?jM:UM)}function zM(t){return arguments.length?this.property("__data__",t):this.node().__data__}function $M(t){return function(e){t.call(this,e,this.__data__)}}function qM(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function WM(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function HM(t,e,n){return function(){var r=this.__on,i,s=$M(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function GM(t,e,n){var r=qM(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,h;l<c;++l)for(i=0,h=a[l];i<s;++i)if((o=r[i]).type===h.type&&o.name===h.name)return h.value}return}for(a=e?HM:WM,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function $x(t,e,n){var r=Fx(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function KM(t,e){return function(){return $x(this,t,e)}}function QM(t,e){return function(){return $x(this,t,e.apply(this,arguments))}}function XM(t,e){return this.each((typeof e=="function"?QM:KM)(t,e))}function*YM(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var qx=[null];function tn(t,e){this._groups=t,this._parents=e}function zl(){return new tn([[document.documentElement]],qx)}function ZM(){return this}tn.prototype=zl.prototype={constructor:tn,select:PN,selectAll:CN,selectChild:NN,selectChildren:LN,filter:FN,data:qN,enter:UN,exit:WN,join:HN,merge:GN,selection:ZM,order:KN,sort:QN,call:YN,nodes:ZN,node:JN,size:eM,empty:tM,each:nM,attr:uM,style:dM,property:yM,classed:EM,text:xM,html:CM,raise:VM,lower:NM,append:MM,insert:OM,remove:FM,clone:BM,datum:zM,on:GM,dispatch:XM,[Symbol.iterator]:YM};function gr(t){return typeof t=="string"?new tn([[document.querySelector(t)]],[document.documentElement]):new tn([[t]],qx)}function JM(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ci(t,e){if(t=JM(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function Im(t){t.preventDefault(),t.stopImmediatePropagation()}function eb(t){var e=t.document.documentElement,n=gr(t).on("dragstart.drag",Im,!0);"onselectstart"in e?n.on("selectstart.drag",Im,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function tb(t,e){var n=t.document.documentElement,r=gr(t).on("dragstart.drag",null);e&&(r.on("click.drag",Im,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ny(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Wx(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function $l(){}var ml=.7,Eh=1/ml,Zs="\\s*([+-]?\\d+)\\s*",gl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",er="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nb=/^#([0-9a-f]{3,8})$/,rb=new RegExp("^rgb\\("+[Zs,Zs,Zs]+"\\)$"),ib=new RegExp("^rgb\\("+[er,er,er]+"\\)$"),sb=new RegExp("^rgba\\("+[Zs,Zs,Zs,gl]+"\\)$"),ob=new RegExp("^rgba\\("+[er,er,er,gl]+"\\)$"),ab=new RegExp("^hsl\\("+[gl,er,er]+"\\)$"),lb=new RegExp("^hsla\\("+[gl,er,er,gl]+"\\)$"),B1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ny($l,yl,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:z1,formatHex:z1,formatHsl:ub,formatRgb:$1,toString:$1});function z1(){return this.rgb().formatHex()}function ub(){return Hx(this).formatHsl()}function $1(){return this.rgb().formatRgb()}function yl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=nb.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?q1(e):n===3?new cn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ju(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ju(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=rb.exec(t))?new cn(e[1],e[2],e[3],1):(e=ib.exec(t))?new cn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=sb.exec(t))?ju(e[1],e[2],e[3],e[4]):(e=ob.exec(t))?ju(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ab.exec(t))?G1(e[1],e[2]/100,e[3]/100,1):(e=lb.exec(t))?G1(e[1],e[2]/100,e[3]/100,e[4]):B1.hasOwnProperty(t)?q1(B1[t]):t==="transparent"?new cn(NaN,NaN,NaN,0):null}function q1(t){return new cn(t>>16&255,t>>8&255,t&255,1)}function ju(t,e,n,r){return r<=0&&(t=e=n=NaN),new cn(t,e,n,r)}function cb(t){return t instanceof $l||(t=yl(t)),t?(t=t.rgb(),new cn(t.r,t.g,t.b,t.opacity)):new cn}function Cm(t,e,n,r){return arguments.length===1?cb(t):new cn(t,e,n,r??1)}function cn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Ny(cn,Cm,Wx($l,{brighter:function(t){return t=t==null?Eh:Math.pow(Eh,t),new cn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?ml:Math.pow(ml,t),new cn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:W1,formatHex:W1,formatRgb:H1,toString:H1}));function W1(){return"#"+Ld(this.r)+Ld(this.g)+Ld(this.b)}function H1(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function Ld(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function G1(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xn(t,e,n,r)}function Hx(t){if(t instanceof Xn)return new Xn(t.h,t.s,t.l,t.opacity);if(t instanceof $l||(t=yl(t)),!t)return new Xn;if(t instanceof Xn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Xn(o,a,l,t.opacity)}function hb(t,e,n,r){return arguments.length===1?Hx(t):new Xn(t,e,n,r??1)}function Xn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ny(Xn,hb,Wx($l,{brighter:function(t){return t=t==null?Eh:Math.pow(Eh,t),new Xn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?ml:Math.pow(ml,t),new Xn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new cn(Fd(t>=240?t-240:t+120,i,r),Fd(t,i,r),Fd(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function Fd(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Gx=t=>()=>t;function fb(t,e){return function(n){return t+n*e}}function db(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function pb(t){return(t=+t)==1?Kx:function(e,n){return n-e?db(e,n,t):Gx(isNaN(e)?n:e)}}function Kx(t,e){var n=e-t;return n?fb(t,n):Gx(isNaN(t)?e:t)}const K1=function t(e){var n=pb(e);function r(i,s){var o=n((i=Cm(i)).r,(s=Cm(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=Kx(i.opacity,s.opacity);return function(h){return i.r=o(h),i.g=a(h),i.b=l(h),i.opacity=c(h),i+""}}return r.gamma=t,r}(1);function Gr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var km=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ud=new RegExp(km.source,"g");function mb(t){return function(){return t}}function gb(t){return function(e){return t(e)+""}}function yb(t,e){var n=km.lastIndex=Ud.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=km.exec(t))&&(i=Ud.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Gr(r,i)})),n=Ud.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?gb(l[0].x):mb(e):(e=l.length,function(c){for(var h=0,f;h<e;++h)a[(f=l[h]).i]=f.x(c);return a.join("")})}var Q1=180/Math.PI,Vm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Qx(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*Q1,skewX:Math.atan(l)*Q1,scaleX:o,scaleY:a}}var Bu;function vb(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Vm:Qx(e.a,e.b,e.c,e.d,e.e,e.f)}function _b(t){return t==null||(Bu||(Bu=document.createElementNS("http://www.w3.org/2000/svg","g")),Bu.setAttribute("transform",t),!(t=Bu.transform.baseVal.consolidate()))?Vm:(t=t.matrix,Qx(t.a,t.b,t.c,t.d,t.e,t.f))}function Xx(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,h,f,d,m,v){if(c!==f||h!==d){var T=m.push("translate(",null,e,null,n);v.push({i:T-4,x:Gr(c,f)},{i:T-2,x:Gr(h,d)})}else(f||d)&&m.push("translate("+f+e+d+n)}function o(c,h,f,d){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Gr(c,h)})):h&&f.push(i(f)+"rotate("+h+r)}function a(c,h,f,d){c!==h?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Gr(c,h)}):h&&f.push(i(f)+"skewX("+h+r)}function l(c,h,f,d,m,v){if(c!==f||h!==d){var T=m.push(i(m)+"scale(",null,",",null,")");v.push({i:T-4,x:Gr(c,f)},{i:T-2,x:Gr(h,d)})}else(f!==1||d!==1)&&m.push(i(m)+"scale("+f+","+d+")")}return function(c,h){var f=[],d=[];return c=t(c),h=t(h),s(c.translateX,c.translateY,h.translateX,h.translateY,f,d),o(c.rotate,h.rotate,f,d),a(c.skewX,h.skewX,f,d),l(c.scaleX,c.scaleY,h.scaleX,h.scaleY,f,d),c=h=null,function(m){for(var v=-1,T=d.length,P;++v<T;)f[(P=d[v]).i]=P.x(m);return f.join("")}}}var wb=Xx(vb,"px, ","px)","deg)"),Eb=Xx(_b,", ",")",")"),Tb=1e-12;function X1(t){return((t=Math.exp(t))+1/t)/2}function Sb(t){return((t=Math.exp(t))-1/t)/2}function Ab(t){return((t=Math.exp(2*t))-1)/(t+1)}const xb=function t(e,n,r){function i(s,o){var a=s[0],l=s[1],c=s[2],h=o[0],f=o[1],d=o[2],m=h-a,v=f-l,T=m*m+v*v,P,_;if(T<Tb)_=Math.log(d/c)/e,P=function(x){return[a+x*m,l+x*v,c*Math.exp(e*x*_)]};else{var w=Math.sqrt(T),y=(d*d-c*c+r*T)/(2*c*n*w),A=(d*d-c*c-r*T)/(2*d*n*w),V=Math.log(Math.sqrt(y*y+1)-y),N=Math.log(Math.sqrt(A*A+1)-A);_=(N-V)/e,P=function(x){var E=x*_,R=X1(V),I=c/(n*w)*(R*Ab(e*E+V)-Sb(V));return[a+I*m,l+I*v,c*R/X1(e*E+V)]}}return P.duration=_*1e3*e/Math.SQRT2,P}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return t(o,a,l)},i}(Math.SQRT2,2,4);var ho=0,ya=0,na=0,Yx=1e3,Th,va,Sh=0,ns=0,cf=0,vl=typeof performance=="object"&&performance.now?performance:Date,Zx=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function My(){return ns||(Zx(Pb),ns=vl.now()+cf)}function Pb(){ns=0}function Ah(){this._call=this._time=this._next=null}Ah.prototype=Jx.prototype={constructor:Ah,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?My():+n)+(e==null?0:+e),!this._next&&va!==this&&(va?va._next=this:Th=this,va=this),this._call=t,this._time=n,Dm()},stop:function(){this._call&&(this._call=null,this._time=1/0,Dm())}};function Jx(t,e,n){var r=new Ah;return r.restart(t,e,n),r}function Rb(){My(),++ho;for(var t=Th,e;t;)(e=ns-t._time)>=0&&t._call.call(null,e),t=t._next;--ho}function Y1(){ns=(Sh=vl.now())+cf,ho=ya=0;try{Rb()}finally{ho=0,Cb(),ns=0}}function Ib(){var t=vl.now(),e=t-Sh;e>Yx&&(cf-=e,Sh=t)}function Cb(){for(var t,e=Th,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Th=n);va=t,Dm(r)}function Dm(t){if(!ho){ya&&(ya=clearTimeout(ya));var e=t-ns;e>24?(t<1/0&&(ya=setTimeout(Y1,t-vl.now()-cf)),na&&(na=clearInterval(na))):(na||(Sh=vl.now(),na=setInterval(Ib,Yx)),ho=1,Zx(Y1))}}function Z1(t,e,n){var r=new Ah;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var kb=ky("start","end","cancel","interrupt"),Vb=[],eP=0,J1=1,Nm=2,gc=3,ew=4,Mm=5,yc=6;function hf(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;Db(t,n,{name:e,index:r,group:i,on:kb,tween:Vb,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:eP})}function by(t,e){var n=$n(t,e);if(n.state>eP)throw new Error("too late; already scheduled");return n}function lr(t,e){var n=$n(t,e);if(n.state>gc)throw new Error("too late; already running");return n}function $n(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Db(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Jx(s,0,n.time);function s(c){n.state=J1,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var h,f,d,m;if(n.state!==J1)return l();for(h in r)if(m=r[h],m.name===n.name){if(m.state===gc)return Z1(o);m.state===ew?(m.state=yc,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete r[h]):+h<e&&(m.state=yc,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete r[h])}if(Z1(function(){n.state===gc&&(n.state=ew,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=Nm,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Nm){for(n.state=gc,i=new Array(d=n.tween.length),h=0,f=-1;h<d;++h)(m=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=m);i.length=f+1}}function a(c){for(var h=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Mm,1),f=-1,d=i.length;++f<d;)i[f].call(t,h);n.state===Mm&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=yc,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function vc(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>Nm&&r.state<Mm,r.state=yc,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function Nb(t){return this.each(function(){vc(this,t)})}function Mb(t,e){var n,r;return function(){var i=lr(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function bb(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=lr(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function Ob(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=$n(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?Mb:bb)(n,t,e))}function Oy(t,e,n){var r=t._id;return t.each(function(){var i=lr(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return $n(i,r).value[e]}}function tP(t,e){var n;return(typeof e=="number"?Gr:e instanceof yl?K1:(n=yl(e))?(e=n,K1):yb)(t,e)}function Lb(t){return function(){this.removeAttribute(t)}}function Fb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ub(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function jb(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function Bb(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function zb(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function $b(t,e){var n=uf(t),r=n==="transform"?Eb:tP;return this.attrTween(t,typeof e=="function"?(n.local?zb:Bb)(n,r,Oy(this,"attr."+t,e)):e==null?(n.local?Fb:Lb)(n):(n.local?jb:Ub)(n,r,e))}function qb(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Wb(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Hb(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Wb(t,s)),n}return i._value=e,i}function Gb(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&qb(t,s)),n}return i._value=e,i}function Kb(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=uf(t);return this.tween(n,(r.local?Hb:Gb)(r,e))}function Qb(t,e){return function(){by(this,t).delay=+e.apply(this,arguments)}}function Xb(t,e){return e=+e,function(){by(this,t).delay=e}}function Yb(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Qb:Xb)(e,t)):$n(this.node(),e).delay}function Zb(t,e){return function(){lr(this,t).duration=+e.apply(this,arguments)}}function Jb(t,e){return e=+e,function(){lr(this,t).duration=e}}function eO(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Zb:Jb)(e,t)):$n(this.node(),e).duration}function tO(t,e){if(typeof e!="function")throw new Error;return function(){lr(this,t).ease=e}}function nO(t){var e=this._id;return arguments.length?this.each(tO(e,t)):$n(this.node(),e).ease}function rO(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;lr(this,t).ease=n}}function iO(t){if(typeof t!="function")throw new Error;return this.each(rO(this._id,t))}function sO(t){typeof t!="function"&&(t=bx(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new Nr(r,this._parents,this._name,this._id)}function oO(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],c=n[a],h=l.length,f=o[a]=new Array(h),d,m=0;m<h;++m)(d=l[m]||c[m])&&(f[m]=d);for(;a<r;++a)o[a]=e[a];return new Nr(o,this._parents,this._name,this._id)}function aO(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function lO(t,e,n){var r,i,s=aO(e)?by:lr;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function uO(t,e){var n=this._id;return arguments.length<2?$n(this.node(),n).on.on(t):this.each(lO(n,t,e))}function cO(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function hO(){return this.on("end.remove",cO(this._id))}function fO(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Vy(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,c=s[o]=new Array(l),h,f,d=0;d<l;++d)(h=a[d])&&(f=t.call(h,h.__data__,d,a))&&("__data__"in h&&(f.__data__=h.__data__),c[d]=f,hf(c[d],e,n,d,c,$n(h,n)));return new Nr(s,this._parents,e,n)}function dO(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Mx(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],c=l.length,h,f=0;f<c;++f)if(h=l[f]){for(var d=t.call(h,h.__data__,f,l),m,v=$n(h,n),T=0,P=d.length;T<P;++T)(m=d[T])&&hf(m,e,n,T,d,v);s.push(d),o.push(h)}return new Nr(s,o,e,n)}var pO=zl.prototype.constructor;function mO(){return new pO(this._groups,this._parents)}function gO(t,e){var n,r,i;return function(){var s=co(this,t),o=(this.style.removeProperty(t),co(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function nP(t){return function(){this.style.removeProperty(t)}}function yO(t,e,n){var r,i=n+"",s;return function(){var o=co(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function vO(t,e,n){var r,i,s;return function(){var o=co(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),co(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function _O(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var l=lr(this,t),c=l.on,h=l.value[s]==null?a||(a=nP(e)):void 0;(c!==n||i!==h)&&(r=(n=c).copy()).on(o,i=h),l.on=r}}function wO(t,e,n){var r=(t+="")=="transform"?wb:tP;return e==null?this.styleTween(t,gO(t,r)).on("end.style."+t,nP(t)):typeof e=="function"?this.styleTween(t,vO(t,r,Oy(this,"style."+t,e))).each(_O(this._id,t)):this.styleTween(t,yO(t,r,e),n).on("end.style."+t,null)}function EO(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function TO(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&EO(t,o,n)),r}return s._value=e,s}function SO(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,TO(t,e,n??""))}function AO(t){return function(){this.textContent=t}}function xO(t){return function(){var e=t(this);this.textContent=e??""}}function PO(t){return this.tween("text",typeof t=="function"?xO(Oy(this,"text",t)):AO(t==null?"":t+""))}function RO(t){return function(e){this.textContent=t.call(this,e)}}function IO(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&RO(i)),e}return r._value=t,r}function CO(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,IO(t))}function kO(){for(var t=this._name,e=this._id,n=rP(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var h=$n(l,e);hf(l,t,n,c,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Nr(r,this._parents,t,n)}function VO(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var c=lr(this,r),h=c.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),i===0&&s()})}var DO=0;function Nr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function rP(){return++DO}var ki=zl.prototype;Nr.prototype={constructor:Nr,select:fO,selectAll:dO,filter:sO,merge:oO,selection:mO,transition:kO,call:ki.call,nodes:ki.nodes,node:ki.node,size:ki.size,empty:ki.empty,each:ki.each,on:uO,attr:$b,attrTween:Kb,style:wO,styleTween:SO,text:PO,textTween:CO,remove:hO,tween:Ob,delay:Yb,duration:eO,ease:nO,easeVarying:iO,end:VO,[Symbol.iterator]:ki[Symbol.iterator]};function NO(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var MO={time:null,delay:0,duration:250,ease:NO};function bO(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function OO(t){var e,n;t instanceof Nr?(e=t._id,t=t._name):(e=rP(),(n=MO).time=My(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&hf(l,t,e,c,o,n||bO(l,e));return new Nr(r,this._parents,t,e)}zl.prototype.interrupt=Nb;zl.prototype.transition=OO;const zu=t=>()=>t;function LO(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function _r(t,e,n){this.k=t,this.x=e,this.y=n}_r.prototype={constructor:_r,scale:function(t){return t===1?this:new _r(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new _r(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ly=new _r(1,0,0);_r.prototype;function jd(t){t.stopImmediatePropagation()}function ra(t){t.preventDefault(),t.stopImmediatePropagation()}function FO(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function UO(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function tw(){return this.__zoom||Ly}function jO(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function BO(){return navigator.maxTouchPoints||"ontouchstart"in this}function zO(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function $O(){var t=FO,e=UO,n=zO,r=jO,i=BO,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=xb,c=ky("start","zoom","end"),h,f,d,m=500,v=150,T=0,P=10;function _(b){b.property("__zoom",tw).on("wheel.zoom",E).on("mousedown.zoom",R).on("dblclick.zoom",I).filter(i).on("touchstart.zoom",k).on("touchmove.zoom",D).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(b,M,L,K){var F=b.selection?b.selection():b;F.property("__zoom",tw),b!==F?V(b,M,L,K):F.interrupt().each(function(){N(this,arguments).event(K).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},_.scaleBy=function(b,M,L,K){_.scaleTo(b,function(){var F=this.__zoom.k,B=typeof M=="function"?M.apply(this,arguments):M;return F*B},L,K)},_.scaleTo=function(b,M,L,K){_.transform(b,function(){var F=e.apply(this,arguments),B=this.__zoom,H=L==null?A(F):typeof L=="function"?L.apply(this,arguments):L,Z=B.invert(H),te=typeof M=="function"?M.apply(this,arguments):M;return n(y(w(B,te),H,Z),F,o)},L,K)},_.translateBy=function(b,M,L,K){_.transform(b,function(){return n(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof L=="function"?L.apply(this,arguments):L),e.apply(this,arguments),o)},null,K)},_.translateTo=function(b,M,L,K,F){_.transform(b,function(){var B=e.apply(this,arguments),H=this.__zoom,Z=K==null?A(B):typeof K=="function"?K.apply(this,arguments):K;return n(Ly.translate(Z[0],Z[1]).scale(H.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof L=="function"?-L.apply(this,arguments):-L),B,o)},K,F)};function w(b,M){return M=Math.max(s[0],Math.min(s[1],M)),M===b.k?b:new _r(M,b.x,b.y)}function y(b,M,L){var K=M[0]-L[0]*b.k,F=M[1]-L[1]*b.k;return K===b.x&&F===b.y?b:new _r(b.k,K,F)}function A(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function V(b,M,L,K){b.on("start.zoom",function(){N(this,arguments).event(K).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(K).end()}).tween("zoom",function(){var F=this,B=arguments,H=N(F,B).event(K),Z=e.apply(F,B),te=L==null?A(Z):typeof L=="function"?L.apply(F,B):L,le=Math.max(Z[1][0]-Z[0][0],Z[1][1]-Z[0][1]),de=F.__zoom,ve=typeof M=="function"?M.apply(F,B):M,Oe=l(de.invert(te).concat(le/de.k),ve.invert(te).concat(le/ve.k));return function(Le){if(Le===1)Le=ve;else{var Gt=Oe(Le),Fe=le/Gt[2];Le=new _r(Fe,te[0]-Gt[0]*Fe,te[1]-Gt[1]*Fe)}H.zoom(null,Le)}})}function N(b,M,L){return!L&&b.__zooming||new x(b,M)}function x(b,M){this.that=b,this.args=M,this.active=0,this.sourceEvent=null,this.extent=e.apply(b,M),this.taps=0}x.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,M){return this.mouse&&b!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var M=gr(this.that).datum();c.call(b,this.that,new LO(b,{sourceEvent:this.sourceEvent,target:_,type:b,transform:this.that.__zoom,dispatch:c}),M)}};function E(b,...M){if(!t.apply(this,arguments))return;var L=N(this,M).event(b),K=this.__zoom,F=Math.max(s[0],Math.min(s[1],K.k*Math.pow(2,r.apply(this,arguments)))),B=Ci(b);if(L.wheel)(L.mouse[0][0]!==B[0]||L.mouse[0][1]!==B[1])&&(L.mouse[1]=K.invert(L.mouse[0]=B)),clearTimeout(L.wheel);else{if(K.k===F)return;L.mouse=[B,K.invert(B)],vc(this),L.start()}ra(b),L.wheel=setTimeout(H,v),L.zoom("mouse",n(y(w(K,F),L.mouse[0],L.mouse[1]),L.extent,o));function H(){L.wheel=null,L.end()}}function R(b,...M){if(d||!t.apply(this,arguments))return;var L=N(this,M,!0).event(b),K=gr(b.view).on("mousemove.zoom",te,!0).on("mouseup.zoom",le,!0),F=Ci(b,B),B=b.currentTarget,H=b.clientX,Z=b.clientY;eb(b.view),jd(b),L.mouse=[F,this.__zoom.invert(F)],vc(this),L.start();function te(de){if(ra(de),!L.moved){var ve=de.clientX-H,Oe=de.clientY-Z;L.moved=ve*ve+Oe*Oe>T}L.event(de).zoom("mouse",n(y(L.that.__zoom,L.mouse[0]=Ci(de,B),L.mouse[1]),L.extent,o))}function le(de){K.on("mousemove.zoom mouseup.zoom",null),tb(de.view,L.moved),ra(de),L.event(de).end()}}function I(b,...M){if(t.apply(this,arguments)){var L=this.__zoom,K=Ci(b.changedTouches?b.changedTouches[0]:b,this),F=L.invert(K),B=L.k*(b.shiftKey?.5:2),H=n(y(w(L,B),K,F),e.apply(this,M),o);ra(b),a>0?gr(this).transition().duration(a).call(V,H,K,b):gr(this).call(_.transform,H,K,b)}}function k(b,...M){if(t.apply(this,arguments)){var L=b.touches,K=L.length,F=N(this,M,b.changedTouches.length===K).event(b),B,H,Z,te;for(jd(b),H=0;H<K;++H)Z=L[H],te=Ci(Z,this),te=[te,this.__zoom.invert(te),Z.identifier],F.touch0?!F.touch1&&F.touch0[2]!==te[2]&&(F.touch1=te,F.taps=0):(F.touch0=te,B=!0,F.taps=1+!!h);h&&(h=clearTimeout(h)),B&&(F.taps<2&&(f=te[0],h=setTimeout(function(){h=null},m)),vc(this),F.start())}}function D(b,...M){if(this.__zooming){var L=N(this,M).event(b),K=b.changedTouches,F=K.length,B,H,Z,te;for(ra(b),B=0;B<F;++B)H=K[B],Z=Ci(H,this),L.touch0&&L.touch0[2]===H.identifier?L.touch0[0]=Z:L.touch1&&L.touch1[2]===H.identifier&&(L.touch1[0]=Z);if(H=L.that.__zoom,L.touch1){var le=L.touch0[0],de=L.touch0[1],ve=L.touch1[0],Oe=L.touch1[1],Le=(Le=ve[0]-le[0])*Le+(Le=ve[1]-le[1])*Le,Gt=(Gt=Oe[0]-de[0])*Gt+(Gt=Oe[1]-de[1])*Gt;H=w(H,Math.sqrt(Le/Gt)),Z=[(le[0]+ve[0])/2,(le[1]+ve[1])/2],te=[(de[0]+Oe[0])/2,(de[1]+Oe[1])/2]}else if(L.touch0)Z=L.touch0[0],te=L.touch0[1];else return;L.zoom("touch",n(y(H,Z,te),L.extent,o))}}function C(b,...M){if(this.__zooming){var L=N(this,M).event(b),K=b.changedTouches,F=K.length,B,H;for(jd(b),d&&clearTimeout(d),d=setTimeout(function(){d=null},m),B=0;B<F;++B)H=K[B],L.touch0&&L.touch0[2]===H.identifier?delete L.touch0:L.touch1&&L.touch1[2]===H.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(H=Ci(H,this),Math.hypot(f[0]-H[0],f[1]-H[1])<P)){var Z=gr(this).on("dblclick.zoom");Z&&Z.apply(this,arguments)}}}return _.wheelDelta=function(b){return arguments.length?(r=typeof b=="function"?b:zu(+b),_):r},_.filter=function(b){return arguments.length?(t=typeof b=="function"?b:zu(!!b),_):t},_.touchable=function(b){return arguments.length?(i=typeof b=="function"?b:zu(!!b),_):i},_.extent=function(b){return arguments.length?(e=typeof b=="function"?b:zu([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),_):e},_.scaleExtent=function(b){return arguments.length?(s[0]=+b[0],s[1]=+b[1],_):[s[0],s[1]]},_.translateExtent=function(b){return arguments.length?(o[0][0]=+b[0][0],o[1][0]=+b[1][0],o[0][1]=+b[0][1],o[1][1]=+b[1][1],_):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},_.constrain=function(b){return arguments.length?(n=b,_):n},_.duration=function(b){return arguments.length?(a=+b,_):a},_.interpolate=function(b){return arguments.length?(l=b,_):l},_.on=function(){var b=c.on.apply(c,arguments);return b===c?_:b},_.clickDistance=function(b){return arguments.length?(T=(b=+b)*b,_):Math.sqrt(T)},_.tapDistance=function(b){return arguments.length?(P=+b,_):P},_}function nw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Us(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nw(Object(n),!0).forEach(function(r){qO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function qO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nn(){return nn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nn.apply(this,arguments)}function WO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Cn(t,e){if(t==null)return{};var n=WO(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pt(t,e){return HO(t)||GO(t,e)||KO(t,e)||QO()}function HO(t){if(Array.isArray(t))return t}function GO(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function KO(t,e){if(t){if(typeof t=="string")return rw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rw(t,e)}}function rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var XO=["width","height","projection","projectionConfig"],YO=Ax,ZO=Cn(fN,["geoPath"]),ur=j.createContext(),JO=function(e){var n=e.projectionConfig,r=n===void 0?{}:n,i=e.projection,s=i===void 0?"geoEqualEarth":i,o=e.width,a=o===void 0?800:o,l=e.height,c=l===void 0?600:l,h=typeof s=="function";if(h)return s;var f=ZO[s]().translate([a/2,c/2]),d=[f.center?"center":null,f.rotate?"rotate":null,f.scale?"scale":null,f.parallels?"parallels":null];return d.forEach(function(m){m&&(f=f[m](r[m]||f[m]()))}),f},iP=function(e){var n=e.width,r=e.height,i=e.projection,s=e.projectionConfig,o=Cn(e,XO),a=s.center||[],l=pt(a,2),c=l[0],h=l[1],f=s.rotate||[],d=pt(f,3),m=d[0],v=d[1],T=d[2],P=s.parallels||[],_=pt(P,2),w=_[0],y=_[1],A=s.scale||null,V=j.useMemo(function(){return JO({projectionConfig:{center:c||c===0||h||h===0?[c,h]:null,rotate:m||m===0||v||v===0?[m,v,T]:null,parallels:w||w===0||y||y===0?[w,y]:null,scale:A},projection:i,width:n,height:r})},[n,r,i,c,h,m,v,T,w,y,A]),N=j.useCallback(V,[V]),x=j.useMemo(function(){return{width:n,height:r,projection:N,path:YO().projection(N)}},[n,r,N]);return Se.createElement(ur.Provider,nn({value:x},o))};iP.propTypes={width:G.number,height:G.number,projection:G.oneOfType([G.string,G.func]),projectionConfig:G.object};var eL=["width","height","projection","projectionConfig","className"],ff=j.forwardRef(function(t,e){var n=t.width,r=n===void 0?800:n,i=t.height,s=i===void 0?600:i,o=t.projection,a=o===void 0?"geoEqualEarth":o,l=t.projectionConfig,c=l===void 0?{}:l,h=t.className,f=h===void 0?"":h,d=Cn(t,eL);return Se.createElement(iP,{width:r,height:s,projection:a,projectionConfig:c},Se.createElement("svg",nn({ref:e,viewBox:"0 0 ".concat(r," ").concat(s),className:"rsm-svg ".concat(f)},d)))});ff.displayName="ComposableMap";ff.propTypes={width:G.number,height:G.number,projection:G.oneOfType([G.string,G.func]),projectionConfig:G.object,className:G.string};function iw(t,e,n){var r=(t*n.k-t)/2,i=(e*n.k-e)/2;return[t/2-(r+n.x)/n.k,e/2-(i+n.y)/n.k]}function tL(t){return fetch(t).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).catch(function(e){console.log("There was a problem when fetching the data: ",e)})}function sw(t,e){var n=t.type==="Topology";if(!n)return e?e(t.features||t):t.features||t;var r=gN(t,t.objects[Object.keys(t.objects)[0]]).features;return e?e(r):r}function ow(t){var e=t.type==="Topology";if(!e)return null;var n=F1(t,t.objects[Object.keys(t.objects)[0]],function(i,s){return i===s}),r=F1(t,t.objects[Object.keys(t.objects)[0]],function(i,s){return i!==s});return{outline:n,borders:r}}function nL(t,e,n){return t&&e?{outline:Us(Us({},t),{},{rsmKey:"outline",svgPath:n(t)}),borders:Us(Us({},e),{},{rsmKey:"borders",svgPath:n(e)})}:{}}function rL(t,e){return t?t.map(function(n,r){return Us(Us({},n),{},{rsmKey:"geo-".concat(r),svgPath:e(n)})}):[]}function iL(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.5,r=Array.isArray(n)?n:[n,n],i=t/2*r[0],s=e/2*r[1];return"M".concat(0,",",0," Q",-t/2-i,",").concat(-e/2+s," ").concat(-t,",").concat(-e)}function sL(t){return typeof t=="string"}function oL(t){var e=t.geography,n=t.parseGeographies,r=j.useContext(ur),i=r.path,s=j.useState({}),o=pt(s,2),a=o[0],l=o[1];j.useEffect(function(){(typeof window>"u"?"undefined":bm(window))!=="undefined"&&e&&(sL(e)?tL(e).then(function(m){m&&l({geographies:sw(m,n),mesh:ow(m)})}):l({geographies:sw(e,n),mesh:ow(e)}))},[e,n]);var c=j.useMemo(function(){var m=a.mesh||{},v=nL(m.outline,m.borders,i);return{geographies:rL(a.geographies,i),outline:v.outline,borders:v.borders}},[a,i]),h=c.geographies,f=c.outline,d=c.borders;return{geographies:h,outline:f,borders:d}}var aL=["geography","children","parseGeographies","className"],df=j.forwardRef(function(t,e){var n=t.geography,r=t.children,i=t.parseGeographies,s=t.className,o=s===void 0?"":s,a=Cn(t,aL),l=j.useContext(ur),c=l.path,h=l.projection,f=oL({geography:n,parseGeographies:i}),d=f.geographies,m=f.outline,v=f.borders;return Se.createElement("g",nn({ref:e,className:"rsm-geographies ".concat(o)},a),d&&d.length>0&&r({geographies:d,outline:m,borders:v,path:c,projection:h}))});df.displayName="Geographies";df.propTypes={geography:G.oneOfType([G.string,G.object,G.array]),children:G.func,parseGeographies:G.func,className:G.string};var lL=["geography","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],Fy=j.forwardRef(function(t,e){var n=t.geography,r=t.onMouseEnter,i=t.onMouseLeave,s=t.onMouseDown,o=t.onMouseUp,a=t.onFocus,l=t.onBlur,c=t.style,h=c===void 0?{}:c,f=t.className,d=f===void 0?"":f,m=Cn(t,lL),v=j.useState(!1),T=pt(v,2),P=T[0],_=T[1],w=j.useState(!1),y=pt(w,2),A=y[0],V=y[1];function N(D){V(!0),r&&r(D)}function x(D){V(!1),P&&_(!1),i&&i(D)}function E(D){V(!0),a&&a(D)}function R(D){V(!1),P&&_(!1),l&&l(D)}function I(D){_(!0),s&&s(D)}function k(D){_(!1),o&&o(D)}return Se.createElement("path",nn({ref:e,tabIndex:"0",className:"rsm-geography ".concat(d),d:n.svgPath,onMouseEnter:N,onMouseLeave:x,onFocus:E,onBlur:R,onMouseDown:I,onMouseUp:k,style:h[P||A?P?"pressed":"hover":"default"]},m))});Fy.displayName="Geography";Fy.propTypes={geography:G.object,onMouseEnter:G.func,onMouseLeave:G.func,onMouseDown:G.func,onMouseUp:G.func,onFocus:G.func,onBlur:G.func,style:G.object,className:G.string};var sP=j.memo(Fy),uL=["fill","stroke","step","className"],Uy=j.forwardRef(function(t,e){var n=t.fill,r=n===void 0?"transparent":n,i=t.stroke,s=i===void 0?"currentcolor":i,o=t.step,a=o===void 0?[10,10]:o,l=t.className,c=l===void 0?"":l,h=Cn(t,uL),f=j.useContext(ur),d=f.path;return Se.createElement("path",nn({ref:e,d:d(my().step(a)()),fill:r,stroke:s,className:"rsm-graticule ".concat(c)},h))});Uy.displayName="Graticule";Uy.propTypes={fill:G.string,stroke:G.string,step:G.array,className:G.string};j.memo(Uy);var cL=["value"],hL=j.createContext(),fL={x:0,y:0,k:1,transformString:"translate(0 0) scale(1)"},oP=function(e){var n=e.value,r=n===void 0?fL:n,i=Cn(e,cL);return Se.createElement(hL.Provider,nn({value:r},i))};oP.propTypes={x:G.number,y:G.number,k:G.number,transformString:G.string};function dL(t){var e=t.center,n=t.filterZoomEvent,r=t.onMoveStart,i=t.onMoveEnd,s=t.onMove,o=t.translateExtent,a=o===void 0?[[-1/0,-1/0],[1/0,1/0]]:o,l=t.scaleExtent,c=l===void 0?[1,8]:l,h=t.zoom,f=h===void 0?1:h,d=j.useContext(ur),m=d.width,v=d.height,T=d.projection,P=pt(e,2),_=P[0],w=P[1],y=j.useState({x:0,y:0,k:1}),A=pt(y,2),V=A[0],N=A[1],x=j.useRef({x:0,y:0,k:1}),E=j.useRef(),R=j.useRef(),I=j.useRef(!1),k=pt(a,2),D=k[0],C=k[1],b=pt(D,2),M=b[0],L=b[1],K=pt(C,2),F=K[0],B=K[1],H=pt(c,2),Z=H[0],te=H[1];return j.useEffect(function(){var le=gr(E.current);function de(Fe){!r||I.current||r({coordinates:T.invert(iw(m,v,Fe.transform)),zoom:Fe.transform.k},Fe)}function ve(Fe){if(!I.current){var rn=Fe.transform,qn=Fe.sourceEvent;N({x:rn.x,y:rn.y,k:rn.k,dragging:qn}),s&&s({x:rn.x,y:rn.y,zoom:rn.k,dragging:qn},Fe)}}function Oe(Fe){if(I.current){I.current=!1;return}var rn=T.invert(iw(m,v,Fe.transform)),qn=pt(rn,2),ds=qn[0],ps=qn[1];x.current={x:ds,y:ps,k:Fe.transform.k},i&&i({coordinates:[ds,ps],zoom:Fe.transform.k},Fe)}function Le(Fe){return n?n(Fe):Fe?!Fe.ctrlKey&&!Fe.button:!1}var Gt=$O().filter(Le).scaleExtent([Z,te]).translateExtent([[M,L],[F,B]]).on("start",de).on("zoom",ve).on("end",Oe);R.current=Gt,le.call(Gt)},[m,v,M,L,F,B,Z,te,T,r,s,i,n]),j.useEffect(function(){if(!(_===x.current.x&&w===x.current.y&&f===x.current.k)){var le=T([_,w]),de=le[0]*f,ve=le[1]*f,Oe=gr(E.current);I.current=!0,Oe.call(R.current.transform,Ly.translate(m/2-de,v/2-ve).scale(f)),N({x:m/2-de,y:v/2-ve,k:f}),x.current={x:_,y:w,k:f}}},[_,w,f,m,v,T]),{mapRef:E,position:V,transformString:"translate(".concat(V.x," ").concat(V.y,") scale(").concat(V.k,")")}}var pL=["center","zoom","minZoom","maxZoom","translateExtent","filterZoomEvent","onMoveStart","onMove","onMoveEnd","className"],aP=j.forwardRef(function(t,e){var n=t.center,r=n===void 0?[0,0]:n,i=t.zoom,s=i===void 0?1:i,o=t.minZoom,a=o===void 0?1:o,l=t.maxZoom,c=l===void 0?8:l,h=t.translateExtent,f=t.filterZoomEvent,d=t.onMoveStart,m=t.onMove,v=t.onMoveEnd,T=t.className,P=Cn(t,pL),_=j.useContext(ur),w=_.width,y=_.height,A=dL({center:r,filterZoomEvent:f,onMoveStart:d,onMove:m,onMoveEnd:v,scaleExtent:[a,c],translateExtent:h,zoom:s}),V=A.mapRef,N=A.transformString,x=A.position;return Se.createElement(oP,{value:{x:x.x,y:x.y,k:x.k,transformString:N}},Se.createElement("g",{ref:V},Se.createElement("rect",{width:w,height:y,fill:"transparent"}),Se.createElement("g",nn({ref:e,transform:N,className:"rsm-zoomable-group ".concat(T)},P))))});aP.displayName="ZoomableGroup";aP.propTypes={center:G.array,zoom:G.number,minZoom:G.number,maxZoom:G.number,translateExtent:G.arrayOf(G.array),onMoveStart:G.func,onMove:G.func,onMoveEnd:G.func,className:G.string};var mL=["id","fill","stroke","strokeWidth","className"],jy=j.forwardRef(function(t,e){var n=t.id,r=n===void 0?"rsm-sphere":n,i=t.fill,s=i===void 0?"transparent":i,o=t.stroke,a=o===void 0?"currentcolor":o,l=t.strokeWidth,c=l===void 0?.5:l,h=t.className,f=h===void 0?"":h,d=Cn(t,mL),m=j.useContext(ur),v=m.path,T=j.useMemo(function(){return v({type:"Sphere"})},[v]);return Se.createElement(j.Fragment,null,Se.createElement("defs",null,Se.createElement("clipPath",{id:r},Se.createElement("path",{d:T}))),Se.createElement("path",nn({ref:e,d:T,fill:s,stroke:a,strokeWidth:c,style:{pointerEvents:"none"},className:"rsm-sphere ".concat(f)},d)))});jy.displayName="Sphere";jy.propTypes={id:G.string,fill:G.string,stroke:G.string,strokeWidth:G.number,className:G.string};j.memo(jy);var gL=["coordinates","children","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],lP=j.forwardRef(function(t,e){var n=t.coordinates,r=t.children,i=t.onMouseEnter,s=t.onMouseLeave,o=t.onMouseDown,a=t.onMouseUp,l=t.onFocus,c=t.onBlur,h=t.style,f=h===void 0?{}:h,d=t.className,m=d===void 0?"":d,v=Cn(t,gL),T=j.useContext(ur),P=T.projection,_=j.useState(!1),w=pt(_,2),y=w[0],A=w[1],V=j.useState(!1),N=pt(V,2),x=N[0],E=N[1],R=P(n),I=pt(R,2),k=I[0],D=I[1];function C(B){E(!0),i&&i(B)}function b(B){E(!1),y&&A(!1),s&&s(B)}function M(B){E(!0),l&&l(B)}function L(B){E(!1),y&&A(!1),c&&c(B)}function K(B){A(!0),o&&o(B)}function F(B){A(!1),a&&a(B)}return Se.createElement("g",nn({ref:e,transform:"translate(".concat(k,", ").concat(D,")"),className:"rsm-marker ".concat(m),onMouseEnter:C,onMouseLeave:b,onFocus:M,onBlur:L,onMouseDown:K,onMouseUp:F,style:f[y||x?y?"pressed":"hover":"default"]},v),r)});lP.displayName="Marker";lP.propTypes={coordinates:G.array,children:G.oneOfType([G.node,G.arrayOf(G.node)]),onMouseEnter:G.func,onMouseLeave:G.func,onMouseDown:G.func,onMouseUp:G.func,onFocus:G.func,onBlur:G.func,style:G.object,className:G.string};var yL=["from","to","coordinates","stroke","strokeWidth","fill","className"],uP=j.forwardRef(function(t,e){var n=t.from,r=n===void 0?[0,0]:n,i=t.to,s=i===void 0?[0,0]:i,o=t.coordinates,a=t.stroke,l=a===void 0?"currentcolor":a,c=t.strokeWidth,h=c===void 0?3:c,f=t.fill,d=f===void 0?"transparent":f,m=t.className,v=m===void 0?"":m,T=Cn(t,yL),P=j.useContext(ur),_=P.path,w={type:"LineString",coordinates:o||[r,s]};return Se.createElement("path",nn({ref:e,d:_(w),className:"rsm-line ".concat(v),stroke:l,strokeWidth:h,fill:d},T))});uP.displayName="Line";uP.propTypes={from:G.array,to:G.array,coordinates:G.array,stroke:G.string,strokeWidth:G.number,fill:G.string,className:G.string};var vL=["subject","children","connectorProps","dx","dy","curve","className"],cP=j.forwardRef(function(t,e){var n=t.subject,r=t.children,i=t.connectorProps,s=t.dx,o=s===void 0?30:s,a=t.dy,l=a===void 0?30:a,c=t.curve,h=c===void 0?0:c,f=t.className,d=f===void 0?"":f,m=Cn(t,vL),v=j.useContext(ur),T=v.projection,P=T(n),_=pt(P,2),w=_[0],y=_[1],A=iL(o,l,h);return Se.createElement("g",nn({ref:e,transform:"translate(".concat(w+o,", ").concat(y+l,")"),className:"rsm-annotation ".concat(d)},m),Se.createElement("path",nn({d:A,fill:"transparent",stroke:"#000"},i)),r)});cP.displayName="Annotation";cP.propTypes={subject:G.array,children:G.oneOfType([G.node,G.arrayOf(G.node)]),dx:G.number,dy:G.number,curve:G.number,connectorProps:G.object,className:G.string};const aw=["#d2b48c","#c19a6b","#b38b6d","#9b7653","#8b5e3c"],hP=()=>aw[Math.floor(Math.random()*aw.length)],_L="/features.json",wL=({onCountryClick:t})=>$.jsx("div",{style:{width:"100%",height:"100vh",margin:0,padding:0},children:$.jsx(ff,{projection:"geoMercator",projectionConfig:{scale:130,center:[-3,40]},style:{width:"100%",height:"100%"},children:$.jsx(df,{geography:_L,children:({geographies:e})=>e.map(n=>{const r=hP();return $.jsx(sP,{className:"zona",geography:n,onClick:()=>{t&&t(n)},style:{default:{fill:r,outline:"none",stroke:"#503e28",strokeWidth:.5},hover:{fill:"#503e28",outline:"none",stroke:"none"},pressed:{fill:"#6c8699",outline:"none",stroke:"none"}}},n.rsmKey)})})})});var fP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},lw=Se.createContext&&Se.createContext(fP),EL=["attr","size","title"];function TL(t,e){if(t==null)return{};var n=SL(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xh(){return xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xh.apply(this,arguments)}function uw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ph(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uw(Object(n),!0).forEach(function(r){AL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AL(t,e,n){return e=xL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xL(t){var e=PL(t,"string");return typeof e=="symbol"?e:e+""}function PL(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dP(t){return t&&t.map((e,n)=>Se.createElement(e.tag,Ph({key:n},e.attr),dP(e.child)))}function pf(t){return e=>Se.createElement(RL,xh({attr:Ph({},t.attr)},e),dP(t.child))}function RL(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=TL(t,EL),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Se.createElement("svg",xh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Ph(Ph({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Se.createElement("title",null,s),t.children)};return lw!==void 0?Se.createElement(lw.Consumer,null,n=>e(n)):e(fP)}function IL(t){return pf({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M368.5 240H272v-96.5c0-8.8-7.2-16-16-16s-16 7.2-16 16V240h-96.5c-8.8 0-16 7.2-16 16 0 4.4 1.8 8.4 4.7 11.3 2.9 2.9 6.9 4.7 11.3 4.7H240v96.5c0 4.4 1.8 8.4 4.7 11.3 2.9 2.9 6.9 4.7 11.3 4.7 8.8 0 16-7.2 16-16V272h96.5c8.8 0 16-7.2 16-16s-7.2-16-16-16z"},child:[]}]})(t)}function CL(t){return pf({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"},child:[]}]})(t)}function By(t){return pf({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"},child:[]}]})(t)}function kL(t){return pf({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"},child:[]}]})(t)}var cw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},VL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},mP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(d=64)),r.push(n[h],n[f],n[d],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new DL;const d=s<<2|a>>4;if(r.push(d),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const v=c<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NL=function(t){const e=pP(t);return mP.encodeByteArray(e,!0)},Rh=function(t){return NL(t).replace(/\./g,"")},ML=function(t){try{return mP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=()=>bL().__FIREBASE_DEFAULTS__,LL=()=>{if(typeof process>"u"||typeof cw>"u")return;const t=cw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ML(t[1]);return e&&JSON.parse(e)},zy=()=>{try{return OL()||LL()||FL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UL=t=>{var e,n;return(n=(e=zy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gP=t=>{const e=UL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yP=()=>{var t;return(t=zy())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rh(JSON.stringify(n)),Rh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zL(){var t;const e=(t=zy())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $L(){return!zL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qL(){try{return typeof indexedDB=="object"}catch{return!1}}function WL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL="FirebaseError";class us extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=HL,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_P.prototype.create)}}class _P{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?GL(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new us(i,a,r)}}function GL(t,e){return t.replace(KL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const KL=/\{\$([^}]+)}/g;function Om(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(hw(s)&&hw(o)){if(!Om(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function hw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t){return t&&t._delegate?t._delegate:t}class fo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YL(e))try{this.getOrInitializeService({instanceIdentifier:bi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bi){return this.instances.has(e)}getOptions(e=bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bi){return this.component?this.component.multipleInstances?e:bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XL(t){return t===bi?void 0:t}function YL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const JL={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},e4=_e.INFO,t4={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},n4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=t4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wP{constructor(e){this.name=e,this._logLevel=e4,this._logHandler=n4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const r4=(t,e)=>e.some(n=>t instanceof n);let fw,dw;function i4(){return fw||(fw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s4(){return dw||(dw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EP=new WeakMap,Lm=new WeakMap,TP=new WeakMap,Bd=new WeakMap,$y=new WeakMap;function o4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(li(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&EP.set(n,t)}).catch(()=>{}),$y.set(e,t),e}function a4(t){if(Lm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Lm.set(t,e)}let Fm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return li(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function l4(t){Fm=t(Fm)}function u4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zd(this),e,...n);return TP.set(r,e.sort?e.sort():[e]),li(r)}:s4().includes(t)?function(...e){return t.apply(zd(this),e),li(EP.get(this))}:function(...e){return li(t.apply(zd(this),e))}}function c4(t){return typeof t=="function"?u4(t):(t instanceof IDBTransaction&&a4(t),r4(t,i4())?new Proxy(t,Fm):t)}function li(t){if(t instanceof IDBRequest)return o4(t);if(Bd.has(t))return Bd.get(t);const e=c4(t);return e!==t&&(Bd.set(t,e),$y.set(e,t)),e}const zd=t=>$y.get(t);function h4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=li(o);return r&&o.addEventListener("upgradeneeded",l=>{r(li(o.result),l.oldVersion,l.newVersion,li(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const f4=["get","getKey","getAll","getAllKeys","count"],d4=["put","add","delete","clear"],$d=new Map;function pw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($d.get(e))return $d.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=d4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||f4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return $d.set(e,s),s}l4(t=>({...t,get:(e,n,r)=>pw(e,n)||t.get(e,n,r),has:(e,n)=>!!pw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(m4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function m4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Um="@firebase/app",mw="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new wP("@firebase/app"),g4="@firebase/app-compat",y4="@firebase/analytics-compat",v4="@firebase/analytics",_4="@firebase/app-check-compat",w4="@firebase/app-check",E4="@firebase/auth",T4="@firebase/auth-compat",S4="@firebase/database",A4="@firebase/database-compat",x4="@firebase/functions",P4="@firebase/functions-compat",R4="@firebase/installations",I4="@firebase/installations-compat",C4="@firebase/messaging",k4="@firebase/messaging-compat",V4="@firebase/performance",D4="@firebase/performance-compat",N4="@firebase/remote-config",M4="@firebase/remote-config-compat",b4="@firebase/storage",O4="@firebase/storage-compat",L4="@firebase/firestore",F4="@firebase/vertexai-preview",U4="@firebase/firestore-compat",j4="firebase",B4="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="[DEFAULT]",z4={[Um]:"fire-core",[g4]:"fire-core-compat",[v4]:"fire-analytics",[y4]:"fire-analytics-compat",[w4]:"fire-app-check",[_4]:"fire-app-check-compat",[E4]:"fire-auth",[T4]:"fire-auth-compat",[S4]:"fire-rtdb",[A4]:"fire-rtdb-compat",[x4]:"fire-fn",[P4]:"fire-fn-compat",[R4]:"fire-iid",[I4]:"fire-iid-compat",[C4]:"fire-fcm",[k4]:"fire-fcm-compat",[V4]:"fire-perf",[D4]:"fire-perf-compat",[N4]:"fire-rc",[M4]:"fire-rc-compat",[b4]:"fire-gcs",[O4]:"fire-gcs-compat",[L4]:"fire-fst",[U4]:"fire-fst-compat",[F4]:"fire-vertex","fire-js":"fire-js",[j4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Map,$4=new Map,Bm=new Map;function gw(t,e){try{t.container.addComponent(e)}catch(n){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _l(t){const e=t.name;if(Bm.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;Bm.set(e,t);for(const n of Ih.values())gw(n,t);for(const n of $4.values())gw(n,t);return!0}function SP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ui=new _P("app","Firebase",q4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=B4;function xP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ui.create("bad-app-name",{appName:String(i)});if(n||(n=yP()),!n)throw ui.create("no-options");const s=Ih.get(i);if(s){if(Om(n,s.options)&&Om(r,s.config))return s;throw ui.create("duplicate-app",{appName:i})}const o=new ZL(i);for(const l of Bm.values())o.addComponent(l);const a=new W4(n,r,o);return Ih.set(i,a),a}function PP(t=jm){const e=Ih.get(t);if(!e&&t===jm&&yP())return xP();if(!e)throw ui.create("no-app",{appName:t});return e}function ci(t,e,n){var r;let i=(r=z4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(a.join(" "));return}_l(new fo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4="firebase-heartbeat-database",G4=1,wl="firebase-heartbeat-store";let qd=null;function RP(){return qd||(qd=h4(H4,G4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wl)}catch(n){console.warn(n)}}}}).catch(t=>{throw ui.create("idb-open",{originalErrorMessage:t.message})})),qd}async function K4(t){try{const n=(await RP()).transaction(wl),r=await n.objectStore(wl).get(IP(t));return await n.done,r}catch(e){if(e instanceof us)Mr.warn(e.message);else{const n=ui.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mr.warn(n.message)}}}async function yw(t,e){try{const r=(await RP()).transaction(wl,"readwrite");await r.objectStore(wl).put(e,IP(t)),await r.done}catch(n){if(n instanceof us)Mr.warn(n.message);else{const r=ui.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mr.warn(r.message)}}}function IP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=1024,X4=30*24*60*60*1e3;class Y4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new J4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=X4}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Mr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vw(),{heartbeatsToSend:r,unsentEntries:i}=Z4(this._heartbeatsCache.heartbeats),s=Rh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Mr.warn(n),""}}}function vw(){return new Date().toISOString().substring(0,10)}function Z4(t,e=Q4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),_w(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_w(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class J4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qL()?WL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await K4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return yw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _w(t){return Rh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t){_l(new fo("platform-logger",e=>new p4(e),"PRIVATE")),_l(new fo("heartbeat",e=>new Y4(e),"PRIVATE")),ci(Um,mw,t),ci(Um,mw,"esm2017"),ci("fire-js","")}eF("");var tF="firebase",nF="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci(tF,nF,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="firebasestorage.googleapis.com",kP="storageBucket",rF=2*60*1e3,iF=10*60*1e3,sF=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He extends us{constructor(e,n,r=0){super(Wd(e),`Firebase Storage: ${n} (${Wd(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,He.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Me;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Me||(Me={}));function Wd(t){return"storage/"+t}function qy(){const t="An unknown error occurred, please check the error payload for server response.";return new He(Me.UNKNOWN,t)}function oF(t){return new He(Me.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function aF(t){return new He(Me.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function lF(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new He(Me.UNAUTHENTICATED,t)}function uF(){return new He(Me.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function cF(t){return new He(Me.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function VP(){return new He(Me.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DP(){return new He(Me.CANCELED,"User canceled the upload/download.")}function hF(t){return new He(Me.INVALID_URL,"Invalid URL '"+t+"'.")}function fF(t){return new He(Me.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function dF(){return new He(Me.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kP+"' property when initializing the app?")}function NP(){return new He(Me.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pF(){return new He(Me.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function mF(){return new He(Me.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gF(t){return new He(Me.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function zm(t){return new He(Me.INVALID_ARGUMENT,t)}function MP(){return new He(Me.APP_DELETED,"The Firebase app was deleted.")}function yF(t){return new He(Me.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Fa(t,e){return new He(Me.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ia(t){throw new He(Me.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=hn.makeFromUrl(e,n)}catch{return new hn(e,"")}if(r.path==="")return r;throw fF(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(A){A.path_=decodeURIComponent(A.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${h}/b/${i}/o${d}`,"i"),v={bucket:1,path:3},T=n===CP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",_=new RegExp(`^https?://${T}/${i}/${P}`,"i"),y=[{regex:a,indices:l,postModify:s},{regex:m,indices:v,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<y.length;A++){const V=y[A],N=V.regex.exec(e);if(N){const x=N[V.indices.bucket];let E=N[V.indices.path];E||(E=""),r=new hn(x,E),V.postModify(r);break}}if(r==null)throw hF(e);return r}}class vF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function h(...P){c||(c=!0,e.apply(null,P))}function f(P){i=setTimeout(()=>{i=null,t(m,l())},P)}function d(){s&&clearTimeout(s)}function m(P,..._){if(c){d();return}if(P){d(),h.call(null,P,..._);return}if(l()||o){d(),h.call(null,P,..._);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,f(y)}let v=!1;function T(P){v||(v=!0,d(),!c&&(i!==null?(P||(a=2),clearTimeout(i),f(0)):P||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,T(!0)},n),T}function wF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(t){return t!==void 0}function TF(t){return typeof t=="function"}function SF(t){return typeof t=="object"&&!Array.isArray(t)}function mf(t){return typeof t=="string"||t instanceof String}function ww(t){return Wy()&&t instanceof Blob}function Wy(){return typeof Blob<"u"}function Ew(t,e,n,r){if(r<e)throw zm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw zm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function bP(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Hi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Hi||(Hi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n,r,i,s,o,a,l,c,h,f,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,v)=>{this.resolve_=m,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new $u(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Hi.NO_ERROR,l=s.getStatus();if(!a||OP(l,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===Hi.ABORT;r(!1,new $u(!1,null,h));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new $u(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());EF(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=qy();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?MP():DP();o(l)}else{const l=VP();o(l)}};this.canceled_?n(!1,new $u(!1,null,!0)):this.backoffId_=_F(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $u{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function xF(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function PF(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function RF(t,e){e&&(t["X-Firebase-GMPID"]=e)}function IF(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function CF(t,e,n,r,i,s,o=!0){const a=bP(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return RF(c,e),xF(c,n),PF(c,s),IF(c,r),new AF(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function VF(...t){const e=kF();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Wy())return new Blob(t);throw new He(Me.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function DF(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(t){if(typeof atob>"u")throw gF("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hd{constructor(e,n){this.data=e,this.contentType=n||null}}function MF(t,e){switch(t){case Yn.RAW:return new Hd(LP(e));case Yn.BASE64:case Yn.BASE64URL:return new Hd(FP(t,e));case Yn.DATA_URL:return new Hd(OF(e),LF(e))}throw qy()}function LP(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function bF(t){let e;try{e=decodeURIComponent(t)}catch{throw Fa(Yn.DATA_URL,"Malformed data URL.")}return LP(e)}function FP(t,e){switch(t){case Yn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Fa(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Yn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Fa(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=NF(e)}catch(i){throw i.message.includes("polyfill")?i:Fa(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class UP{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Fa(Yn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=FF(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function OF(t){const e=new UP(t);return e.base64?FP(Yn.BASE64,e.rest):bF(e.rest)}function LF(t){return new UP(t).contentType}function FF(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n){let r=0,i="";ww(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(ww(this.data_)){const r=this.data_,i=DF(r,e,n);return i===null?null:new Xr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Xr(r,!0)}}static getBlob(...e){if(Wy()){const n=e.map(r=>r instanceof Xr?r.data_:r);return new Xr(VF.apply(null,n))}else{const n=e.map(o=>mf(o)?MF(Yn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Xr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(t){let e;try{e=JSON.parse(t)}catch{return null}return SF(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function jF(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function BP(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(t,e){return e}class Ot{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||BF}}let qu=null;function zF(t){return!mf(t)||t.length<2?t:BP(t)}function zP(){if(qu)return qu;const t=[];t.push(new Ot("bucket")),t.push(new Ot("generation")),t.push(new Ot("metageneration")),t.push(new Ot("name","fullPath",!0));function e(s,o){return zF(o)}const n=new Ot("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Ot("size");return i.xform=r,t.push(i),t.push(new Ot("timeCreated")),t.push(new Ot("updated")),t.push(new Ot("md5Hash",null,!0)),t.push(new Ot("cacheControl",null,!0)),t.push(new Ot("contentDisposition",null,!0)),t.push(new Ot("contentEncoding",null,!0)),t.push(new Ot("contentLanguage",null,!0)),t.push(new Ot("contentType",null,!0)),t.push(new Ot("metadata","customMetadata",!0)),qu=t,qu}function $F(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new hn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function qF(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return $F(r,t),r}function $P(t,e,n){const r=jP(e);return r===null?null:qF(t,r,n)}function WF(t,e,n,r){const i=jP(e);if(i===null||!mf(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const h=t.bucket,f=t.fullPath,d="/b/"+o(h)+"/o/"+o(f),m=Ro(d,n,r),v=bP({alt:"media",token:c});return m+v})[0]}function qP(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class cs{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t){if(!t)throw qy()}function Hy(t,e){function n(r,i){const s=$P(t,i,e);return Tr(s!==null),s}return n}function HF(t,e){function n(r,i){const s=$P(t,i,e);return Tr(s!==null),WF(s,i,t.host,t._protocol)}return n}function ql(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=uF():i=lF():n.getStatus()===402?i=aF(t.bucket):n.getStatus()===403?i=cF(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Gy(t){const e=ql(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=oF(t.path)),s.serverResponse=i.serverResponse,s}return n}function GF(t,e,n){const r=e.fullServerUrl(),i=Ro(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new cs(i,s,Hy(t,n),o);return a.errorHandler=Gy(e),a}function KF(t,e,n){const r=e.fullServerUrl(),i=Ro(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new cs(i,s,HF(t,n),o);return a.errorHandler=Gy(e),a}function QF(t,e){const n=e.fullServerUrl(),r=Ro(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,c){}const a=new cs(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=Gy(e),a}function XF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function WP(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=XF(null,e)),r}function YF(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let A=0;A<2;A++)y=y+Math.random().toString().slice(2);return y}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=WP(e,r,i),h=qP(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,d=`\r
--`+l+"--",m=Xr.getBlob(f,r,d);if(m===null)throw NP();const v={name:c.fullPath},T=Ro(s,t.host,t._protocol),P="POST",_=t.maxUploadRetryTime,w=new cs(T,P,Hy(t,n),_);return w.urlParams=v,w.headers=o,w.body=m.uploadData(),w.errorHandler=ql(e),w}class Ch{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function Ky(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Tr(!1)}return Tr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function ZF(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=WP(e,r,i),a={name:o.fullPath},l=Ro(s,t.host,t._protocol),c="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},f=qP(o,n),d=t.maxUploadRetryTime;function m(T){Ky(T);let P;try{P=T.getResponseHeader("X-Goog-Upload-URL")}catch{Tr(!1)}return Tr(mf(P)),P}const v=new cs(l,c,m,d);return v.urlParams=a,v.headers=h,v.body=f,v.errorHandler=ql(e),v}function JF(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(c){const h=Ky(c,["active","final"]);let f=null;try{f=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Tr(!1)}f||Tr(!1);const d=Number(f);return Tr(!isNaN(d)),new Ch(d,r.size(),h==="final")}const o="POST",a=t.maxUploadRetryTime,l=new cs(n,o,s,a);return l.headers=i,l.errorHandler=ql(e),l}const Tw=256*1024;function e9(t,e,n,r,i,s,o,a){const l=new Ch(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw pF();const c=l.total-l.current;let h=c;i>0&&(h=Math.min(h,i));const f=l.current,d=f+h;let m="";h===0?m="finalize":c===h?m="upload, finalize":m="upload";const v={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":`${l.current}`},T=r.slice(f,d);if(T===null)throw NP();function P(A,V){const N=Ky(A,["active","final"]),x=l.current+h,E=r.size();let R;return N==="final"?R=Hy(e,s)(A,V):R=null,new Ch(x,E,N==="final",R)}const _="POST",w=e.maxUploadRetryTime,y=new cs(n,_,P,w);return y.headers=v,y.body=T.uploadData(),y.progressCallback=a||null,y.errorHandler=ql(t),y}const Kt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Gd(t){switch(t){case"running":case"pausing":case"canceling":return Kt.RUNNING;case"paused":return Kt.PAUSED;case"success":return Kt.SUCCESS;case"canceled":return Kt.CANCELED;case"error":return Kt.ERROR;default:return Kt.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,n,r){if(TF(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class n9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Hi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Hi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Hi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ia("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ia("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ia("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ia("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ia("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class r9 extends n9{initXhr(){this.xhr_.responseType="text"}}function Fi(){return new r9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=zP(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Me.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(OP(i.status,[]))if(s)i=VP();else{this.sleepTime=Math.max(this.sleepTime*2,sF),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Me.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=ZF(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Fi,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=JF(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Fi,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Tw*this._chunkMultiplier,n=new Ch(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=e9(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Fi,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Tw*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=GF(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Fi,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=YF(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Fi,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=DP(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Gd(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new t9(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Gd(this._state)){case Kt.SUCCESS:Es(this._resolve.bind(null,this.snapshot))();break;case Kt.CANCELED:case Kt.ERROR:const n=this._reject;Es(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Gd(this._state)){case Kt.RUNNING:case Kt.PAUSED:e.next&&Es(e.next.bind(e,this.snapshot))();break;case Kt.SUCCESS:e.complete&&Es(e.complete.bind(e))();break;case Kt.CANCELED:case Kt.ERROR:e.error&&Es(e.error.bind(e,this._error))();break;default:e.error&&Es(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n){this._service=e,n instanceof hn?this._location=n:this._location=hn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new rs(e,n)}get root(){const e=new hn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BP(this._location.path)}get storage(){return this._service}get parent(){const e=UF(this._location.path);if(e===null)return null;const n=new hn(this._location.bucket,e);return new rs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yF(e)}}function s9(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new i9(t,new Xr(e),n)}function o9(t){t._throwIfRoot("getDownloadURL");const e=KF(t.storage,t._location,zP());return t.storage.makeRequestWithTokens(e,Fi).then(n=>{if(n===null)throw mF();return n})}function a9(t){t._throwIfRoot("deleteObject");const e=QF(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Fi)}function l9(t,e){const n=jF(t._location.path,e),r=new hn(t._location.bucket,n);return new rs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(t){return/^[A-Za-z]+:\/\//.test(t)}function c9(t,e){return new rs(t,e)}function HP(t,e){if(t instanceof Qy){const n=t;if(n._bucket==null)throw dF();const r=new rs(n,n._bucket);return e!=null?HP(r,e):r}else return e!==void 0?l9(t,e):t}function h9(t,e){if(e&&u9(e)){if(t instanceof Qy)return c9(t,e);throw zm("To use ref(service, url), the first argument must be a Storage instance.")}else return HP(t,e)}function Sw(t,e){const n=e==null?void 0:e[kP];return n==null?null:hn.makeFromBucketSpec(n,t)}function f9(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:vP(i,t.app.options.projectId))}class Qy{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=CP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=rF,this._maxUploadRetryTime=iF,this._requests=new Set,i!=null?this._bucket=hn.makeFromBucketSpec(i,this._host):this._bucket=Sw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hn.makeFromBucketSpec(this._url,e):this._bucket=Sw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ew("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ew("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rs(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new vF(MP());{const o=CF(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Aw="@firebase/storage",xw="0.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP="storage";function d9(t,e,n){return t=Bn(t),s9(t,e,n)}function p9(t){return t=Bn(t),o9(t)}function m9(t){return t=Bn(t),a9(t)}function KP(t,e){return t=Bn(t),h9(t,e)}function g9(t=PP(),e){t=Bn(t);const r=SP(t,GP).getImmediate({identifier:e}),i=gP("storage");return i&&y9(r,...i),r}function y9(t,e,n,r={}){f9(t,e,n,r)}function v9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Qy(n,r,i,e,AP)}function _9(){_l(new fo(GP,v9,"PUBLIC").setMultipleInstances(!0)),ci(Aw,xw,""),ci(Aw,xw,"esm2017")}_9();var Pw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gi,QP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,E){function R(){}R.prototype=E.prototype,x.D=E.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(I,k,D){for(var C=Array(arguments.length-2),b=2;b<arguments.length;b++)C[b-2]=arguments[b];return E.prototype[k].apply(I,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,E,R){R||(R=0);var I=Array(16);if(typeof E=="string")for(var k=0;16>k;++k)I[k]=E.charCodeAt(R++)|E.charCodeAt(R++)<<8|E.charCodeAt(R++)<<16|E.charCodeAt(R++)<<24;else for(k=0;16>k;++k)I[k]=E[R++]|E[R++]<<8|E[R++]<<16|E[R++]<<24;E=x.g[0],R=x.g[1],k=x.g[2];var D=x.g[3],C=E+(D^R&(k^D))+I[0]+3614090360&4294967295;E=R+(C<<7&4294967295|C>>>25),C=D+(k^E&(R^k))+I[1]+3905402710&4294967295,D=E+(C<<12&4294967295|C>>>20),C=k+(R^D&(E^R))+I[2]+606105819&4294967295,k=D+(C<<17&4294967295|C>>>15),C=R+(E^k&(D^E))+I[3]+3250441966&4294967295,R=k+(C<<22&4294967295|C>>>10),C=E+(D^R&(k^D))+I[4]+4118548399&4294967295,E=R+(C<<7&4294967295|C>>>25),C=D+(k^E&(R^k))+I[5]+1200080426&4294967295,D=E+(C<<12&4294967295|C>>>20),C=k+(R^D&(E^R))+I[6]+2821735955&4294967295,k=D+(C<<17&4294967295|C>>>15),C=R+(E^k&(D^E))+I[7]+4249261313&4294967295,R=k+(C<<22&4294967295|C>>>10),C=E+(D^R&(k^D))+I[8]+1770035416&4294967295,E=R+(C<<7&4294967295|C>>>25),C=D+(k^E&(R^k))+I[9]+2336552879&4294967295,D=E+(C<<12&4294967295|C>>>20),C=k+(R^D&(E^R))+I[10]+4294925233&4294967295,k=D+(C<<17&4294967295|C>>>15),C=R+(E^k&(D^E))+I[11]+2304563134&4294967295,R=k+(C<<22&4294967295|C>>>10),C=E+(D^R&(k^D))+I[12]+1804603682&4294967295,E=R+(C<<7&4294967295|C>>>25),C=D+(k^E&(R^k))+I[13]+4254626195&4294967295,D=E+(C<<12&4294967295|C>>>20),C=k+(R^D&(E^R))+I[14]+2792965006&4294967295,k=D+(C<<17&4294967295|C>>>15),C=R+(E^k&(D^E))+I[15]+1236535329&4294967295,R=k+(C<<22&4294967295|C>>>10),C=E+(k^D&(R^k))+I[1]+4129170786&4294967295,E=R+(C<<5&4294967295|C>>>27),C=D+(R^k&(E^R))+I[6]+3225465664&4294967295,D=E+(C<<9&4294967295|C>>>23),C=k+(E^R&(D^E))+I[11]+643717713&4294967295,k=D+(C<<14&4294967295|C>>>18),C=R+(D^E&(k^D))+I[0]+3921069994&4294967295,R=k+(C<<20&4294967295|C>>>12),C=E+(k^D&(R^k))+I[5]+3593408605&4294967295,E=R+(C<<5&4294967295|C>>>27),C=D+(R^k&(E^R))+I[10]+38016083&4294967295,D=E+(C<<9&4294967295|C>>>23),C=k+(E^R&(D^E))+I[15]+3634488961&4294967295,k=D+(C<<14&4294967295|C>>>18),C=R+(D^E&(k^D))+I[4]+3889429448&4294967295,R=k+(C<<20&4294967295|C>>>12),C=E+(k^D&(R^k))+I[9]+568446438&4294967295,E=R+(C<<5&4294967295|C>>>27),C=D+(R^k&(E^R))+I[14]+3275163606&4294967295,D=E+(C<<9&4294967295|C>>>23),C=k+(E^R&(D^E))+I[3]+4107603335&4294967295,k=D+(C<<14&4294967295|C>>>18),C=R+(D^E&(k^D))+I[8]+1163531501&4294967295,R=k+(C<<20&4294967295|C>>>12),C=E+(k^D&(R^k))+I[13]+2850285829&4294967295,E=R+(C<<5&4294967295|C>>>27),C=D+(R^k&(E^R))+I[2]+4243563512&4294967295,D=E+(C<<9&4294967295|C>>>23),C=k+(E^R&(D^E))+I[7]+1735328473&4294967295,k=D+(C<<14&4294967295|C>>>18),C=R+(D^E&(k^D))+I[12]+2368359562&4294967295,R=k+(C<<20&4294967295|C>>>12),C=E+(R^k^D)+I[5]+4294588738&4294967295,E=R+(C<<4&4294967295|C>>>28),C=D+(E^R^k)+I[8]+2272392833&4294967295,D=E+(C<<11&4294967295|C>>>21),C=k+(D^E^R)+I[11]+1839030562&4294967295,k=D+(C<<16&4294967295|C>>>16),C=R+(k^D^E)+I[14]+4259657740&4294967295,R=k+(C<<23&4294967295|C>>>9),C=E+(R^k^D)+I[1]+2763975236&4294967295,E=R+(C<<4&4294967295|C>>>28),C=D+(E^R^k)+I[4]+1272893353&4294967295,D=E+(C<<11&4294967295|C>>>21),C=k+(D^E^R)+I[7]+4139469664&4294967295,k=D+(C<<16&4294967295|C>>>16),C=R+(k^D^E)+I[10]+3200236656&4294967295,R=k+(C<<23&4294967295|C>>>9),C=E+(R^k^D)+I[13]+681279174&4294967295,E=R+(C<<4&4294967295|C>>>28),C=D+(E^R^k)+I[0]+3936430074&4294967295,D=E+(C<<11&4294967295|C>>>21),C=k+(D^E^R)+I[3]+3572445317&4294967295,k=D+(C<<16&4294967295|C>>>16),C=R+(k^D^E)+I[6]+76029189&4294967295,R=k+(C<<23&4294967295|C>>>9),C=E+(R^k^D)+I[9]+3654602809&4294967295,E=R+(C<<4&4294967295|C>>>28),C=D+(E^R^k)+I[12]+3873151461&4294967295,D=E+(C<<11&4294967295|C>>>21),C=k+(D^E^R)+I[15]+530742520&4294967295,k=D+(C<<16&4294967295|C>>>16),C=R+(k^D^E)+I[2]+3299628645&4294967295,R=k+(C<<23&4294967295|C>>>9),C=E+(k^(R|~D))+I[0]+4096336452&4294967295,E=R+(C<<6&4294967295|C>>>26),C=D+(R^(E|~k))+I[7]+1126891415&4294967295,D=E+(C<<10&4294967295|C>>>22),C=k+(E^(D|~R))+I[14]+2878612391&4294967295,k=D+(C<<15&4294967295|C>>>17),C=R+(D^(k|~E))+I[5]+4237533241&4294967295,R=k+(C<<21&4294967295|C>>>11),C=E+(k^(R|~D))+I[12]+1700485571&4294967295,E=R+(C<<6&4294967295|C>>>26),C=D+(R^(E|~k))+I[3]+2399980690&4294967295,D=E+(C<<10&4294967295|C>>>22),C=k+(E^(D|~R))+I[10]+4293915773&4294967295,k=D+(C<<15&4294967295|C>>>17),C=R+(D^(k|~E))+I[1]+2240044497&4294967295,R=k+(C<<21&4294967295|C>>>11),C=E+(k^(R|~D))+I[8]+1873313359&4294967295,E=R+(C<<6&4294967295|C>>>26),C=D+(R^(E|~k))+I[15]+4264355552&4294967295,D=E+(C<<10&4294967295|C>>>22),C=k+(E^(D|~R))+I[6]+2734768916&4294967295,k=D+(C<<15&4294967295|C>>>17),C=R+(D^(k|~E))+I[13]+1309151649&4294967295,R=k+(C<<21&4294967295|C>>>11),C=E+(k^(R|~D))+I[4]+4149444226&4294967295,E=R+(C<<6&4294967295|C>>>26),C=D+(R^(E|~k))+I[11]+3174756917&4294967295,D=E+(C<<10&4294967295|C>>>22),C=k+(E^(D|~R))+I[2]+718787259&4294967295,k=D+(C<<15&4294967295|C>>>17),C=R+(D^(k|~E))+I[9]+3951481745&4294967295,x.g[0]=x.g[0]+E&4294967295,x.g[1]=x.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+k&4294967295,x.g[3]=x.g[3]+D&4294967295}r.prototype.u=function(x,E){E===void 0&&(E=x.length);for(var R=E-this.blockSize,I=this.B,k=this.h,D=0;D<E;){if(k==0)for(;D<=R;)i(this,x,D),D+=this.blockSize;if(typeof x=="string"){for(;D<E;)if(I[k++]=x.charCodeAt(D++),k==this.blockSize){i(this,I),k=0;break}}else for(;D<E;)if(I[k++]=x[D++],k==this.blockSize){i(this,I),k=0;break}}this.h=k,this.o+=E},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var E=1;E<x.length-8;++E)x[E]=0;var R=8*this.o;for(E=x.length-8;E<x.length;++E)x[E]=R&255,R/=256;for(this.u(x),x=Array(16),E=R=0;4>E;++E)for(var I=0;32>I;I+=8)x[R++]=this.g[E]>>>I&255;return x};function s(x,E){var R=a;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=E(x)}function o(x,E){this.h=E;for(var R=[],I=!0,k=x.length-1;0<=k;k--){var D=x[k]|0;I&&D==E||(R[k]=D,I=!1)}this.g=R}var a={};function l(x){return-128<=x&&128>x?s(x,function(E){return new o([E|0],0>E?-1:0)}):new o([x|0],0>x?-1:0)}function c(x){if(isNaN(x)||!isFinite(x))return f;if(0>x)return P(c(-x));for(var E=[],R=1,I=0;x>=R;I++)E[I]=x/R|0,R*=4294967296;return new o(E,0)}function h(x,E){if(x.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(x.charAt(0)=="-")return P(h(x.substring(1),E));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(E,8)),I=f,k=0;k<x.length;k+=8){var D=Math.min(8,x.length-k),C=parseInt(x.substring(k,k+D),E);8>D?(D=c(Math.pow(E,D)),I=I.j(D).add(c(C))):(I=I.j(R),I=I.add(c(C)))}return I}var f=l(0),d=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-P(this).m();for(var x=0,E=1,R=0;R<this.g.length;R++){var I=this.i(R);x+=(0<=I?I:4294967296+I)*E,E*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(v(this))return"0";if(T(this))return"-"+P(this).toString(x);for(var E=c(Math.pow(x,6)),R=this,I="";;){var k=A(R,E).g;R=_(R,k.j(E));var D=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=k,v(R))return D+I;for(;6>D.length;)D="0"+D;I=D+I}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function v(x){if(x.h!=0)return!1;for(var E=0;E<x.g.length;E++)if(x.g[E]!=0)return!1;return!0}function T(x){return x.h==-1}t.l=function(x){return x=_(this,x),T(x)?-1:v(x)?0:1};function P(x){for(var E=x.g.length,R=[],I=0;I<E;I++)R[I]=~x.g[I];return new o(R,~x.h).add(d)}t.abs=function(){return T(this)?P(this):this},t.add=function(x){for(var E=Math.max(this.g.length,x.g.length),R=[],I=0,k=0;k<=E;k++){var D=I+(this.i(k)&65535)+(x.i(k)&65535),C=(D>>>16)+(this.i(k)>>>16)+(x.i(k)>>>16);I=C>>>16,D&=65535,C&=65535,R[k]=C<<16|D}return new o(R,R[R.length-1]&-2147483648?-1:0)};function _(x,E){return x.add(P(E))}t.j=function(x){if(v(this)||v(x))return f;if(T(this))return T(x)?P(this).j(P(x)):P(P(this).j(x));if(T(x))return P(this.j(P(x)));if(0>this.l(m)&&0>x.l(m))return c(this.m()*x.m());for(var E=this.g.length+x.g.length,R=[],I=0;I<2*E;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(var k=0;k<x.g.length;k++){var D=this.i(I)>>>16,C=this.i(I)&65535,b=x.i(k)>>>16,M=x.i(k)&65535;R[2*I+2*k]+=C*M,w(R,2*I+2*k),R[2*I+2*k+1]+=D*M,w(R,2*I+2*k+1),R[2*I+2*k+1]+=C*b,w(R,2*I+2*k+1),R[2*I+2*k+2]+=D*b,w(R,2*I+2*k+2)}for(I=0;I<E;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=E;I<2*E;I++)R[I]=0;return new o(R,0)};function w(x,E){for(;(x[E]&65535)!=x[E];)x[E+1]+=x[E]>>>16,x[E]&=65535,E++}function y(x,E){this.g=x,this.h=E}function A(x,E){if(v(E))throw Error("division by zero");if(v(x))return new y(f,f);if(T(x))return E=A(P(x),E),new y(P(E.g),P(E.h));if(T(E))return E=A(x,P(E)),new y(P(E.g),E.h);if(30<x.g.length){if(T(x)||T(E))throw Error("slowDivide_ only works with positive integers.");for(var R=d,I=E;0>=I.l(x);)R=V(R),I=V(I);var k=N(R,1),D=N(I,1);for(I=N(I,2),R=N(R,2);!v(I);){var C=D.add(I);0>=C.l(x)&&(k=k.add(R),D=C),I=N(I,1),R=N(R,1)}return E=_(x,k.j(E)),new y(k,E)}for(k=f;0<=x.l(E);){for(R=Math.max(1,Math.floor(x.m()/E.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),D=c(R),C=D.j(E);T(C)||0<C.l(x);)R-=I,D=c(R),C=D.j(E);v(D)&&(D=d),k=k.add(D),x=_(x,C)}return new y(k,x)}t.A=function(x){return A(this,x).h},t.and=function(x){for(var E=Math.max(this.g.length,x.g.length),R=[],I=0;I<E;I++)R[I]=this.i(I)&x.i(I);return new o(R,this.h&x.h)},t.or=function(x){for(var E=Math.max(this.g.length,x.g.length),R=[],I=0;I<E;I++)R[I]=this.i(I)|x.i(I);return new o(R,this.h|x.h)},t.xor=function(x){for(var E=Math.max(this.g.length,x.g.length),R=[],I=0;I<E;I++)R[I]=this.i(I)^x.i(I);return new o(R,this.h^x.h)};function V(x){for(var E=x.g.length+1,R=[],I=0;I<E;I++)R[I]=x.i(I)<<1|x.i(I-1)>>>31;return new o(R,x.h)}function N(x,E){var R=E>>5;E%=32;for(var I=x.g.length-R,k=[],D=0;D<I;D++)k[D]=0<E?x.i(D+R)>>>E|x.i(D+R+1)<<32-E:x.i(D+R);return new o(k,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,QP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Gi=o}).apply(typeof Pw<"u"?Pw:typeof self<"u"?self:typeof window<"u"?window:{});var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XP,YP,_a,ZP,_c,$m,JP,eR,tR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,g){return u==Array.prototype||u==Object.prototype||(u[p]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wu=="object"&&Wu];for(var p=0;p<u.length;++p){var g=u[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var g=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var O=u[S];if(!(O in g))break e;g=g[O]}u=u[u.length-1],S=g[u],p=p(S),p!=S&&p!=null&&e(g,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var g=0,S=!1,O={next:function(){if(!S&&g<u.length){var U=g++;return{value:p(U,u[U]),done:!1}}return S=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,g){return u.call.apply(u.bind,arguments)}function f(u,p,g){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,S),u.apply(p,O)}}return function(){return u.apply(p,arguments)}}function d(u,p,g){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,d.apply(null,arguments)}function m(u,p){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function v(u,p){function g(){}g.prototype=p.prototype,u.aa=p.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(S,O,U){for(var Q=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)Q[Pe-2]=arguments[Pe];return p.prototype[O].apply(S,Q)}}function T(u){const p=u.length;if(0<p){const g=Array(p);for(let S=0;S<p;S++)g[S]=u[S];return g}return[]}function P(u,p){for(let g=1;g<arguments.length;g++){const S=arguments[g];if(l(S)){const O=u.length||0,U=S.length||0;u.length=O+U;for(let Q=0;Q<U;Q++)u[O+Q]=S[Q]}else u.push(S)}}class _{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function w(u){return/^[\s\xa0]*$/.test(u)}function y(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function A(u){return A[" "](u),u}A[" "]=function(){};var V=y().indexOf("Gecko")!=-1&&!(y().toLowerCase().indexOf("webkit")!=-1&&y().indexOf("Edge")==-1)&&!(y().indexOf("Trident")!=-1||y().indexOf("MSIE")!=-1)&&y().indexOf("Edge")==-1;function N(u,p,g){for(const S in u)p.call(g,u[S],S,u)}function x(u,p){for(const g in u)p.call(void 0,u[g],g,u)}function E(u){const p={};for(const g in u)p[g]=u[g];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,p){let g,S;for(let O=1;O<arguments.length;O++){S=arguments[O];for(g in S)u[g]=S[g];for(let U=0;U<R.length;U++)g=R[U],Object.prototype.hasOwnProperty.call(S,g)&&(u[g]=S[g])}}function k(u){var p=1;u=u.split(":");const g=[];for(;0<p&&u.length;)g.push(u.shift()),p--;return u.length&&g.push(u.join(":")),g}function D(u){a.setTimeout(()=>{throw u},0)}function C(){var u=B;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class b{constructor(){this.h=this.g=null}add(p,g){const S=M.get();S.set(p,g),this.h?this.h.next=S:this.g=S,this.h=S}}var M=new _(()=>new L,u=>u.reset());class L{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let K,F=!1,B=new b,H=()=>{const u=a.Promise.resolve(void 0);K=()=>{u.then(Z)}};var Z=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(g){D(g)}var p=M;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}F=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return u}();function ve(u,p){if(le.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(V){e:{try{A(p.nodeName);var O=!0;break e}catch{}O=!1}O||(p=null)}}else g=="mouseover"?p=u.fromElement:g=="mouseout"&&(p=u.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Oe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ve.aa.h.call(this)}}v(ve,le);var Oe={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Gt=0;function Fe(u,p,g,S,O){this.listener=u,this.proxy=null,this.src=p,this.type=g,this.capture=!!S,this.ha=O,this.key=++Gt,this.da=this.fa=!1}function rn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function qn(u){this.src=u,this.g={},this.h=0}qn.prototype.add=function(u,p,g,S,O){var U=u.toString();u=this.g[U],u||(u=this.g[U]=[],this.h++);var Q=ps(u,p,S,O);return-1<Q?(p=u[Q],g||(p.fa=!1)):(p=new Fe(p,this.src,U,!!S,O),p.fa=g,u.push(p)),p};function ds(u,p){var g=p.type;if(g in u.g){var S=u.g[g],O=Array.prototype.indexOf.call(S,p,void 0),U;(U=0<=O)&&Array.prototype.splice.call(S,O,1),U&&(rn(p),u.g[g].length==0&&(delete u.g[g],u.h--))}}function ps(u,p,g,S){for(var O=0;O<u.length;++O){var U=u[O];if(!U.da&&U.listener==p&&U.capture==!!g&&U.ha==S)return O}return-1}var Uf="closure_lm_"+(1e6*Math.random()|0),jf={};function nv(u,p,g,S,O){if(Array.isArray(p)){for(var U=0;U<p.length;U++)nv(u,p[U],g,S,O);return null}return g=sv(g),u&&u[Le]?u.K(p,g,c(S)?!!S.capture:!!S,O):KC(u,p,g,!1,S,O)}function KC(u,p,g,S,O,U){if(!p)throw Error("Invalid event type");var Q=c(O)?!!O.capture:!!O,Pe=zf(u);if(Pe||(u[Uf]=Pe=new qn(u)),g=Pe.add(p,g,S,Q,U),g.proxy)return g;if(S=QC(),g.proxy=S,S.src=u,S.listener=g,u.addEventListener)de||(O=Q),O===void 0&&(O=!1),u.addEventListener(p.toString(),S,O);else if(u.attachEvent)u.attachEvent(iv(p.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function QC(){function u(g){return p.call(u.src,u.listener,g)}const p=XC;return u}function rv(u,p,g,S,O){if(Array.isArray(p))for(var U=0;U<p.length;U++)rv(u,p[U],g,S,O);else S=c(S)?!!S.capture:!!S,g=sv(g),u&&u[Le]?(u=u.i,p=String(p).toString(),p in u.g&&(U=u.g[p],g=ps(U,g,S,O),-1<g&&(rn(U[g]),Array.prototype.splice.call(U,g,1),U.length==0&&(delete u.g[p],u.h--)))):u&&(u=zf(u))&&(p=u.g[p.toString()],u=-1,p&&(u=ps(p,g,S,O)),(g=-1<u?p[u]:null)&&Bf(g))}function Bf(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Le])ds(p.i,u);else{var g=u.type,S=u.proxy;p.removeEventListener?p.removeEventListener(g,S,u.capture):p.detachEvent?p.detachEvent(iv(g),S):p.addListener&&p.removeListener&&p.removeListener(S),(g=zf(p))?(ds(g,u),g.h==0&&(g.src=null,p[Uf]=null)):rn(u)}}}function iv(u){return u in jf?jf[u]:jf[u]="on"+u}function XC(u,p){if(u.da)u=!0;else{p=new ve(p,this);var g=u.listener,S=u.ha||u.src;u.fa&&Bf(u),u=g.call(S,p)}return u}function zf(u){return u=u[Uf],u instanceof qn?u:null}var $f="__closure_events_fn_"+(1e9*Math.random()>>>0);function sv(u){return typeof u=="function"?u:(u[$f]||(u[$f]=function(p){return u.handleEvent(p)}),u[$f])}function wt(){te.call(this),this.i=new qn(this),this.M=this,this.F=null}v(wt,te),wt.prototype[Le]=!0,wt.prototype.removeEventListener=function(u,p,g,S){rv(this,u,p,g,S)};function Mt(u,p){var g,S=u.F;if(S)for(g=[];S;S=S.F)g.push(S);if(u=u.M,S=p.type||p,typeof p=="string")p=new le(p,u);else if(p instanceof le)p.target=p.target||u;else{var O=p;p=new le(S,u),I(p,O)}if(O=!0,g)for(var U=g.length-1;0<=U;U--){var Q=p.g=g[U];O=nu(Q,S,!0,p)&&O}if(Q=p.g=u,O=nu(Q,S,!0,p)&&O,O=nu(Q,S,!1,p)&&O,g)for(U=0;U<g.length;U++)Q=p.g=g[U],O=nu(Q,S,!1,p)&&O}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var g=u.g[p],S=0;S<g.length;S++)rn(g[S]);delete u.g[p],u.h--}}this.F=null},wt.prototype.K=function(u,p,g,S){return this.i.add(String(u),p,!1,g,S)},wt.prototype.L=function(u,p,g,S){return this.i.add(String(u),p,!0,g,S)};function nu(u,p,g,S){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var O=!0,U=0;U<p.length;++U){var Q=p[U];if(Q&&!Q.da&&Q.capture==g){var Pe=Q.listener,ct=Q.ha||Q.src;Q.fa&&ds(u.i,Q),O=Pe.call(ct,S)!==!1&&O}}return O&&!S.defaultPrevented}function ov(u,p,g){if(typeof u=="function")g&&(u=d(u,g));else if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function av(u){u.g=ov(()=>{u.g=null,u.i&&(u.i=!1,av(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class YC extends te{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:av(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mo(u){te.call(this),this.h=u,this.g={}}v(Mo,te);var lv=[];function uv(u){N(u.g,function(p,g){this.g.hasOwnProperty(g)&&Bf(p)},u),u.g={}}Mo.prototype.N=function(){Mo.aa.N.call(this),uv(this)},Mo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qf=a.JSON.stringify,ZC=a.JSON.parse,JC=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Wf(){}Wf.prototype.h=null;function cv(u){return u.h||(u.h=u.i())}function hv(){}var bo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hf(){le.call(this,"d")}v(Hf,le);function Gf(){le.call(this,"c")}v(Gf,le);var xi={},fv=null;function ru(){return fv=fv||new wt}xi.La="serverreachability";function dv(u){le.call(this,xi.La,u)}v(dv,le);function Oo(u){const p=ru();Mt(p,new dv(p))}xi.STAT_EVENT="statevent";function pv(u,p){le.call(this,xi.STAT_EVENT,u),this.stat=p}v(pv,le);function bt(u){const p=ru();Mt(p,new pv(p,u))}xi.Ma="timingevent";function mv(u,p){le.call(this,xi.Ma,u),this.size=p}v(mv,le);function Lo(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function Fo(){this.g=!0}Fo.prototype.xa=function(){this.g=!1};function ek(u,p,g,S,O,U){u.info(function(){if(u.g)if(U)for(var Q="",Pe=U.split("&"),ct=0;ct<Pe.length;ct++){var Ee=Pe[ct].split("=");if(1<Ee.length){var Et=Ee[0];Ee=Ee[1];var Tt=Et.split("_");Q=2<=Tt.length&&Tt[1]=="type"?Q+(Et+"="+Ee+"&"):Q+(Et+"=redacted&")}}else Q=null;else Q=U;return"XMLHTTP REQ ("+S+") [attempt "+O+"]: "+p+`
`+g+`
`+Q})}function tk(u,p,g,S,O,U,Q){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+O+"]: "+p+`
`+g+`
`+U+" "+Q})}function ms(u,p,g,S){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+rk(u,g)+(S?" "+S:"")})}function nk(u,p){u.info(function(){return"TIMEOUT: "+p})}Fo.prototype.info=function(){};function rk(u,p){if(!u.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var S=g[u];if(!(2>S.length)){var O=S[1];if(Array.isArray(O)&&!(1>O.length)){var U=O[0];if(U!="noop"&&U!="stop"&&U!="close")for(var Q=1;Q<O.length;Q++)O[Q]=""}}}}return qf(g)}catch{return p}}var iu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kf;function su(){}v(su,Wf),su.prototype.g=function(){return new XMLHttpRequest},su.prototype.i=function(){return{}},Kf=new su;function Ur(u,p,g,S){this.j=u,this.i=p,this.l=g,this.R=S||1,this.U=new Mo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yv}function yv(){this.i=null,this.g="",this.h=!1}var vv={},Qf={};function Xf(u,p,g){u.L=1,u.v=uu(cr(p)),u.m=g,u.P=!0,_v(u,null)}function _v(u,p){u.F=Date.now(),ou(u),u.A=cr(u.v);var g=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),Nv(g.i,"t",S),u.C=0,g=u.j.J,u.h=new yv,u.g=Yv(u.j,g?p:null,!u.m),0<u.O&&(u.M=new YC(d(u.Y,u,u.g),u.O)),p=u.U,g=u.g,S=u.ca;var O="readystatechange";Array.isArray(O)||(O&&(lv[0]=O.toString()),O=lv);for(var U=0;U<O.length;U++){var Q=nv(g,O[U],S||p.handleEvent,!1,p.h||p);if(!Q)break;p.g[Q.key]=Q}p=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Oo(),ek(u.i,u.u,u.A,u.l,u.R,u.m)}Ur.prototype.ca=function(u){u=u.target;const p=this.M;p&&hr(u)==3?p.j():this.Y(u)},Ur.prototype.Y=function(u){try{if(u==this.g)e:{const Tt=hr(this.g);var p=this.g.Ba();const vs=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||jv(this.g)))){this.J||Tt!=4||p==7||(p==8||0>=vs?Oo(3):Oo(2)),Yf(this);var g=this.g.Z();this.X=g;t:if(wv(this)){var S=jv(this.g);u="";var O=S.length,U=hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pi(this),Uo(this);var Q="";break t}this.h.i=new a.TextDecoder}for(p=0;p<O;p++)this.h.h=!0,u+=this.h.i.decode(S[p],{stream:!(U&&p==O-1)});S.length=0,this.h.g+=u,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=g==200,tk(this.i,this.u,this.A,this.l,this.R,Tt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,ct=this.g;if((Pe=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Pe)){var Ee=Pe;break t}}Ee=null}if(g=Ee)ms(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zf(this,g);else{this.o=!1,this.s=3,bt(12),Pi(this),Uo(this);break e}}if(this.P){g=!0;let kn;for(;!this.J&&this.C<Q.length;)if(kn=ik(this,Q),kn==Qf){Tt==4&&(this.s=4,bt(14),g=!1),ms(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==vv){this.s=4,bt(15),ms(this.i,this.l,Q,"[Invalid Chunk]"),g=!1;break}else ms(this.i,this.l,kn,null),Zf(this,kn);if(wv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||Q.length!=0||this.h.h||(this.s=1,bt(16),g=!1),this.o=this.o&&g,!g)ms(this.i,this.l,Q,"[Invalid Chunked Response]"),Pi(this),Uo(this);else if(0<Q.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),id(Et),Et.M=!0,bt(11))}}else ms(this.i,this.l,Q,null),Zf(this,Q);Tt==4&&Pi(this),this.o&&!this.J&&(Tt==4?Gv(this.j,this):(this.o=!1,ou(this)))}else Ek(this.g),g==400&&0<Q.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),Pi(this),Uo(this)}}}catch{}finally{}};function wv(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ik(u,p){var g=u.C,S=p.indexOf(`
`,g);return S==-1?Qf:(g=Number(p.substring(g,S)),isNaN(g)?vv:(S+=1,S+g>p.length?Qf:(p=p.slice(S,S+g),u.C=S+g,p)))}Ur.prototype.cancel=function(){this.J=!0,Pi(this)};function ou(u){u.S=Date.now()+u.I,Ev(u,u.I)}function Ev(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Lo(d(u.ba,u),p)}function Yf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Ur.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(nk(this.i,this.A),this.L!=2&&(Oo(),bt(17)),Pi(this),this.s=2,Uo(this)):Ev(this,this.S-u)};function Uo(u){u.j.G==0||u.J||Gv(u.j,u)}function Pi(u){Yf(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,uv(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Zf(u,p){try{var g=u.j;if(g.G!=0&&(g.g==u||Jf(g.h,u))){if(!u.K&&Jf(g.h,u)&&g.G==3){try{var S=g.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var O=S;if(O[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)pu(g),fu(g);else break e;rd(g),bt(18)}}else g.za=O[1],0<g.za-g.T&&37500>O[2]&&g.F&&g.v==0&&!g.C&&(g.C=Lo(d(g.Za,g),6e3));if(1>=Av(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ii(g,11)}else if((u.K||g.g==u)&&pu(g),!w(p))for(O=g.Da.g.parse(p),p=0;p<O.length;p++){let Ee=O[p];if(g.T=Ee[0],Ee=Ee[1],g.G==2)if(Ee[0]=="c"){g.K=Ee[1],g.ia=Ee[2];const Et=Ee[3];Et!=null&&(g.la=Et,g.j.info("VER="+g.la));const Tt=Ee[4];Tt!=null&&(g.Aa=Tt,g.j.info("SVER="+g.Aa));const vs=Ee[5];vs!=null&&typeof vs=="number"&&0<vs&&(S=1.5*vs,g.L=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const kn=u.g;if(kn){const gu=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gu){var U=S.h;U.g||gu.indexOf("spdy")==-1&&gu.indexOf("quic")==-1&&gu.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(ed(U,U.h),U.h=null))}if(S.D){const sd=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;sd&&(S.ya=sd,ke(S.I,S.D,sd))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),S=g;var Q=u;if(S.qa=Xv(S,S.J?S.ia:null,S.W),Q.K){xv(S.h,Q);var Pe=Q,ct=S.L;ct&&(Pe.I=ct),Pe.B&&(Yf(Pe),ou(Pe)),S.g=Q}else Wv(S);0<g.i.length&&du(g)}else Ee[0]!="stop"&&Ee[0]!="close"||Ii(g,7);else g.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?Ii(g,7):nd(g):Ee[0]!="noop"&&g.l&&g.l.ta(Ee),g.v=0)}}Oo(4)}catch{}}var sk=class{constructor(u,p){this.g=u,this.map=p}};function Tv(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sv(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Av(u){return u.h?1:u.g?u.g.size:0}function Jf(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function ed(u,p){u.g?u.g.add(p):u.h=p}function xv(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Tv.prototype.cancel=function(){if(this.i=Pv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Pv(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const g of u.g.values())p=p.concat(g.D);return p}return T(u.i)}function ok(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],g=u.length,S=0;S<g;S++)p.push(u[S]);return p}p=[],g=0;for(S in u)p[g++]=u[S];return p}function ak(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var g=0;g<u;g++)p.push(g);return p}p=[],g=0;for(const S in u)p[g++]=S;return p}}}function Rv(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var g=ak(u),S=ok(u),O=S.length,U=0;U<O;U++)p.call(void 0,S[U],g&&g[U],u)}var Iv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lk(u,p){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var S=u[g].indexOf("="),O=null;if(0<=S){var U=u[g].substring(0,S);O=u[g].substring(S+1)}else U=u[g];p(U,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Ri(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ri){this.h=u.h,au(this,u.j),this.o=u.o,this.g=u.g,lu(this,u.s),this.l=u.l;var p=u.i,g=new zo;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),Cv(this,g),this.m=u.m}else u&&(p=String(u).match(Iv))?(this.h=!1,au(this,p[1]||"",!0),this.o=jo(p[2]||""),this.g=jo(p[3]||"",!0),lu(this,p[4]),this.l=jo(p[5]||"",!0),Cv(this,p[6]||"",!0),this.m=jo(p[7]||"")):(this.h=!1,this.i=new zo(null,this.h))}Ri.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Bo(p,kv,!0),":");var g=this.g;return(g||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Bo(p,kv,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Bo(g,g.charAt(0)=="/"?hk:ck,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Bo(g,dk)),u.join("")};function cr(u){return new Ri(u)}function au(u,p,g){u.j=g?jo(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function lu(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Cv(u,p,g){p instanceof zo?(u.i=p,pk(u.i,u.h)):(g||(p=Bo(p,fk)),u.i=new zo(p,u.h))}function ke(u,p,g){u.i.set(p,g)}function uu(u){return ke(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function jo(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Bo(u,p,g){return typeof u=="string"?(u=encodeURI(u).replace(p,uk),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function uk(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var kv=/[#\/\?@]/g,ck=/[#\?:]/g,hk=/[#\?]/g,fk=/[#\?@]/g,dk=/#/g;function zo(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function jr(u){u.g||(u.g=new Map,u.h=0,u.i&&lk(u.i,function(p,g){u.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=zo.prototype,t.add=function(u,p){jr(this),this.i=null,u=gs(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(p),this.h+=1,this};function Vv(u,p){jr(u),p=gs(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Dv(u,p){return jr(u),p=gs(u,p),u.g.has(p)}t.forEach=function(u,p){jr(this),this.g.forEach(function(g,S){g.forEach(function(O){u.call(p,O,S,this)},this)},this)},t.na=function(){jr(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let S=0;S<p.length;S++){const O=u[S];for(let U=0;U<O.length;U++)g.push(p[S])}return g},t.V=function(u){jr(this);let p=[];if(typeof u=="string")Dv(this,u)&&(p=p.concat(this.g.get(gs(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)p=p.concat(u[g])}return p},t.set=function(u,p){return jr(this),this.i=null,u=gs(this,u),Dv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Nv(u,p,g){Vv(u,p),0<g.length&&(u.i=null,u.g.set(gs(u,p),T(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var S=p[g];const U=encodeURIComponent(String(S)),Q=this.V(S);for(S=0;S<Q.length;S++){var O=U;Q[S]!==""&&(O+="="+encodeURIComponent(String(Q[S]))),u.push(O)}}return this.i=u.join("&")};function gs(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function pk(u,p){p&&!u.j&&(jr(u),u.i=null,u.g.forEach(function(g,S){var O=S.toLowerCase();S!=O&&(Vv(this,S),Nv(this,O,g))},u)),u.j=p}function mk(u,p){const g=new Fo;if(a.Image){const S=new Image;S.onload=m(Br,g,"TestLoadImage: loaded",!0,p,S),S.onerror=m(Br,g,"TestLoadImage: error",!1,p,S),S.onabort=m(Br,g,"TestLoadImage: abort",!1,p,S),S.ontimeout=m(Br,g,"TestLoadImage: timeout",!1,p,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else p(!1)}function gk(u,p){const g=new Fo,S=new AbortController,O=setTimeout(()=>{S.abort(),Br(g,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:S.signal}).then(U=>{clearTimeout(O),U.ok?Br(g,"TestPingServer: ok",!0,p):Br(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(O),Br(g,"TestPingServer: error",!1,p)})}function Br(u,p,g,S,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),S(g)}catch{}}function yk(){this.g=new JC}function vk(u,p,g){const S=g||"";try{Rv(u,function(O,U){let Q=O;c(O)&&(Q=qf(O)),p.push(S+U+"="+encodeURIComponent(Q))})}catch(O){throw p.push(S+"type="+encodeURIComponent("_badmap")),O}}function $o(u){this.l=u.Ub||null,this.j=u.eb||!1}v($o,Wf),$o.prototype.g=function(){return new cu(this.l,this.j)},$o.prototype.i=function(u){return function(){return u}}({});function cu(u,p){wt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(cu,wt),t=cu.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Wo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qo(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wo(this)),this.g&&(this.readyState=3,Wo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mv(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mv(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?qo(this):Wo(this),this.readyState==3&&Mv(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,qo(this))},t.Qa=function(u){this.g&&(this.response=u,qo(this))},t.ga=function(){this.g&&qo(this)};function qo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Wo(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=p.next();return u.join(`\r
`)};function Wo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(cu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bv(u){let p="";return N(u,function(g,S){p+=S,p+=":",p+=g,p+=`\r
`}),p}function td(u,p,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=bv(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):ke(u,p,g))}function Ge(u){wt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Ge,wt);var _k=/^https?$/i,wk=["POST","PUT"];t=Ge.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kf.g(),this.v=this.o?cv(this.o):cv(Kf),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(U){Ov(this,U);return}if(u=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var O in S)g.set(O,S[O]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const U of S.keys())g.set(U,S.get(U));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(U=>U.toLowerCase()=="content-type"),O=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(wk,p,void 0))||S||O||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Q]of g)this.g.setRequestHeader(U,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Uv(this),this.u=!0,this.g.send(u),this.u=!1}catch(U){Ov(this,U)}};function Ov(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Lv(u),hu(u)}function Lv(u){u.A||(u.A=!0,Mt(u,"complete"),Mt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Mt(this,"complete"),Mt(this,"abort"),hu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hu(this,!0)),Ge.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Fv(this):this.bb())},t.bb=function(){Fv(this)};function Fv(u){if(u.h&&typeof o<"u"&&(!u.v[1]||hr(u)!=4||u.Z()!=2)){if(u.u&&hr(u)==4)ov(u.Ea,0,u);else if(Mt(u,"readystatechange"),hr(u)==4){u.h=!1;try{const Q=u.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var S;if(S=Q===0){var O=String(u.D).match(Iv)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),S=!_k.test(O?O.toLowerCase():"")}g=S}if(g)Mt(u,"complete"),Mt(u,"success");else{u.m=6;try{var U=2<hr(u)?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.Z()+"]",Lv(u)}}finally{hu(u)}}}}function hu(u,p){if(u.g){Uv(u);const g=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Mt(u,"ready");try{g.onreadystatechange=S}catch{}}}function Uv(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function hr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),ZC(p)}};function jv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ek(u){const p={};u=(u.g&&2<=hr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(w(u[S]))continue;var g=k(u[S]);const O=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const U=p[O]||[];p[O]=U,U.push(g)}x(p,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ho(u,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||p}function Bv(u){this.Aa=0,this.i=[],this.j=new Fo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ho("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ho("baseRetryDelayMs",5e3,u),this.cb=Ho("retryDelaySeedMs",1e4,u),this.Wa=Ho("forwardChannelMaxRetries",2,u),this.wa=Ho("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Tv(u&&u.concurrentRequestLimit),this.Da=new yk,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Bv.prototype,t.la=8,t.G=1,t.connect=function(u,p,g,S){bt(0),this.W=u,this.H=p||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.I=Xv(this,null,this.W),du(this)};function nd(u){if(zv(u),u.G==3){var p=u.U++,g=cr(u.I);if(ke(g,"SID",u.K),ke(g,"RID",p),ke(g,"TYPE","terminate"),Go(u,g),p=new Ur(u,u.j,p),p.L=2,p.v=uu(cr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=Yv(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ou(p)}Qv(u)}function fu(u){u.g&&(id(u),u.g.cancel(),u.g=null)}function zv(u){fu(u),u.u&&(a.clearTimeout(u.u),u.u=null),pu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function du(u){if(!Sv(u.h)&&!u.s){u.s=!0;var p=u.Ga;K||H(),F||(K(),F=!0),B.add(p,u),u.B=0}}function Tk(u,p){return Av(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Lo(d(u.Ga,u,p),Kv(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const O=new Ur(this,this.j,u);let U=this.o;if(this.S&&(U?(U=E(U),I(U,this.S)):U=this.S),this.m!==null||this.O||(O.H=U,U=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=qv(this,O,p),g=cr(this.I),ke(g,"RID",u),ke(g,"CVER",22),this.D&&ke(g,"X-HTTP-Session-Id",this.D),Go(this,g),U&&(this.O?p="headers="+encodeURIComponent(String(bv(U)))+"&"+p:this.m&&td(g,this.m,U)),ed(this.h,O),this.Ua&&ke(g,"TYPE","init"),this.P?(ke(g,"$req",p),ke(g,"SID","null"),O.T=!0,Xf(O,g,null)):Xf(O,g,p),this.G=2}}else this.G==3&&(u?$v(this,u):this.i.length==0||Sv(this.h)||$v(this))};function $v(u,p){var g;p?g=p.l:g=u.U++;const S=cr(u.I);ke(S,"SID",u.K),ke(S,"RID",g),ke(S,"AID",u.T),Go(u,S),u.m&&u.o&&td(S,u.m,u.o),g=new Ur(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),p&&(u.i=p.D.concat(u.i)),p=qv(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ed(u.h,g),Xf(g,S,p)}function Go(u,p){u.H&&N(u.H,function(g,S){ke(p,S,g)}),u.l&&Rv({},function(g,S){ke(p,S,g)})}function qv(u,p,g){g=Math.min(u.i.length,g);var S=u.l?d(u.l.Na,u.l,u):null;e:{var O=u.i;let U=-1;for(;;){const Q=["count="+g];U==-1?0<g?(U=O[0].g,Q.push("ofs="+U)):U=0:Q.push("ofs="+U);let Pe=!0;for(let ct=0;ct<g;ct++){let Ee=O[ct].g;const Et=O[ct].map;if(Ee-=U,0>Ee)U=Math.max(0,O[ct].g-100),Pe=!1;else try{vk(Et,Q,"req"+Ee+"_")}catch{S&&S(Et)}}if(Pe){S=Q.join("&");break e}}}return u=u.i.splice(0,g),p.D=u,S}function Wv(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;K||H(),F||(K(),F=!0),B.add(p,u),u.v=0}}function rd(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Lo(d(u.Fa,u),Kv(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Hv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Lo(d(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),fu(this),Hv(this))};function id(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Hv(u){u.g=new Ur(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=cr(u.qa);ke(p,"RID","rpc"),ke(p,"SID",u.K),ke(p,"AID",u.T),ke(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&ke(p,"TO",u.ja),ke(p,"TYPE","xmlhttp"),Go(u,p),u.m&&u.o&&td(p,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=uu(cr(p)),g.m=null,g.P=!0,_v(g,u)}t.Za=function(){this.C!=null&&(this.C=null,fu(this),rd(this),bt(19))};function pu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Gv(u,p){var g=null;if(u.g==p){pu(u),id(u),u.g=null;var S=2}else if(Jf(u.h,p))g=p.D,xv(u.h,p),S=1;else return;if(u.G!=0){if(p.o)if(S==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var O=u.B;S=ru(),Mt(S,new mv(S,g)),du(u)}else Wv(u);else if(O=p.s,O==3||O==0&&0<p.X||!(S==1&&Tk(u,p)||S==2&&rd(u)))switch(g&&0<g.length&&(p=u.h,p.i=p.i.concat(g)),O){case 1:Ii(u,5);break;case 4:Ii(u,10);break;case 3:Ii(u,6);break;default:Ii(u,2)}}}function Kv(u,p){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*p}function Ii(u,p){if(u.j.info("Error code "+p),p==2){var g=d(u.fb,u),S=u.Xa;const O=!S;S=new Ri(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||au(S,"https"),uu(S),O?mk(S.toString(),g):gk(S.toString(),g)}else bt(2);u.G=0,u.l&&u.l.sa(p),Qv(u),zv(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Qv(u){if(u.G=0,u.ka=[],u.l){const p=Pv(u.h);(p.length!=0||u.i.length!=0)&&(P(u.ka,p),P(u.ka,u.i),u.h.i.length=0,T(u.i),u.i.length=0),u.l.ra()}}function Xv(u,p,g){var S=g instanceof Ri?cr(g):new Ri(g);if(S.g!="")p&&(S.g=p+"."+S.g),lu(S,S.s);else{var O=a.location;S=O.protocol,p=p?p+"."+O.hostname:O.hostname,O=+O.port;var U=new Ri(null);S&&au(U,S),p&&(U.g=p),O&&lu(U,O),g&&(U.l=g),S=U}return g=u.D,p=u.ya,g&&p&&ke(S,g,p),ke(S,"VER",u.la),Go(u,S),S}function Yv(u,p,g){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Ge(new $o({eb:g})):new Ge(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zv(){}t=Zv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function mu(){}mu.prototype.g=function(u,p){return new sn(u,p)};function sn(u,p){wt.call(this),this.g=new Bv(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!w(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new ys(this)}v(sn,wt),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){nd(this.g)},sn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=qf(u),u=g);p.i.push(new sk(p.Ya++,u)),p.G==3&&du(p)},sn.prototype.N=function(){this.g.l=null,delete this.j,nd(this.g),delete this.g,sn.aa.N.call(this)};function Jv(u){Hf.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const g in p){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}v(Jv,Hf);function e_(){Gf.call(this),this.status=1}v(e_,Gf);function ys(u){this.g=u}v(ys,Zv),ys.prototype.ua=function(){Mt(this.g,"a")},ys.prototype.ta=function(u){Mt(this.g,new Jv(u))},ys.prototype.sa=function(u){Mt(this.g,new e_)},ys.prototype.ra=function(){Mt(this.g,"b")},mu.prototype.createWebChannel=mu.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,tR=function(){return new mu},eR=function(){return ru()},JP=xi,$m={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},iu.NO_ERROR=0,iu.TIMEOUT=8,iu.HTTP_ERROR=6,_c=iu,gv.COMPLETE="complete",ZP=gv,hv.EventType=bo,bo.OPEN="a",bo.CLOSE="b",bo.ERROR="c",bo.MESSAGE="d",wt.prototype.listen=wt.prototype.K,_a=hv,YP=$o,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,XP=Ge}).apply(typeof Wu<"u"?Wu:typeof self<"u"?self:typeof window<"u"?window:{});const Rw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new wP("@firebase/firestore");function sa(){return is.logLevel}function ee(t,...e){if(is.logLevel<=_e.DEBUG){const n=e.map(Xy);is.debug(`Firestore (${Io}): ${t}`,...n)}}function br(t,...e){if(is.logLevel<=_e.ERROR){const n=e.map(Xy);is.error(`Firestore (${Io}): ${t}`,...n)}}function po(t,...e){if(is.logLevel<=_e.WARN){const n=e.map(Xy);is.warn(`Firestore (${Io}): ${t}`,...n)}}function Xy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t="Unexpected state"){const e=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: `+t;throw br(e),new Error(e)}function Ie(t,e){t||ue()}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends us{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class E9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class T9{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new hi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new hi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string"),new nR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string"),new Rt(e)}}class S9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class A9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new S9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class x9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string"),this.R=n.token,new x9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=R9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Te(t,e){return t<e?-1:t>e?1:0}function mo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new st(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new st(0,0))}static max(){return new ce(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(),r===void 0?r=e.length-n:r>e.length-n&&ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return El.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof El?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class De extends El{construct(e,n,r){return new De(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new De(n)}static emptyPath(){return new De([])}}const I9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends El{construct(e,n,r){return new mt(e,n,r)}static isValidIdentifier(e){return I9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new J(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(De.fromString(e))}static fromName(e){return new ie(De.fromString(e).popFirst(5))}static empty(){return new ie(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new De(e.slice()))}}function C9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new mi(i,ie.empty(),e)}function k9(t){return new mi(t.readTime,t.key,-1)}class mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mi(ce.min(),ie.empty(),-1)}static max(){return new mi(ce.max(),ie.empty(),-1)}}function V9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==D9)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(i=>i?q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new q((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function M9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Yy.oe=-1;function gf(t){return t==null}function kh(t){return t===0&&1/t==-1/0}function b9(t){return typeof t=="number"&&Number.isInteger(t)&&!kh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Co(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.comparator=e,this.root=n||dt.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hu(this.root,e,this.comparator,!0)}}class Hu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??dt.RED,this.left=i??dt.EMPTY,this.right=s??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new dt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return dt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,n,r,i,s){return this}insert(e,n,r){return new dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cw(this.data.getIterator())}getIteratorFrom(e){return new Cw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yt(this.comparator);return n.data=e,n}}class Cw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new yt(mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new sR("Invalid base64 string: "+s):s}}(e);return new _t(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const O9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(t){if(Ie(!!t),typeof t=="string"){let e=0;const n=O9.exec(t);if(Ie(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ss(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Jy(t){const e=t.mapValue.fields.__previous_value__;return Zy(e)?Jy(e):e}function Tl(t){const e=gi(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Sl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Sl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Sl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zy(t)?4:U9(t)?9007199254740991:F9(t)?10:11:ue()}function or(t,e){if(t===e)return!0;const n=os(t);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tl(t).isEqual(Tl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=gi(i.timestampValue),a=gi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ss(i.bytesValue).isEqual(ss(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ze(i.geoPointValue.latitude)===Ze(s.geoPointValue.latitude)&&Ze(i.geoPointValue.longitude)===Ze(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ze(i.integerValue)===Ze(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ze(i.doubleValue),a=Ze(s.doubleValue);return o===a?kh(o)===kh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return mo(t.arrayValue.values||[],e.arrayValue.values||[],or);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Iw(o)!==Iw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!or(o[l],a[l])))return!1;return!0}(t,e);default:return ue()}}function Al(t,e){return(t.values||[]).find(n=>or(n,e))!==void 0}function go(t,e){if(t===e)return 0;const n=os(t),r=os(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ze(s.integerValue||s.doubleValue),l=Ze(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return kw(t.timestampValue,e.timestampValue);case 4:return kw(Tl(t),Tl(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ss(s),l=ss(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=Te(a[c],l[c]);if(h!==0)return h}return Te(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Te(Ze(s.latitude),Ze(o.latitude));return a!==0?a:Te(Ze(s.longitude),Ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Vw(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,h;const f=s.fields||{},d=o.fields||{},m=(a=f.value)===null||a===void 0?void 0:a.arrayValue,v=(l=d.value)===null||l===void 0?void 0:l.arrayValue,T=Te(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((h=v==null?void 0:v.values)===null||h===void 0?void 0:h.length)||0);return T!==0?T:Vw(m,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Gu.mapValue&&o===Gu.mapValue)return 0;if(s===Gu.mapValue)return 1;if(o===Gu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const d=Te(l[f],h[f]);if(d!==0)return d;const m=go(a[l[f]],c[h[f]]);if(m!==0)return m}return Te(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ue()}}function kw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=gi(t),r=gi(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function Vw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=go(n[i],r[i]);if(s)return s}return Te(n.length,r.length)}function yo(t){return qm(t)}function qm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=gi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ss(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=qm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${qm(n.fields[o])}`;return i+"}"}(t.mapValue):ue()}function Dw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wm(t){return!!t&&"integerValue"in t}function e0(t){return!!t&&"arrayValue"in t}function Nw(t){return!!t&&"nullValue"in t}function Mw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wc(t){return!!t&&"mapValue"in t}function F9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ua(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Co(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ua(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ua(t.arrayValue.values[n]);return e}return Object.assign({},t)}function U9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ua(n)}setAll(e){let n=mt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ua(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());wc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Co(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Tn(Ua(this.value))}}function oR(t){const e=[];return Co(t.fields,(n,r)=>{const i=new mt([n]);if(wc(r)){const s=oR(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ct(e,0,ce.min(),ce.min(),ce.min(),Tn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ct(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new Ct(e,2,n,ce.min(),ce.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,ce.min(),ce.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.position=e,this.inclusive=n}}function bw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=go(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ow(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!or(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n="asc"){this.field=e,this.dir=n}}function j9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{}class nt extends aR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new z9(e,n,r):n==="array-contains"?new W9(e,r):n==="in"?new H9(e,r):n==="not-in"?new G9(e,r):n==="array-contains-any"?new K9(e,r):new nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $9(e,r):new q9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(go(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends aR{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new zn(e,n)}matches(e){return lR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function lR(t){return t.op==="and"}function uR(t){return B9(t)&&lR(t)}function B9(t){for(const e of t.filters)if(e instanceof zn)return!1;return!0}function Hm(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+yo(t.value);if(uR(t))return t.filters.map(e=>Hm(e)).join(",");{const e=t.filters.map(n=>Hm(n)).join(",");return`${t.op}(${e})`}}function cR(t,e){return t instanceof nt?function(r,i){return i instanceof nt&&r.op===i.op&&r.field.isEqual(i.field)&&or(r.value,i.value)}(t,e):t instanceof zn?function(r,i){return i instanceof zn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&cR(o,i.filters[a]),!0):!1}(t,e):void ue()}function hR(t){return t instanceof nt?function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`}(t):t instanceof zn?function(n){return n.op.toString()+" {"+n.getFilters().map(hR).join(" ,")+"}"}(t):"Filter"}class z9 extends nt{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class $9 extends nt{constructor(e,n){super(e,"in",n),this.keys=fR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class q9 extends nt{constructor(e,n){super(e,"not-in",n),this.keys=fR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class W9 extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return e0(n)&&Al(n.arrayValue,this.value)}}class H9 extends nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Al(this.value.arrayValue,n)}}class G9 extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Al(this.value.arrayValue,n)}}class K9 extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!e0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Al(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Lw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Q9(t,e,n,r,i,s,o)}function t0(t){const e=he(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Hm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),gf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>yo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>yo(r)).join(",")),e.ue=n}return e.ue}function n0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!j9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ow(t.startAt,e.startAt)&&Ow(t.endAt,e.endAt)}function Gm(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function X9(t,e,n,r,i,s,o,a){return new Gl(t,e,n,r,i,s,o,a)}function dR(t){return new Gl(t)}function Fw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pR(t){return t.collectionGroup!==null}function ja(t){const e=he(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new yt(mt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Dh(s,r))}),n.has(mt.keyField().canonicalString())||e.ce.push(new Dh(mt.keyField(),r))}return e.ce}function tr(t){const e=he(t);return e.le||(e.le=Y9(e,ja(t))),e.le}function Y9(t,e){if(t.limitType==="F")return Lw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Dh(i.field,s)});const n=t.endAt?new Vh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vh(t.startAt.position,t.startAt.inclusive):null;return Lw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Km(t,e){const n=t.filters.concat([e]);return new Gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qm(t,e,n){return new Gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yf(t,e){return n0(tr(t),tr(e))&&t.limitType===e.limitType}function mR(t){return`${t0(tr(t))}|lt:${t.limitType}`}function Ts(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>hR(i)).join(", ")}]`),gf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>yo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>yo(i)).join(",")),`Target(${r})`}(tr(t))}; limitType=${t.limitType})`}function vf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ja(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=bw(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,ja(r),i)||r.endAt&&!function(o,a,l){const c=bw(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,ja(r),i))}(t,e)}function Z9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gR(t){return(e,n)=>{let r=!1;for(const i of ja(t)){const s=J9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function J9(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?go(l,c):ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Co(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return iR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=new We(ie.comparator);function Or(){return e3}const yR=new We(ie.comparator);function wa(...t){let e=yR;for(const n of t)e=e.insert(n.key,n);return e}function vR(t){let e=yR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zi(){return Ba()}function _R(){return Ba()}function Ba(){return new ko(t=>t.toString(),(t,e)=>t.isEqual(e))}const t3=new We(ie.comparator),n3=new yt(ie.comparator);function me(...t){let e=n3;for(const n of t)e=e.add(n);return e}const r3=new yt(Te);function i3(){return r3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(e)?"-0":e}}function wR(t){return{integerValue:""+t}}function s3(t,e){return b9(e)?wR(e):r0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(){this._=void 0}}function o3(t,e,n){return t instanceof Nh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Zy(s)&&(s=Jy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof xl?TR(t,e):t instanceof Pl?SR(t,e):function(i,s){const o=ER(i,s),a=Uw(o)+Uw(i.Pe);return Wm(o)&&Wm(i.Pe)?wR(a):r0(i.serializer,a)}(t,e)}function a3(t,e,n){return t instanceof xl?TR(t,e):t instanceof Pl?SR(t,e):n}function ER(t,e){return t instanceof Mh?function(r){return Wm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Nh extends _f{}class xl extends _f{constructor(e){super(),this.elements=e}}function TR(t,e){const n=AR(e);for(const r of t.elements)n.some(i=>or(i,r))||n.push(r);return{arrayValue:{values:n}}}class Pl extends _f{constructor(e){super(),this.elements=e}}function SR(t,e){let n=AR(e);for(const r of t.elements)n=n.filter(i=>!or(i,r));return{arrayValue:{values:n}}}class Mh extends _f{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Uw(t){return Ze(t.integerValue||t.doubleValue)}function AR(t){return e0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function l3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof xl&&i instanceof xl||r instanceof Pl&&i instanceof Pl?mo(r.elements,i.elements,or):r instanceof Mh&&i instanceof Mh?or(r.Pe,i.Pe):r instanceof Nh&&i instanceof Nh}(t.transform,e.transform)}class u3{constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ec(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wf{}function xR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new i0(t.key,nr.none()):new Kl(t.key,t.data,nr.none());{const n=t.data,r=Tn.empty();let i=new yt(mt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new hs(t.key,r,new Ln(i.toArray()),nr.none())}}function c3(t,e,n){t instanceof Kl?function(i,s,o){const a=i.value.clone(),l=Bw(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof hs?function(i,s,o){if(!Ec(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Bw(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(PR(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function za(t,e,n,r){return t instanceof Kl?function(s,o,a,l){if(!Ec(s.precondition,o))return a;const c=s.value.clone(),h=zw(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof hs?function(s,o,a,l){if(!Ec(s.precondition,o))return a;const c=zw(s.fieldTransforms,l,o),h=o.data;return h.setAll(PR(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Ec(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function h3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=ER(r.transform,i||null);s!=null&&(n===null&&(n=Tn.empty()),n.set(r.field,s))}return n||null}function jw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&mo(r,i,(s,o)=>l3(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kl extends wf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class hs extends wf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function PR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Bw(t,e,n){const r=new Map;Ie(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,a3(o,a,n[i]))}return r}function zw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,o3(s,o,e))}return r}class i0 extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f3 extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&c3(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=za(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=za(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_R();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=xR(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,(n,r)=>jw(n,r))&&mo(this.baseMutations,e.baseMutations,(n,r)=>jw(n,r))}}class s0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ie(e.mutations.length===r.length);let i=function(){return t3}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new s0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,ye;function g3(t){switch(t){default:return ue();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function RR(t){if(t===void 0)return br("GRPC error has no .code"),z.UNKNOWN;switch(t){case et.OK:return z.OK;case et.CANCELLED:return z.CANCELLED;case et.UNKNOWN:return z.UNKNOWN;case et.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case et.INTERNAL:return z.INTERNAL;case et.UNAVAILABLE:return z.UNAVAILABLE;case et.UNAUTHENTICATED:return z.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case et.NOT_FOUND:return z.NOT_FOUND;case et.ALREADY_EXISTS:return z.ALREADY_EXISTS;case et.PERMISSION_DENIED:return z.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case et.ABORTED:return z.ABORTED;case et.OUT_OF_RANGE:return z.OUT_OF_RANGE;case et.UNIMPLEMENTED:return z.UNIMPLEMENTED;case et.DATA_LOSS:return z.DATA_LOSS;default:return ue()}}(ye=et||(et={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=new Gi([4294967295,4294967295],0);function $w(t){const e=y3().encode(t),n=new QP;return n.update(e),new Uint8Array(n.digest())}function qw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Gi([n,r],0),new Gi([i,s],0)]}class o0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ea(`Invalid padding: ${n}`);if(r<0)throw new Ea(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ea(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ea(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Gi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Gi.fromNumber(r)));return i.compare(v3)===1&&(i=new Gi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=$w(e),[r,i]=qw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new o0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=$w(e),[r,i]=qw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ea extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ql.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ef(ce.min(),i,new We(Te),Or(),me())}}class Ql{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ql(r,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class IR{constructor(e,n){this.targetId=e,this.me=n}}class CR{constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ww{constructor(){this.fe=0,this.ge=Gw(),this.pe=_t.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=me(),n=me(),r=me();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ue()}}),new Ql(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Gw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ie(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class _3{constructor(e){this.Le=e,this.Be=new Map,this.ke=Or(),this.qe=Hw(),this.Qe=new We(Te)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Gm(s))if(r===0){const o=new ie(s.path);this.Ue(n,o,Ct.newNoDocument(o,ce.min()))}else Ie(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ss(r).toUint8Array()}catch(l){if(l instanceof sR)return po("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new o0(o,i,s)}catch(l){return po(l instanceof Ea?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Gm(a.target)){const l=new ie(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ct.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=me();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Ef(e,n,this.Qe,this.ke,r);return this.ke=Or(),this.qe=Hw(),this.Qe=new We(Te),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Ww,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new yt(Te),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ww),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Hw(){return new We(ie.comparator)}function Gw(){return new We(ie.comparator)}const w3={asc:"ASCENDING",desc:"DESCENDING"},E3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},T3={and:"AND",or:"OR"};class S3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xm(t,e){return t.useProto3Json||gf(e)?e:{value:e}}function bh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function A3(t,e){return bh(t,e.toTimestamp())}function rr(t){return Ie(!!t),ce.fromTimestamp(function(n){const r=gi(n);return new st(r.seconds,r.nanos)}(t))}function a0(t,e){return Ym(t,e).canonicalString()}function Ym(t,e){const n=function(i){return new De(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function VR(t){const e=De.fromString(t);return Ie(OR(e)),e}function Zm(t,e){return a0(t.databaseId,e.path)}function Kd(t,e){const n=VR(e);if(n.get(1)!==t.databaseId.projectId)throw new J(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(NR(n))}function DR(t,e){return a0(t.databaseId,e)}function x3(t){const e=VR(t);return e.length===4?De.emptyPath():NR(e)}function Jm(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NR(t){return Ie(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Kw(t,e,n){return{name:Zm(t,e),fields:n.value.mapValue.fields}}function P3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Ie(h===void 0||typeof h=="string"),_t.fromBase64String(h||"")):(Ie(h===void 0||h instanceof Buffer||h instanceof Uint8Array),_t.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?z.UNKNOWN:RR(c.code);return new J(h,c.message||"")}(o);n=new CR(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Kd(t,r.document.name),s=rr(r.document.updateTime),o=r.document.createTime?rr(r.document.createTime):ce.min(),a=new Tn({mapValue:{fields:r.document.fields}}),l=Ct.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Tc(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Kd(t,r.document),s=r.readTime?rr(r.readTime):ce.min(),o=Ct.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Tc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Kd(t,r.document),s=r.removedTargetIds||[];n=new Tc([],s,i,null)}else{if(!("filter"in e))return ue();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new m3(i,s),a=r.targetId;n=new IR(a,o)}}return n}function R3(t,e){let n;if(e instanceof Kl)n={update:Kw(t,e.key,e.value)};else if(e instanceof i0)n={delete:Zm(t,e.key)};else if(e instanceof hs)n={update:Kw(t,e.key,e.data),updateMask:O3(e.fieldMask)};else{if(!(e instanceof f3))return ue();n={verify:Zm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Nh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Pl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Mh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:A3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ue()}(t,e.precondition)),n}function I3(t,e){return t&&t.length>0?(Ie(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?rr(i.updateTime):rr(s);return o.isEqual(ce.min())&&(o=rr(s)),new u3(o,i.transformResults||[])}(n,e))):[]}function C3(t,e){return{documents:[DR(t,e.path)]}}function k3(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DR(t,i);const s=function(c){if(c.length!==0)return bR(zn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(d){return{field:Ss(d.field),direction:N3(d.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Xm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function V3(t){let e=x3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ie(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const d=MR(f);return d instanceof zn&&uR(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(v){return new Dh(As(v.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,gf(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,m=f.values||[];return new Vh(m,d)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const d=!f.before,m=f.values||[];return new Vh(m,d)}(n.endAt)),X9(e,i,o,s,a,"F",l,c)}function D3(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=As(n.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=As(n.unaryFilter.field);return nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=As(n.unaryFilter.field);return nt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=As(n.unaryFilter.field);return nt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(t):t.fieldFilter!==void 0?function(n){return nt.create(As(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zn.create(n.compositeFilter.filters.map(r=>MR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue()}}(n.compositeFilter.op))}(t):ue()}function N3(t){return w3[t]}function M3(t){return E3[t]}function b3(t){return T3[t]}function Ss(t){return{fieldPath:t.canonicalString()}}function As(t){return mt.fromServerFormat(t.fieldPath)}function bR(t){return t instanceof nt?function(n){if(n.op==="=="){if(Mw(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NAN"}};if(Nw(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Mw(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NOT_NAN"}};if(Nw(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ss(n.field),op:M3(n.op),value:n.value}}}(t):t instanceof zn?function(n){const r=n.getFilters().map(i=>bR(i));return r.length===1?r[0]:{compositeFilter:{op:b3(n.op),filters:r}}}(t):ue()}function O3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function OR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,r,i,s=ce.min(),o=ce.min(),a=_t.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e){this.ct=e}}function F3(t){const e=V3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(){this.un=new j3}addToCollectionParentIndex(e,n){return this.un.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(mi.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class j3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new yt(De.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yt(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new vo(0)}static kn(){return new vo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(){this.changes=new ko(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&za(r.mutation,i,Ln.empty(),st.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const i=zi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=wa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=zi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Or();const o=Ba(),a=function(){return Ba()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof hs)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),za(h.mutation,c,h.mutation.getFieldMask(),st.now())):o.set(c.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new z3(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ba();let i=new We((o,a)=>o-a),s=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||Ln.empty();h=a.applyToLocalView(c,h),r.set(l,h);const f=(i.get(a.batchId)||me()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,f=_R();h.forEach(d=>{if(!s.has(d)){const m=xR(n.get(d),r.get(d));m!==null&&f.set(d,m),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):q.resolve(zi());let a=-1,l=s;return o.next(c=>q.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?q.resolve():this.remoteDocumentCache.getEntry(e,h).next(d=>{l=l.insert(h,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,me())).next(h=>({batchId:a,changes:vR(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=wa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=wa();return this.indexManager.getCollectionParents(e,s).next(a=>q.forEach(a,l=>{const c=function(f,d){return new Gl(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Ct.newInvalidDocument(h)))});let a=wa();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&za(h.mutation,c,Ln.empty(),st.now()),vf(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:rr(i.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:F3(i.bundledQuery),readTime:rr(i.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(){this.overlays=new We(ie.comparator),this.Ir=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zi();return q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const i=zi(),s=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new We((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=zi(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=zi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return q.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new p3(n,r));let s=this.Ir.get(n);s===void 0&&(s=me(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(){this.sessionToken=_t.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.Tr=new yt(ot.Er),this.dr=new yt(ot.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ot(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ot(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ie(new De([])),r=new ot(n,e),i=new ot(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ie(new De([])),r=new ot(n,e),i=new ot(n,e+1);let s=me();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ot(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ot{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ie.comparator(e.key,n.key)||Te(e.wr,n.wr)}static Ar(e,n){return Te(e.wr,n.wr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new yt(ot.Er)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new d3(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new ot(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ot(n,0),i=new ot(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yt(Te);return n.forEach(i=>{const s=new ot(i,0),o=new ot(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ie.isDocumentKey(s)||(s=s.child(""));const o=new ot(new ie(s),0);let a=new yt(Te);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ie(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return q.forEach(n.mutations,i=>{const s=new ot(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ot(n,0),i=this.br.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e){this.Mr=e,this.docs=function(){return new We(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let r=Or();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ct.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Or();const o=n.path,a=new ie(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||V9(k9(h),r)<=0||(i.has(h.key)||vf(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ue()}Or(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Q3(this)}getSize(e){return q.resolve(this.size)}}class Q3 extends B3{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.persistence=e,this.Nr=new ko(n=>t0(n),n0),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new l0,this.targetCount=0,this.kr=vo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Kn(n),q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),q.waitFor(s).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Yy(0),this.Kr=!1,this.Kr=!0,this.$r=new H3,this.referenceDelegate=e(this),this.Ur=new X3(this),this.indexManager=new U3,this.remoteDocumentCache=function(i){return new K3(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new L3(n),this.Gr=new q3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new W3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new G3(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const i=new Z3(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Z3 extends N9{constructor(e){super(),this.currentSequenceNumber=e}}class u0{constructor(e){this.persistence=e,this.Jr=new l0,this.Yr=null}static Zr(e){return new u0(e)}get Xr(){if(this.Yr)return this.Yr;throw ue()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Xr,r=>{const i=ie.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ce.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return q.or([()=>q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=me(),i=me();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new c0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return $L()?8:M9(BL())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new J3;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(sa()<=_e.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Ts(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),q.resolve()):(sa()<=_e.DEBUG&&ee("QueryEngine","Query:",Ts(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(sa()<=_e.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Ts(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(n))):q.resolve())}Yi(e,n){if(Fw(n))return q.resolve(null);let r=tr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Qm(n,null,"F"),r=tr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=me(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,Qm(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return Fw(n)||i.isEqual(ce.min())?q.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?q.resolve(null):(sa()<=_e.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ts(n)),this.rs(e,o,n,C9(i,-1)).next(a=>a))})}ts(e,n){let r=new yt(gR(e));return n.forEach((i,s)=>{vf(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return sa()<=_e.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Ts(n)),this.Ji.getDocumentsMatchingQuery(e,n,mi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new We(Te),this._s=new ko(s=>t0(s),n0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $3(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function n5(t,e,n,r){return new t5(t,e,n,r)}async function LR(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=me();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function r5(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const f=c.batch,d=f.keys();let m=q.resolve();return d.forEach(v=>{m=m.next(()=>h.getEntry(l,v)).next(T=>{const P=c.docVersions.get(v);Ie(P!==null),T.version.compareTo(P)<0&&(f.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),h.addEntry(T)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=me();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function FR(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function i5(t,e){const n=he(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,f)=>{const d=i.get(f);if(!d)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,f)));let m=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(_t.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(f,m),function(T,P,_){return T.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(d,m,h)&&a.push(n.Ur.updateTargetData(s,m))});let l=Or(),c=me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(s5(s,o,e.documentUpdates).next(h=>{l=h.Ps,c=h.Is})),!r.isEqual(ce.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return q.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function s5(t,e,n){let r=me(),i=me();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Or();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function o5(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function a5(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,q.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Jr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function eg(t,e,n){const r=he(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Hl(o))throw o;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Qw(t,e,n){const r=he(t);let i=ce.min(),s=me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const f=he(l),d=f._s.get(h);return d!==void 0?q.resolve(f.os.get(d)):f.Ur.getTargetData(c,h)}(r,o,tr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ce.min(),n?s:me())).next(a=>(l5(r,Z9(e),a),{documents:a,Ts:s})))}function l5(t,e,n){let r=t.us.get(e)||ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Xw{constructor(){this.activeTargetIds=i3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u5{constructor(){this.so=new Xw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Xw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku=null;function Qd(){return Ku===null?Ku=function(){return 268435456+Math.round(2147483648*Math.random())}():Ku++,"0x"+Ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class d5 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Qd(),l=this.xo(n,r.toUriEncodedString());ee("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(h=>(ee("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw po("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Io}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=h5[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Qd();return new Promise((o,a)=>{const l=new XP;l.setWithCredentials(!0),l.listenOnce(ZP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case _c.NO_ERROR:const h=l.getResponseJson();ee(xt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case _c.TIMEOUT:ee(xt,`RPC '${e}' ${s} timed out`),a(new J(z.DEADLINE_EXCEEDED,"Request time out"));break;case _c.HTTP_ERROR:const f=l.getStatus();if(ee(xt,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const m=d==null?void 0:d.error;if(m&&m.status&&m.message){const v=function(P){const _=P.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(_)>=0?_:z.UNKNOWN}(m.status);a(new J(v,m.message))}else a(new J(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(z.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{ee(xt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ee(xt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Qd(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=tR(),a=eR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new YP({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");ee(xt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const f=o.createWebChannel(h,l);let d=!1,m=!1;const v=new f5({Io:P=>{m?ee(xt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(d||(ee(xt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),ee(xt,`RPC '${e}' stream ${i} sending:`,P),f.send(P))},To:()=>f.close()}),T=(P,_,w)=>{P.listen(_,y=>{try{w(y)}catch(A){setTimeout(()=>{throw A},0)}})};return T(f,_a.EventType.OPEN,()=>{m||(ee(xt,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),T(f,_a.EventType.CLOSE,()=>{m||(m=!0,ee(xt,`RPC '${e}' stream ${i} transport closed`),v.So())}),T(f,_a.EventType.ERROR,P=>{m||(m=!0,po(xt,`RPC '${e}' stream ${i} transport errored:`,P),v.So(new J(z.UNAVAILABLE,"The operation could not be completed")))}),T(f,_a.EventType.MESSAGE,P=>{var _;if(!m){const w=P.data[0];Ie(!!w);const y=w,A=y.error||((_=y[0])===null||_===void 0?void 0:_.error);if(A){ee(xt,`RPC '${e}' stream ${i} received error:`,A);const V=A.status;let N=function(R){const I=et[R];if(I!==void 0)return RR(I)}(V),x=A.message;N===void 0&&(N=z.INTERNAL,x="Unknown error status: "+V+" with message "+A.message),m=!0,v.So(new J(N,x)),f.close()}else ee(xt,`RPC '${e}' stream ${i} received:`,w),v.bo(w)}}),T(a,JP.STAT_EVENT,P=>{P.stat===$m.PROXY?ee(xt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===$m.NOPROXY&&ee(xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function Xd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(t){return new S3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new UR(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(br(n.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new J(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class p5 extends jR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=P3(this.serializer,e),r=function(s){if(!("targetChange"in s))return ce.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?rr(o.readTime):ce.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Jm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Gm(l)?{documents:C3(s,l)}:{query:k3(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=kR(s,o.resumeToken);const c=Xm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=bh(s,o.snapshotVersion.toTimestamp());const c=Xm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=D3(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Jm(this.serializer),n.removeTarget=e,this.a_(n)}}class m5 extends jR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=I3(e.writeResults,e.commitTime),r=rr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Jm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>R3(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new J(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Ym(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(z.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Ym(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(z.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class y5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(br(n),this.D_=!1):ee("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{fs(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=he(l);c.L_.add(4),await Xl(c),c.q_.set("Unknown"),c.L_.delete(4),await Sf(c)}(this))})}),this.q_=new y5(r,i)}}async function Sf(t){if(fs(t))for(const e of t.B_)await e(!0)}async function Xl(t){for(const e of t.B_)await e(!1)}function BR(t,e){const n=he(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),p0(n)?d0(n):Vo(n).r_()&&f0(n,e))}function h0(t,e){const n=he(t),r=Vo(n);n.N_.delete(e),r.r_()&&zR(n,e),n.N_.size===0&&(r.r_()?r.o_():fs(n)&&n.q_.set("Unknown"))}function f0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vo(t).A_(e)}function zR(t,e){t.Q_.xe(e),Vo(t).R_(e)}function d0(t){t.Q_=new _3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Vo(t).start(),t.q_.v_()}function p0(t){return fs(t)&&!Vo(t).n_()&&t.N_.size>0}function fs(t){return he(t).L_.size===0}function $R(t){t.Q_=void 0}async function _5(t){t.q_.set("Online")}async function w5(t){t.N_.forEach((e,n)=>{f0(t,e)})}async function E5(t,e){$R(t),p0(t)?(t.q_.M_(e),d0(t)):t.q_.set("Unknown")}async function T5(t,e,n){if(t.q_.set("Online"),e instanceof CR&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Oh(t,r)}else if(e instanceof Tc?t.Q_.Ke(e):e instanceof IR?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ce.min()))try{const r=await FR(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.N_.get(c);h&&s.N_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.N_.get(l);if(!h)return;s.N_.set(l,h.withResumeToken(_t.EMPTY_BYTE_STRING,h.snapshotVersion)),zR(s,l);const f=new Jr(h.target,l,c,h.sequenceNumber);f0(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),await Oh(t,r)}}async function Oh(t,e,n){if(!Hl(e))throw e;t.L_.add(1),await Xl(t),t.q_.set("Offline"),n||(n=()=>FR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Sf(t)})}function qR(t,e){return e().catch(n=>Oh(t,n,e))}async function Af(t){const e=he(t),n=yi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;S5(e);)try{const i=await o5(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,A5(e,i)}catch(i){await Oh(e,i)}WR(e)&&HR(e)}function S5(t){return fs(t)&&t.O_.length<10}function A5(t,e){t.O_.push(e);const n=yi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function WR(t){return fs(t)&&!yi(t).n_()&&t.O_.length>0}function HR(t){yi(t).start()}async function x5(t){yi(t).p_()}async function P5(t){const e=yi(t);for(const n of t.O_)e.m_(n.mutations)}async function R5(t,e,n){const r=t.O_.shift(),i=s0.from(r,e,n);await qR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Af(t)}async function I5(t,e){e&&yi(t).V_&&await async function(r,i){if(function(o){return g3(o)&&o!==z.ABORTED}(i.code)){const s=r.O_.shift();yi(r).s_(),await qR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Af(r)}}(t,e),WR(t)&&HR(t)}async function Zw(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const r=fs(n);n.L_.add(3),await Xl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Sf(n)}async function C5(t,e){const n=he(t);e?(n.L_.delete(2),await Sf(n)):e||(n.L_.add(2),await Xl(n),n.q_.set("Unknown"))}function Vo(t){return t.K_||(t.K_=function(n,r,i){const s=he(n);return s.w_(),new p5(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:_5.bind(null,t),Ro:w5.bind(null,t),mo:E5.bind(null,t),d_:T5.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),p0(t)?d0(t):t.q_.set("Unknown")):(await t.K_.stop(),$R(t))})),t.K_}function yi(t){return t.U_||(t.U_=function(n,r,i){const s=he(n);return s.w_(),new m5(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:x5.bind(null,t),mo:I5.bind(null,t),f_:P5.bind(null,t),g_:R5.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Af(t)):(await t.U_.stop(),t.O_.length>0&&(ee("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new m0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function g0(t,e){if(br("AsyncQueue",`${e}: ${t}`),Hl(t))return new J(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=wa(),this.sortedSet=new We(this.comparator)}static emptySet(e){return new Js(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Js)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Js;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.W_=new We(ie.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ue():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class _o{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new _o(e,n,Js.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class V5{constructor(){this.queries=eE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=he(n),s=i.queries;i.queries=eE(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new J(z.ABORTED,"Firestore shutting down"))}}function eE(){return new ko(t=>mR(t),yf)}async function D5(t,e){const n=he(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new k5,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=g0(o,`Initialization of query '${Ts(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&y0(n)}async function N5(t,e){const n=he(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function M5(t,e){const n=he(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&y0(n)}function b5(t,e,n){const r=he(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function y0(t){t.Y_.forEach(e=>{e.next()})}var tg,tE;(tE=tg||(tg={})).ea="default",tE.Cache="cache";class O5{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new _o(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==tg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.key=e}}class KR{constructor(e){this.key=e}}class L5{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=me(),this.mutatedKeys=me(),this.Aa=gR(e),this.Ra=new Js(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Jw,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const d=i.get(h),m=vf(this.query,f)?f:null,v=!!d&&this.mutatedKeys.has(d.key),T=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let P=!1;d&&m?d.data.isEqual(m.data)?v!==T&&(r.track({type:3,doc:m}),P=!0):this.ga(d,m)||(r.track({type:2,doc:m}),P=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(a=!0)):!d&&m?(r.track({type:0,doc:m}),P=!0):d&&!m&&(r.track({type:1,doc:d}),P=!0,(l||c)&&(a=!0)),P&&(m?(o=o.add(m),s=T?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,f)=>function(m,v){const T=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return T(m)-T(v)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new _o(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Jw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new KR(r))}),this.da.forEach(r=>{e.has(r)||n.push(new GR(r))}),n}ba(e){this.Ta=e.Ts,this.da=me();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return _o.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class F5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class U5{constructor(e){this.key=e,this.va=!1}}class j5{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ko(a=>mR(a),yf),this.Ma=new Map,this.xa=new Set,this.Oa=new We(ie.comparator),this.Na=new Map,this.La=new l0,this.Ba={},this.ka=new Map,this.qa=vo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function B5(t,e,n=!0){const r=eI(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await QR(r,e,n,!0),i}async function z5(t,e){const n=eI(t);await QR(n,e,!0,!1)}async function QR(t,e,n,r){const i=await a5(t.localStore,tr(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await $5(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&BR(t.remoteStore,i),a}async function $5(t,e,n,r,i){t.Ka=(f,d,m)=>async function(T,P,_,w){let y=P.view.ma(_);y.ns&&(y=await Qw(T.localStore,P.query,!1).then(({documents:x})=>P.view.ma(x,y)));const A=w&&w.targetChanges.get(P.targetId),V=w&&w.targetMismatches.get(P.targetId)!=null,N=P.view.applyChanges(y,T.isPrimaryClient,A,V);return rE(T,P.targetId,N.wa),N.snapshot}(t,f,d,m);const s=await Qw(t.localStore,e,!0),o=new L5(e,s.Ts),a=o.ma(s.documents),l=Ql.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);rE(t,n,c.wa);const h=new F5(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function q5(t,e,n){const r=he(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!yf(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await eg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&h0(r.remoteStore,i.targetId),ng(r,i.targetId)}).catch(Wl)):(ng(r,i.targetId),await eg(r.localStore,i.targetId,!0))}async function W5(t,e){const n=he(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),h0(n.remoteStore,r.targetId))}async function H5(t,e,n){const r=J5(t);try{const i=await function(o,a){const l=he(o),c=st.now(),h=a.reduce((m,v)=>m.add(v.key),me());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=Or(),T=me();return l.cs.getEntries(m,h).next(P=>{v=P,v.forEach((_,w)=>{w.isValidDocument()||(T=T.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(P=>{f=P;const _=[];for(const w of a){const y=h3(w,f.get(w.key).overlayedDocument);y!=null&&_.push(new hs(w.key,y,oR(y.value.mapValue),nr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,_,a)}).next(P=>{d=P;const _=P.applyToLocalDocumentSet(f,T);return l.documentOverlayCache.saveOverlays(m,P.batchId,_)})}).then(()=>({batchId:d.batchId,changes:vR(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new We(Te)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Yl(r,i.changes),await Af(r.remoteStore)}catch(i){const s=g0(i,"Failed to persist write");n.reject(s)}}async function XR(t,e){const n=he(t);try{const r=await i5(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ie(o.va):i.removedDocuments.size>0&&(Ie(o.va),o.va=!1))}),await Yl(n,r,e)}catch(r){await Wl(r)}}function nE(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=he(o);l.onlineState=a;let c=!1;l.queries.forEach((h,f)=>{for(const d of f.j_)d.Z_(a)&&(c=!0)}),c&&y0(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function G5(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new We(ie.comparator);o=o.insert(s,Ct.newNoDocument(s,ce.min()));const a=me().add(s),l=new Ef(ce.min(),new Map,new We(Te),o,a);await XR(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),v0(r)}else await eg(r.localStore,e,!1).then(()=>ng(r,e,n)).catch(Wl)}async function K5(t,e){const n=he(t),r=e.batch.batchId;try{const i=await r5(n.localStore,e);ZR(n,r,null),YR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yl(n,i)}catch(i){await Wl(i)}}async function Q5(t,e,n){const r=he(t);try{const i=await function(o,a){const l=he(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ie(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);ZR(r,e,n),YR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yl(r,i)}catch(i){await Wl(i)}}function YR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function ZR(t,e,n){const r=he(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ng(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||JR(t,r)})}function JR(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(h0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),v0(t))}function rE(t,e,n){for(const r of n)r instanceof GR?(t.La.addReference(r.key,e),X5(t,r)):r instanceof KR?(ee("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||JR(t,r.key)):ue()}function X5(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ee("SyncEngine","New document in limbo: "+n),t.xa.add(r),v0(t))}function v0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ie(De.fromString(e)),r=t.qa.next();t.Na.set(r,new U5(n)),t.Oa=t.Oa.insert(n,r),BR(t.remoteStore,new Jr(tr(dR(n.path)),r,"TargetPurposeLimboResolution",Yy.oe))}}async function Yl(t,e,n){const r=he(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=c0.Wi(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const h=he(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>q.forEach(c,d=>q.forEach(d.$i,m=>h.persistence.referenceDelegate.addReference(f,d.targetId,m)).next(()=>q.forEach(d.Ui,m=>h.persistence.referenceDelegate.removeReference(f,d.targetId,m)))))}catch(f){if(!Hl(f))throw f;ee("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const d=f.targetId;if(!f.fromCache){const m=h.os.get(d),v=m.snapshotVersion,T=m.withLastLimboFreeSnapshotVersion(v);h.os=h.os.insert(d,T)}}}(r.localStore,s))}async function Y5(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const r=await LR(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new J(z.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yl(n,r.hs)}}function Z5(t,e){const n=he(t),r=n.Na.get(e);if(r&&r.va)return me().add(r.key);{let i=me();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function eI(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=G5.bind(null,e),e.Ca.d_=M5.bind(null,e.eventManager),e.Ca.$a=b5.bind(null,e.eventManager),e}function J5(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=K5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Q5.bind(null,e),e}class iE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Tf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return n5(this.persistence,new e5,e.initialUser,this.serializer)}createPersistence(e){return new Y3(u0.Zr,this.serializer)}createSharedClientState(e){return new u5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class e6{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y5.bind(null,this.syncEngine),await C5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new V5}()}createDatastore(e){const n=Tf(e.databaseInfo.databaseId),r=function(s){return new d5(s)}(e.databaseInfo);return function(s,o,a,l){return new g5(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new v5(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>nE(this.syncEngine,n,0),function(){return Yw.D()?new Yw:new c5}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const f=new j5(i,s,o,a,l,c);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=he(i);ee("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Xl(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=rR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ee("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ee("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=g0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yd(t,e){t.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await LR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function sE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await i6(t);ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Zw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Zw(e.remoteStore,i)),t._onlineComponents=e}function r6(t){return t.name==="FirebaseError"?t.code===z.FAILED_PRECONDITION||t.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function i6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!r6(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await Yd(t,new iE)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await Yd(t,new iE);return t._offlineComponents}async function tI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await sE(t,t._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await sE(t,new e6))),t._onlineComponents}function s6(t){return tI(t).then(e=>e.syncEngine)}async function o6(t){const e=await tI(t),n=e.eventManager;return n.onListen=B5.bind(null,e.syncEngine),n.onUnlisten=q5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=z5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=W5.bind(null,e.syncEngine),n}function a6(t,e,n={}){const r=new hi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new t6({next:d=>{o.enqueueAndForget(()=>N5(s,f)),d.fromCache&&l.source==="server"?c.reject(new J(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new O5(a,h,{includeMetadataChanges:!0,_a:!0});return D5(s,f)}(await o6(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t,e,n){if(!n)throw new J(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function l6(t,e,n,r){if(e===!0&&r===!0)throw new J(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function aE(t){if(!ie.isDocumentKey(t))throw new J(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lE(t){if(ie.isDocumentKey(t))throw new J(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue()}function Rl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xf(t);throw new J(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}l6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new w9;switch(r.type){case"firstParty":return new A9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=oE.get(n);r&&(ee("ComponentProvider","Removing Datastore"),oE.delete(n),r.terminate())}(this),Promise.resolve()}}function u6(t,e,n,r={}){var i;const s=(t=Rl(t,Pf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Rt.MOCK_USER;else{a=vP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new J(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Rt(c)}t._authCredentials=new E9(new nR(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Do(this.firestore,e,this._query)}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class fi extends Do{constructor(e,n,r){super(e,n,dR(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new ie(e))}withConverter(e){return new fi(this.firestore,e,this._path)}}function iI(t,e,...n){if(t=Bn(t),rI("collection","path",e),t instanceof Pf){const r=De.fromString(e,...n);return lE(r),new fi(t,null,r)}{if(!(t instanceof Pn||t instanceof fi))throw new J(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return lE(r),new fi(t.firestore,null,r)}}function sI(t,e,...n){if(t=Bn(t),arguments.length===1&&(e=rR.newId()),rI("doc","path",e),t instanceof Pf){const r=De.fromString(e,...n);return aE(r),new Pn(t,null,new ie(r))}{if(!(t instanceof Pn||t instanceof fi))throw new J(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return aE(r),new Pn(t.firestore,t instanceof fi?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new UR(this,"async_queue_retry"),this.Eu=()=>{const n=Xd();n&&ee("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Xd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Xd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new hi;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Hl(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw br("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=m0.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&ue()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class Rf extends Pf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new c6}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||aI(this),this._firestoreClient.terminate()}}function h6(t,e){const n=typeof t=="object"?t:PP(),r=typeof t=="string"?t:"(default)",i=SP(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=gP("firestore");s&&u6(i,...s)}return i}function oI(t){return t._firestoreClient||aI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function aI(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,h){return new L9(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,nI(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new n6(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wo(_t.fromBase64String(e))}catch(n){throw new J(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wo(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=/^__.*__$/;class d6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kl(e,this.data,n,this.fieldTransforms)}}function uI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}class T0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new T0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Lh(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(uI(this.wu)&&f6.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class p6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Tf(e)}Nu(e,n,r,i=!1){return new T0({wu:e,methodName:n,Ou:r,path:mt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cI(t){const e=t._freezeSettings(),n=Tf(t._databaseId);return new p6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function m6(t,e,n,r,i,s={}){const o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);dI("Data must be an object, but it was:",o,r);const a=hI(r,o);let l,c;if(s.merge)l=new Ln(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const d=y6(e,f,n);if(!o.contains(d))throw new J(z.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);_6(h,d)||h.push(d)}l=new Ln(h),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new d6(new Tn(a),l,c)}function g6(t,e,n,r=!1){return S0(n,t.Nu(r?4:3,e))}function S0(t,e){if(fI(t=Bn(t)))return dI("Unsupported field value:",e,t),hI(t,e);if(t instanceof lI)return function(r,i){if(!uI(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=S0(a,i.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Bn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return s3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=st.fromDate(r);return{timestampValue:bh(i.serializer,s)}}if(r instanceof st){const s=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bh(i.serializer,s)}}if(r instanceof w0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wo)return{bytesValue:kR(i.serializer,r._byteString)};if(r instanceof Pn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:a0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof E0)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return r0(a.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${xf(r)}`)}(t,e)}function hI(t,e){const n={};return iR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Co(t,(r,i)=>{const s=S0(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function fI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof w0||t instanceof wo||t instanceof Pn||t instanceof lI||t instanceof E0)}function dI(t,e,n){if(!fI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=xf(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function y6(t,e,n){if((e=Bn(e))instanceof _0)return e._internalPath;if(typeof e=="string")return pI(t,e);throw Lh("Field path arguments must be of type string or ",t,!1,void 0,n)}const v6=new RegExp("[~\\*/\\[\\]]");function pI(t,e,n){if(e.search(v6)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _0(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new J(z.INVALID_ARGUMENT,a+t+l)}function _6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new w6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(A0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class w6 extends mI{data(){return super.data()}}function A0(t,e){return typeof e=="string"?pI(t,e):e instanceof _0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class x0{}class T6 extends x0{}function S6(t,e,...n){let r=[];e instanceof x0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof P0).length,a=s.filter(l=>l instanceof If).length;if(o>1||o>0&&a>0)throw new J(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class If extends T6{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new If(e,n,r)}_apply(e){const n=this._parse(e);return gI(e._query,n),new Do(e.firestore,e.converter,Km(e._query,n))}_parse(e){const n=cI(e.firestore);return function(s,o,a,l,c,h,f){let d;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new J(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){hE(f,h);const m=[];for(const v of f)m.push(cE(l,s,v));d={arrayValue:{values:m}}}else d=cE(l,s,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||hE(f,h),d=g6(a,o,f,h==="in"||h==="not-in");return nt.create(c,h,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function A6(t,e,n){const r=e,i=A0("where",t);return If._create(i,r,n)}class P0 extends x0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new P0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)gI(o,l),o=Km(o,l)}(e._query,n),new Do(e.firestore,e.converter,Km(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function cE(t,e,n){if(typeof(n=Bn(n))=="string"){if(n==="")throw new J(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pR(e)&&n.indexOf("/")!==-1)throw new J(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(De.fromString(n));if(!ie.isDocumentKey(r))throw new J(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dw(t,new ie(r))}if(n instanceof Pn)return Dw(t,n._key);throw new J(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xf(n)}.`)}function hE(t,e){if(!Array.isArray(t)||t.length===0)throw new J(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gI(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class x6{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Co(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ze(o.doubleValue));return new E0(s)}convertGeoPoint(e){return new w0(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Jy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tl(e));default:return null}}convertTimestamp(e){const n=gi(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=De.fromString(e);Ie(OR(r));const i=new Sl(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(n)||br(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class R6 extends mI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(A0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sc extends R6{data(e={}){return super.data(e)}}class I6{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sc(this._firestore,this._userDataWriter,r.key,r,new Qu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Sc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Sc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:C6(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function C6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}class k6 extends x6{constructor(e){super(),this.firestore=e}convertBytes(e){return new wo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function V6(t){t=Rl(t,Do);const e=Rl(t.firestore,Rf),n=oI(e),r=new k6(e);return E6(t._query),a6(n,t._query).then(i=>new I6(e,r,t,i))}function D6(t){return yI(Rl(t.firestore,Rf),[new i0(t._key,nr.none())])}function N6(t,e){const n=Rl(t.firestore,Rf),r=sI(t),i=P6(t.converter,e);return yI(n,[m6(cI(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,nr.exists(!1))]).then(()=>r)}function yI(t,e){return function(r,i){const s=new hi;return r.asyncQueue.enqueueAndForget(async()=>H5(await s6(r),i,s)),s.promise}(oI(t),e)}(function(e,n=!0){(function(i){Io=i})(AP),_l(new fo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Rf(new T9(r.getProvider("auth-internal")),new P9(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new J(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ci(Rw,"4.7.1",e),ci(Rw,"4.7.1","esm2017")})();const M6={apiKey:"AIzaSyB9PhMGarEyxH7z-A6smwEyCzZMzxlb-B4",authDomain:"mapa-interactivo-f1b27.firebaseapp.com",projectId:"mapa-interactivo-f1b27",storageBucket:"mapa-interactivo-f1b27.appspot.com",messagingSenderId:"514963880987",appId:"1:514963880987:web:39e58e06dbd4df1e024cbe",measurementId:"G-M933RJPQ6F"},vI=xP(M6),_I=g9(vI),R0=h6(vI);function b6(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function Il(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const rg=t=>Array.isArray(t);function wI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Cl(t){return typeof t=="string"||Array.isArray(t)}function fE(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function I0(t,e,n,r){if(typeof e=="function"){const[i,s]=fE(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=fE(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Cf(t,e,n){const r=t.getProps();return I0(r,e,n!==void 0?n:r.custom,t)}const C0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],k0=["initial",...C0],Zl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Si=new Set(Zl),Sr=t=>t*1e3,Ar=t=>t/1e3,O6={type:"spring",stiffness:500,damping:25,restSpeed:10},L6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),F6={type:"keyframes",duration:.8},U6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},j6=(t,{keyframes:e})=>e.length>2?F6:Si.has(t)?t.startsWith("scale")?L6(e[1]):O6:U6;function B6({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}function V0(t,e){return t[e]||t.default||t}const z6={skipAnimations:!1,useManualTiming:!1},$6=t=>t!==null;function kf(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter($6),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Dt=t=>t;function q6(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,h=!1,f=!1)=>{const m=f&&r?e:n;return h&&s.add(c),m.has(c)||m.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(c))}};return l}const Xu=["read","resolveKeyframes","update","preRender","render","postRender"],W6=40;function EI(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Xu.reduce((_,w)=>(_[w]=q6(s),_),{}),{read:a,resolveKeyframes:l,update:c,preRender:h,render:f,postRender:d}=o,m=()=>{const _=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,W6),1),i.timestamp=_,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),h.process(i),f.process(i),d.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},v=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:Xu.reduce((_,w)=>{const y=o[w];return _[w]=(A,V=!1,N=!1)=>(n||v(),y.schedule(A,V,N)),_},{}),cancel:_=>{for(let w=0;w<Xu.length;w++)o[Xu[w]].cancel(_)},state:i,steps:o}}const{schedule:Ae,cancel:Lr,state:ft,steps:Zd}=EI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dt,!0),TI=t=>/^0[^.\s]+$/u.test(t);function H6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||TI(t):!0}let ig=Dt;const SI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),AI=t=>e=>typeof e=="string"&&e.startsWith(t),xI=AI("--"),G6=AI("var(--"),D0=t=>G6(t)?K6.test(t.split("/*")[0].trim()):!1,K6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Q6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function X6(t){const e=Q6.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function PI(t,e,n=1){const[r,i]=X6(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return SI(o)?parseFloat(o):o}return D0(i)?PI(i,e,n+1):i}const vi=(t,e,n)=>n>e?e:n<t?t:n,No={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$a={...No,transform:t=>vi(0,1,t)},Yu={...No,default:1},qa=t=>Math.round(t*1e5)/1e5,N0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,Y6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,Z6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function Jl(t){return typeof t=="string"}function J6(t){return t==null}const eu=t=>({test:e=>Jl(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$r=eu("deg"),ir=eu("%"),oe=eu("px"),eU=eu("vh"),tU=eu("vw"),dE={...ir,parse:t=>ir.parse(t)/100,transform:t=>ir.transform(t*100)},nU=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),pE=t=>t===No||t===oe,mE=(t,e)=>parseFloat(t.split(", ")[e]),gE=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return mE(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?mE(s[1],t):0}},rU=new Set(["x","y","z"]),iU=Zl.filter(t=>!rU.has(t));function sU(t){const e=[];return iU.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Eo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:gE(4,13),y:gE(5,14)};Eo.translateX=Eo.x;Eo.translateY=Eo.y;const RI=t=>e=>e.test(t),oU={test:t=>t==="auto",parse:t=>t},II=[No,oe,ir,$r,tU,eU,oU],yE=t=>II.find(RI(t)),Ki=new Set;let sg=!1,og=!1;function CI(){if(og){const t=Array.from(Ki).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=sU(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}og=!1,sg=!1,Ki.forEach(t=>t.complete()),Ki.clear()}function kI(){Ki.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(og=!0)})}function aU(){kI(),CI()}class M0{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ki.add(this),sg||(sg=!0,Ae.read(kI),Ae.resolveKeyframes(CI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ki.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ki.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const b0=(t,e)=>n=>!!(Jl(n)&&Z6.test(n)&&n.startsWith(t)||e&&!J6(n)&&Object.prototype.hasOwnProperty.call(n,e)),VI=(t,e,n)=>r=>{if(!Jl(r))return r;const[i,s,o,a]=r.match(N0);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},lU=t=>vi(0,255,t),Jd={...No,transform:t=>Math.round(lU(t))},$i={test:b0("rgb","red"),parse:VI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Jd.transform(t)+", "+Jd.transform(e)+", "+Jd.transform(n)+", "+qa($a.transform(r))+")"};function uU(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const ag={test:b0("#"),parse:uU,transform:$i.transform},js={test:b0("hsl","hue"),parse:VI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ir.transform(qa(e))+", "+ir.transform(qa(n))+", "+qa($a.transform(r))+")"},Pt={test:t=>$i.test(t)||ag.test(t)||js.test(t),parse:t=>$i.test(t)?$i.parse(t):js.test(t)?js.parse(t):ag.parse(t),transform:t=>Jl(t)?t:t.hasOwnProperty("red")?$i.transform(t):js.transform(t)};function cU(t){var e,n;return isNaN(t)&&Jl(t)&&(((e=t.match(N0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Y6))===null||n===void 0?void 0:n.length)||0)>0}const DI="number",NI="color",hU="var",fU="var(",vE="${}",dU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function kl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(dU,l=>(Pt.test(l)?(r.color.push(s),i.push(NI),n.push(Pt.parse(l))):l.startsWith(fU)?(r.var.push(s),i.push(hU),n.push(l)):(r.number.push(s),i.push(DI),n.push(parseFloat(l))),++s,vE)).split(vE);return{values:n,split:a,indexes:r,types:i}}function MI(t){return kl(t).values}function bI(t){const{split:e,types:n}=kl(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===DI?s+=qa(i[o]):a===NI?s+=Pt.transform(i[o]):s+=i[o]}return s}}const pU=t=>typeof t=="number"?0:t;function mU(t){const e=MI(t);return bI(t)(e.map(pU))}const _i={test:cU,parse:MI,createTransformer:bI,getAnimatableNone:mU},gU=new Set(["brightness","contrast","saturate","opacity"]);function yU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(N0)||[];if(!r)return t;const i=n.replace(r,"");let s=gU.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const vU=/\b([a-z-]*)\(.*?\)/gu,lg={..._i,getAnimatableNone:t=>{const e=t.match(vU);return e?e.map(yU).join(" "):t}},_E={...No,transform:Math.round},O0={borderWidth:oe,borderTopWidth:oe,borderRightWidth:oe,borderBottomWidth:oe,borderLeftWidth:oe,borderRadius:oe,radius:oe,borderTopLeftRadius:oe,borderTopRightRadius:oe,borderBottomRightRadius:oe,borderBottomLeftRadius:oe,width:oe,maxWidth:oe,height:oe,maxHeight:oe,size:oe,top:oe,right:oe,bottom:oe,left:oe,padding:oe,paddingTop:oe,paddingRight:oe,paddingBottom:oe,paddingLeft:oe,margin:oe,marginTop:oe,marginRight:oe,marginBottom:oe,marginLeft:oe,rotate:$r,rotateX:$r,rotateY:$r,rotateZ:$r,scale:Yu,scaleX:Yu,scaleY:Yu,scaleZ:Yu,skew:$r,skewX:$r,skewY:$r,distance:oe,translateX:oe,translateY:oe,translateZ:oe,x:oe,y:oe,z:oe,perspective:oe,transformPerspective:oe,opacity:$a,originX:dE,originY:dE,originZ:oe,zIndex:_E,backgroundPositionX:oe,backgroundPositionY:oe,fillOpacity:$a,strokeOpacity:$a,numOctaves:_E},_U={...O0,color:Pt,backgroundColor:Pt,outlineColor:Pt,fill:Pt,stroke:Pt,borderColor:Pt,borderTopColor:Pt,borderRightColor:Pt,borderBottomColor:Pt,borderLeftColor:Pt,filter:lg,WebkitFilter:lg},L0=t=>_U[t];function OI(t,e){let n=L0(t);return n!==lg&&(n=_i),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const wU=new Set(["auto","none","0"]);function EU(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!wU.has(s)&&kl(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=OI(n,i)}class LI extends M0{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),D0(c))){const h=PI(c,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!nU.has(r)||e.length!==2)return;const[i,s]=e,o=yE(i),a=yE(s);if(o!==a)if(pE(o)&&pE(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)H6(e[i])&&r.push(i);r.length&&EU(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Eo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Eo[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function FI(t){let e;return()=>(e===void 0&&(e=t()),e)}let Ac;function TU(){Ac=void 0}const xr={now:()=>(Ac===void 0&&xr.set(ft.isProcessing||z6.useManualTiming?ft.timestamp:performance.now()),Ac),set:t=>{Ac=t,queueMicrotask(TU)}},wE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_i.test(t)||t==="0")&&!t.startsWith("url("));function SU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function AU(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=wE(i,e),a=wE(s,e);return!o||!a?!1:SU(t)||n==="spring"&&r}const xU=40;class UI{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=xr.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>xU?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&aU(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=xr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!AU(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(kf(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function jI(t,e){return e?t*(1e3/e):0}const PU=5;function BI(t,e,n){const r=Math.max(e-PU,0);return jI(n-t(r),e-r)}const ep=.001,RU=.01,IU=10,CU=.05,kU=1;function VU({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=vi(CU,kU,o),t=vi(RU,IU,Ar(t)),o<1?(i=c=>{const h=c*o,f=h*t,d=h-n,m=ug(c,o),v=Math.exp(-f);return ep-d/m*v},s=c=>{const f=c*o*t,d=f*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-f),T=ug(Math.pow(c,2),o);return(-i(c)+ep>0?-1:1)*((d-m)*v)/T}):(i=c=>{const h=Math.exp(-c*t),f=(c-n)*t+1;return-ep+h*f},s=c=>{const h=Math.exp(-c*t),f=(n-c)*(t*t);return h*f});const a=5/t,l=NU(i,s,a);if(t=Sr(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const DU=12;function NU(t,e,n){let r=n;for(let i=1;i<DU;i++)r=r-t(r)/e(r);return r}function ug(t,e){return t*Math.sqrt(1-e*e)}const MU=["duration","bounce"],bU=["stiffness","damping","mass"];function EE(t,e){return e.some(n=>t[n]!==void 0)}function OU(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!EE(t,bU)&&EE(t,MU)){const n=VU(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function zI({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:h,velocity:f,isResolvedFromDuration:d}=OU({...r,velocity:-Ar(r.velocity||0)}),m=f||0,v=l/(2*Math.sqrt(a*c)),T=s-i,P=Ar(Math.sqrt(a/c)),_=Math.abs(T)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let w;if(v<1){const y=ug(P,v);w=A=>{const V=Math.exp(-v*P*A);return s-V*((m+v*P*T)/y*Math.sin(y*A)+T*Math.cos(y*A))}}else if(v===1)w=y=>s-Math.exp(-P*y)*(T+(m+P*T)*y);else{const y=P*Math.sqrt(v*v-1);w=A=>{const V=Math.exp(-v*P*A),N=Math.min(y*A,300);return s-V*((m+v*P*T)*Math.sinh(N)+y*T*Math.cosh(N))/y}}return{calculatedDuration:d&&h||null,next:y=>{const A=w(y);if(d)o.done=y>=h;else{let V=0;v<1&&(V=y===0?Sr(m):BI(w,y,A));const N=Math.abs(V)<=n,x=Math.abs(s-A)<=e;o.done=N&&x}return o.value=o.done?s:A,o}}}function TE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const f=t[0],d={done:!1,value:f},m=E=>a!==void 0&&E<a||l!==void 0&&E>l,v=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let T=n*e;const P=f+T,_=o===void 0?P:o(P);_!==P&&(T=_-f);const w=E=>-T*Math.exp(-E/r),y=E=>_+w(E),A=E=>{const R=w(E),I=y(E);d.done=Math.abs(R)<=c,d.value=d.done?_:I};let V,N;const x=E=>{m(d.value)&&(V=E,N=zI({keyframes:[d.value,v(d.value)],velocity:BI(y,E,d.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return x(0),{calculatedDuration:null,next:E=>{let R=!1;return!N&&V===void 0&&(R=!0,A(E),x(E)),V!==void 0&&E>=V?N.next(E-V):(!R&&A(E),d)}}}const $I=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,LU=1e-7,FU=12;function UU(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=$I(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>LU&&++a<FU);return o}function tu(t,e,n,r){if(t===e&&n===r)return Dt;const i=s=>UU(s,0,1,t,n);return s=>s===0||s===1?s:$I(i(s),e,r)}const jU=tu(.42,0,1,1),BU=tu(0,0,.58,1),qI=tu(.42,0,.58,1),zU=t=>Array.isArray(t)&&typeof t[0]!="number",WI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,HI=t=>e=>1-t(1-e),F0=t=>1-Math.sin(Math.acos(t)),GI=HI(F0),$U=WI(F0),KI=tu(.33,1.53,.69,.99),U0=HI(KI),qU=WI(U0),WU=t=>(t*=2)<1?.5*U0(t):.5*(2-Math.pow(2,-10*(t-1))),SE={linear:Dt,easeIn:jU,easeInOut:qI,easeOut:BU,circIn:F0,circInOut:$U,circOut:GI,backIn:U0,backInOut:qU,backOut:KI,anticipate:WU},AE=t=>{if(Array.isArray(t)){ig(t.length===4);const[e,n,r,i]=t;return tu(e,n,r,i)}else if(typeof t=="string")return ig(SE[t]!==void 0),SE[t];return t},HU=(t,e)=>n=>e(t(n)),Pr=(...t)=>t.reduce(HU),Vl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ze=(t,e,n)=>t+(e-t)*n;function tp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function GU({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=tp(l,a,t+1/3),s=tp(l,a,t),o=tp(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Fh(t,e){return n=>n>0?e:t}const np=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},KU=[ag,$i,js],QU=t=>KU.find(e=>e.test(t));function xE(t){const e=QU(t);if(!e)return!1;let n=e.parse(t);return e===js&&(n=GU(n)),n}const PE=(t,e)=>{const n=xE(t),r=xE(e);if(!n||!r)return Fh(t,e);const i={...n};return s=>(i.red=np(n.red,r.red,s),i.green=np(n.green,r.green,s),i.blue=np(n.blue,r.blue,s),i.alpha=ze(n.alpha,r.alpha,s),$i.transform(i))},cg=new Set(["none","hidden"]);function XU(t,e){return cg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function YU(t,e){return n=>ze(t,e,n)}function j0(t){return typeof t=="number"?YU:typeof t=="string"?D0(t)?Fh:Pt.test(t)?PE:ej:Array.isArray(t)?QI:typeof t=="object"?Pt.test(t)?PE:ZU:Fh}function QI(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>j0(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function ZU(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=j0(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function JU(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const ej=(t,e)=>{const n=_i.createTransformer(e),r=kl(t),i=kl(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?cg.has(t)&&!i.values.length||cg.has(e)&&!r.values.length?XU(t,e):Pr(QI(JU(r,i),i.values),n):Fh(t,e)};function XI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ze(t,e,n):j0(t)(t,e)}function tj(t,e,n){const r=[],i=n||XI,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Dt:e;a=Pr(l,a)}r.push(a)}return r}function nj(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(ig(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=tj(e,r,i),a=o.length,l=c=>{let h=0;if(a>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const f=Vl(t[h],t[h+1],c);return o[h](f)};return n?c=>l(vi(t[0],t[s-1],c)):l}function rj(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Vl(0,e,r);t.push(ze(n,1,i))}}function ij(t){const e=[0];return rj(e,t.length-1),e}function sj(t,e){return t.map(n=>n*e)}function oj(t,e){return t.map(()=>e||qI).splice(0,t.length-1)}function Uh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=zU(r)?r.map(AE):AE(r),s={done:!1,value:e[0]},o=sj(n&&n.length===e.length?n:ij(e),t),a=nj(o,e,{ease:Array.isArray(i)?i:oj(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const RE=2e4;function aj(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<RE;)e+=n,r=t.next(e);return e>=RE?1/0:e}const lj=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ae.update(e,!0),stop:()=>Lr(e),now:()=>ft.isProcessing?ft.timestamp:xr.now()}},uj={decay:TE,inertia:TE,tween:Uh,keyframes:Uh,spring:zI},cj=t=>t/100;class B0 extends UI{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||M0,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=uj[n]||Uh;let l,c;a!==Uh&&typeof e[0]!="number"&&(l=Pr(cj,XI(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=aj(h));const{calculatedDuration:f}=h,d=f+i,m=d*(r+1)-i;return{generator:h,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:d,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:h,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:d,repeat:m,repeatType:v,repeatDelay:T,onUpdate:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-d*(this.speed>=0?1:-1),w=this.speed>=0?_<0:_>h;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let y=this.currentTime,A=s;if(m){const E=Math.min(this.currentTime,h)/f;let R=Math.floor(E),I=E%1;!I&&E>=1&&(I=1),I===1&&R--,R=Math.min(R,m+1),!!(R%2)&&(v==="reverse"?(I=1-I,T&&(I-=T/f)):v==="mirror"&&(A=o)),y=vi(0,1,I)*f}const V=w?{done:!1,value:l[0]}:A.next(y);a&&(V.value=a(V.value));let{done:N}=V;!w&&c!==null&&(N=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return x&&i!==void 0&&(V.value=kf(l,this.options,i)),P&&P(V.value),x&&this.finish(),V}get duration(){const{resolved:e}=this;return e?Ar(e.calculatedDuration):0}get time(){return Ar(this.currentTime)}set time(e){e=Sr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ar(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=lj,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const YI=new Set(["opacity","clipPath","filter","transform"]),ZI=t=>Array.isArray(t)&&typeof t[0]=="number";function JI(t){return!!(!t||typeof t=="string"&&t in z0||ZI(t)||Array.isArray(t)&&t.every(JI))}const Ta=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,z0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ta([0,.65,.55,1]),circOut:Ta([.55,0,1,.45]),backIn:Ta([.31,.01,.66,-.59]),backOut:Ta([.33,1.53,.69,.99])};function hj(t){return eC(t)||z0.easeOut}function eC(t){if(t)return ZI(t)?Ta(t):Array.isArray(t)?t.map(hj):z0[t]}function fj(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const h=eC(a);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const dj=FI(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),jh=10,pj=2e4;function mj(t){return t.type==="spring"||!JI(t.ease)}function gj(t,e){const n=new B0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<pj;)r=n.sample(s),i.push(r.value),s+=jh;return{times:void 0,keyframes:i,duration:s-jh,ease:"linear"}}class IE extends UI{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new LI(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c,startTime:h}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(mj(this.options)){const{onComplete:d,onUpdate:m,motionValue:v,element:T,...P}=this.options,_=gj(e,P);e=_.keyframes,e.length===1&&(e[1]=e[0]),i=_.duration,s=_.times,o=_.ease,a="keyframes"}const f=fj(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return f.startTime=h??this.calcStartTime(),this.pendingTimeline?(f.timeline=this.pendingTimeline,this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:d}=this.options;l.set(kf(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ar(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ar(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Sr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Dt;const{animation:r}=n;r.timeline=e,r.onfinish=null}return Dt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:h,onComplete:f,element:d,...m}=this.options,v=new B0({...m,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),T=Sr(this.time);c.setWithVelocity(v.sample(T-jh).value,v.sample(T).value,jh)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return dj()&&r&&YI.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}function yj(t,e){let n;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;n!==o&&t(o),n=o};return Ae.update(r,!0),()=>Lr(r)}const vj=FI(()=>window.ScrollTimeline!==void 0);class _j{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(vj()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),yj(i=>{r.time=r.duration*i},e)});return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const $0=(t,e,n,r={},i,s,o)=>a=>{const l=V0(r,t)||{},c=l.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Sr(c);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-h,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{a(),l.onComplete&&l.onComplete(),o&&o()},onStop:o,name:t,motionValue:e,element:s?void 0:i};B6(l)||(f={...f,...j6(t,f)}),f.duration&&(f.duration=Sr(f.duration)),f.repeatDelay&&(f.repeatDelay=Sr(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let d=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const m=kf(f.keyframes,l);if(m!==void 0)return Ae.update(()=>{f.onUpdate(m),f.onComplete()}),new _j([])}return!s&&IE.supports(f)?new IE(f):new B0(f)},wj=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Ej=t=>rg(t)?t[t.length-1]||0:t;function Vf(t,e){t.indexOf(e)===-1&&t.push(e)}function Df(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class q0{constructor(){this.subscriptions=[]}add(e){return Vf(this.subscriptions,e),()=>Df(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const CE=30,Tj=t=>!isNaN(parseFloat(t));class tC{constructor(e,n={}){this.version="11.5.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=xr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=xr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Tj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new q0);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ae.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>CE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,CE);return jI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Dl(t,e){return new tC(t,e)}function Sj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Dl(n))}function Aj(t,e){const n=Cf(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Ej(s[o]);Sj(t,o,a)}}const Nf=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xj="framerAppearId",nC="data-"+Nf(xj);function rC(t){return t.props[nC]}function iC(t){if(Si.has(t))return"transform";if(YI.has(t))return Nf(t)}class Pj extends tC{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(e){const n=iC(e);if(!n)return;const r=this.counts.get(n)||0;this.counts.set(n,r+1),r===0&&(this.output.push(n),this.update());let i=!1;return()=>{if(i)return;i=!0;const s=this.counts.get(n)-1;this.counts.set(n,s),s===0&&(Df(this.output,n),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const kt=t=>!!(t&&t.getVelocity);function Rj(t){return!!(kt(t)&&t.add)}function hg(t,e){var n;if(!t.applyWillChange)return;let r=t.getValue("willChange");if(!r&&!(!((n=t.props.style)===null||n===void 0)&&n.willChange)&&(r=new Pj("auto"),t.addValue("willChange",r)),Rj(r))return r.add(e)}function Ij({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function sC(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const d=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),m=l[f];if(m===void 0||h&&Ij(h,f))continue;const v={delay:n,...V0(o||{},f)};let T=!1;if(window.MotionHandoffAnimation){const _=rC(t);if(_){const w=window.MotionHandoffAnimation(_,f,Ae);w!==null&&(v.startTime=w,T=!0)}}d.start($0(f,d,m,t.shouldReduceMotion&&Si.has(f)?{type:!1}:v,t,T,hg(t,f)));const P=d.animation;P&&c.push(P)}return a&&Promise.all(c).then(()=>{Ae.update(()=>{a&&Aj(t,a)})}),c}function fg(t,e,n={}){var r;const i=Cf(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(sC(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:d}=s;return Cj(t,e,h+c,f,d,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,h]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function Cj(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(kj).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(fg(c,e,{...s,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function kj(t,e){return t.sortNodePosition(e)}function Vj(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>fg(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=fg(t,e,n);else{const i=typeof e=="function"?Cf(t,e,n.custom):e;r=Promise.all(sC(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Dj=[...C0].reverse(),Nj=C0.length;function Mj(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Vj(t,n,r)))}function bj(t){let e=Mj(t),n=kE(),r=!0;const i=l=>(c,h)=>{var f;const d=Cf(t,h,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(d){const{transition:m,transitionEnd:v,...T}=d;c={...c,...T,...v}}return c};function s(l){e=l(t)}function o(l){const c=t.getProps(),h=t.getVariantContext(!0)||{},f=[],d=new Set;let m={},v=1/0;for(let P=0;P<Nj;P++){const _=Dj[P],w=n[_],y=c[_]!==void 0?c[_]:h[_],A=Cl(y),V=_===l?w.isActive:null;V===!1&&(v=P);let N=y===h[_]&&y!==c[_]&&A;if(N&&r&&t.manuallyAnimateOnMount&&(N=!1),w.protectedKeys={...m},!w.isActive&&V===null||!y&&!w.prevProp||Il(y)||typeof y=="boolean")continue;let E=Oj(w.prevProp,y)||_===l&&w.isActive&&!N&&A||P>v&&A,R=!1;const I=Array.isArray(y)?y:[y];let k=I.reduce(i(_),{});V===!1&&(k={});const{prevResolvedValues:D={}}=w,C={...D,...k},b=M=>{E=!0,d.has(M)&&(R=!0,d.delete(M)),w.needsAnimating[M]=!0;const L=t.getValue(M);L&&(L.liveStyle=!1)};for(const M in C){const L=k[M],K=D[M];if(m.hasOwnProperty(M))continue;let F=!1;rg(L)&&rg(K)?F=!wI(L,K):F=L!==K,F?L!=null?b(M):d.add(M):L!==void 0&&d.has(M)?b(M):w.protectedKeys[M]=!0}w.prevProp=y,w.prevResolvedValues=k,w.isActive&&(m={...m,...k}),r&&t.blockInitialAnimation&&(E=!1),E&&(!N||R)&&f.push(...I.map(M=>({animation:M,options:{type:_}})))}if(d.size){const P={};d.forEach(_=>{const w=t.getBaseTarget(_),y=t.getValue(_);y&&(y.liveStyle=!0),P[_]=w??null}),f.push({animation:P})}let T=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(f):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(d=>{var m;return(m=d.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const f=o(l);for(const d in n)n[d].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=kE(),r=!0}}}function Oj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wI(e,t):!1}function Vi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kE(){return{animate:Vi(!0),whileInView:Vi(),whileHover:Vi(),whileTap:Vi(),whileDrag:Vi(),whileFocus:Vi(),exit:Vi()}}class Ai{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Lj extends Ai{constructor(e){super(e),e.animationState||(e.animationState=bj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Il(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Fj=0;class Uj extends Ai{constructor(){super(...arguments),this.id=Fj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const jj={animation:{Feature:Lj},exit:{Feature:Uj}},oC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Mf(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const Bj=t=>e=>oC(e)&&t(e,Mf(e));function wr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Rr(t,e,n,r){return wr(t,e,Bj(n),r)}const VE=(t,e)=>Math.abs(t-e);function zj(t,e){const n=VE(t.x,e.x),r=VE(t.y,e.y);return Math.sqrt(n**2+r**2)}class aC{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=ip(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,m=zj(f.offset,{x:0,y:0})>=3;if(!d&&!m)return;const{point:v}=f,{timestamp:T}=ft;this.history.push({...v,timestamp:T});const{onStart:P,onMove:_}=this.handlers;d||(P&&P(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=rp(d,this.transformPagePoint),Ae.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=ip(f.type==="pointercancel"?this.lastMoveEventInfo:rp(d,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,P),v&&v(f,P)},!oC(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Mf(e),a=rp(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=ft;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,ip(a,this.history)),this.removeListeners=Pr(Rr(this.contextWindow,"pointermove",this.handlePointerMove),Rr(this.contextWindow,"pointerup",this.handlePointerUp),Rr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Lr(this.updatePoint)}}function rp(t,e){return e?{point:e(t.point)}:t}function DE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ip({point:t},e){return{point:t,delta:DE(t,lC(e)),offset:DE(t,$j(e)),velocity:qj(e,.1)}}function $j(t){return t[0]}function lC(t){return t[t.length-1]}function qj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=lC(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Sr(e)));)n--;if(!r)return{x:0,y:0};const s=Ar(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function uC(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const NE=uC("dragHorizontal"),ME=uC("dragVertical");function cC(t){let e=!1;if(t==="y")e=ME();else if(t==="x")e=NE();else{const n=NE(),r=ME();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function hC(){const t=cC(!0);return t?(t(),!1):!0}function Bs(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const fC=1e-4,Wj=1-fC,Hj=1+fC,dC=.01,Gj=0-dC,Kj=0+dC;function pn(t){return t.max-t.min}function Qj(t,e,n){return Math.abs(t-e)<=n}function bE(t,e,n,r=.5){t.origin=r,t.originPoint=ze(e.min,e.max,t.origin),t.scale=pn(n)/pn(e),t.translate=ze(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Wj&&t.scale<=Hj||isNaN(t.scale))&&(t.scale=1),(t.translate>=Gj&&t.translate<=Kj||isNaN(t.translate))&&(t.translate=0)}function Wa(t,e,n,r){bE(t.x,e.x,n.x,r?r.originX:void 0),bE(t.y,e.y,n.y,r?r.originY:void 0)}function OE(t,e,n){t.min=n.min+e.min,t.max=t.min+pn(e)}function Xj(t,e,n){OE(t.x,e.x,n.x),OE(t.y,e.y,n.y)}function LE(t,e,n){t.min=e.min-n.min,t.max=t.min+pn(e)}function Ha(t,e,n){LE(t.x,e.x,n.x),LE(t.y,e.y,n.y)}function Yj(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ze(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ze(n,t,r.max):Math.min(t,n)),t}function FE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Zj(t,{top:e,left:n,bottom:r,right:i}){return{x:FE(t.x,n,i),y:FE(t.y,e,r)}}function UE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Jj(t,e){return{x:UE(t.x,e.x),y:UE(t.y,e.y)}}function eB(t,e){let n=.5;const r=pn(t),i=pn(e);return i>r?n=Vl(e.min,e.max-r,t.min):r>i&&(n=Vl(t.min,t.max-i,e.min)),vi(0,1,n)}function tB(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const dg=.35;function nB(t=dg){return t===!1?t=0:t===!0&&(t=dg),{x:jE(t,"left","right"),y:jE(t,"top","bottom")}}function jE(t,e,n){return{min:BE(t,e),max:BE(t,n)}}function BE(t,e){return typeof t=="number"?t:t[e]||0}const zE=()=>({translate:0,scale:1,origin:0,originPoint:0}),zs=()=>({x:zE(),y:zE()}),$E=()=>({min:0,max:0}),Ye=()=>({x:$E(),y:$E()});function vn(t){return[t("x"),t("y")]}function pC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function rB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function iB(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function sp(t){return t===void 0||t===1}function pg({scale:t,scaleX:e,scaleY:n}){return!sp(t)||!sp(e)||!sp(n)}function Oi(t){return pg(t)||mC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function mC(t){return qE(t.x)||qE(t.y)}function qE(t){return t&&t!=="0%"}function Bh(t,e,n){const r=t-n,i=e*r;return n+i}function WE(t,e,n,r,i){return i!==void 0&&(t=Bh(t,i,r)),Bh(t,n,r)+e}function mg(t,e=0,n=1,r,i){t.min=WE(t.min,e,n,r,i),t.max=WE(t.max,e,n,r,i)}function gC(t,{x:e,y:n}){mg(t.x,e.translate,e.scale,e.originPoint),mg(t.y,n.translate,n.scale,n.originPoint)}const HE=.999999999999,GE=1.0000000000001;function sB(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&qs(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,gC(t,o)),r&&Oi(s.latestValues)&&qs(t,s.latestValues))}e.x<GE&&e.x>HE&&(e.x=1),e.y<GE&&e.y>HE&&(e.y=1)}function $s(t,e){t.min=t.min+e,t.max=t.max+e}function KE(t,e,n,r,i=.5){const s=ze(t.min,t.max,i);mg(t,e,n,s,r)}function qs(t,e){KE(t.x,e.x,e.scaleX,e.scale,e.originX),KE(t.y,e.y,e.scaleY,e.scale,e.originY)}function yC(t,e){return pC(iB(t.getBoundingClientRect(),e))}function oB(t,e,n){const r=yC(t,n),{scroll:i}=e;return i&&($s(r.x,i.offset.x),$s(r.y,i.offset.y)),r}const vC=({current:t})=>t?t.ownerDocument.defaultView:null,aB=new WeakMap;class lB{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ye(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Mf(h,"page").point)},s=(h,f)=>{var d;const{drag:m,dragPropagation:v,onDragStart:T}=this.getProps();if(m&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=cC(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vn(_=>{let w=this.getAxisMotionValue(_).get()||0;if(ir.test(w)){const{projection:y}=this.visualElement;if(y&&y.layout){const A=y.layout.layoutBox[_];A&&(w=pn(A)*(parseFloat(w)/100))}}this.originPoint[_]=w}),T&&Ae.postRender(()=>T(h,f)),(d=this.removeWillChange)===null||d===void 0||d.call(this),this.removeWillChange=hg(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:d,dragDirectionLock:m,onDirectionLock:v,onDrag:T}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:P}=f;if(m&&this.currentDirection===null){this.currentDirection=uB(P),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,P),this.updateAxis("y",f.point,P),this.visualElement.render(),T&&T(h,f)},a=(h,f)=>this.stop(h,f),l=()=>vn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new aC(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:vC(this.visualElement)})}stop(e,n){var r;(r=this.removeWillChange)===null||r===void 0||r.call(this);const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Ae.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Zu(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Yj(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Bs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Zj(i.layoutBox,n):this.constraints=!1,this.elastic=nB(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&vn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=tB(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Bs(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=oB(r,i.root,this.visualElement.getTransformPagePoint());let o=Jj(i.layout.layoutBox,s);if(n){const a=n(rB(o));this.hasMutatedConstraints=!!a,a&&(o=pC(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=vn(h=>{if(!Zu(h,n,this.currentDirection))return;let f=l&&l[h]||{};o&&(f={min:0,max:0});const d=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?e[h]:0,bounceStiffness:d,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start($0(e,r,0,n,this.visualElement,!1,hg(this.visualElement,e)))}stopAnimation(){vn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){vn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){vn(n=>{const{drag:r}=this.getProps();if(!Zu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-ze(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Bs(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};vn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=eB({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vn(o=>{if(!Zu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(ze(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;aB.set(this.visualElement,this);const e=this.visualElement.current,n=Rr(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Bs(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ae.read(r);const o=wr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(vn(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=dg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Zu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function uB(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class cB extends Ai{constructor(e){super(e),this.removeGroupControls=Dt,this.removeListeners=Dt,this.controls=new lB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dt}unmount(){this.removeGroupControls(),this.removeListeners()}}const QE=t=>(e,n)=>{t&&Ae.postRender(()=>t(e,n))};class hB extends Ai{constructor(){super(...arguments),this.removePointerDownListener=Dt}onPointerDown(e){this.session=new aC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:QE(e),onStart:QE(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ae.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Rr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bf=j.createContext(null);function fB(){const t=j.useContext(bf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=j.useId();j.useEffect(()=>r(i),[]);const s=j.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const W0=j.createContext({}),_C=j.createContext({}),xc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function XE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const oa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(oe.test(t))t=parseFloat(t);else return t;const n=XE(t,e.target.x),r=XE(t,e.target.y);return`${n}% ${r}%`}},dB={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=_i.parse(t);if(i.length>5)return r;const s=_i.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=ze(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}},zh={};function pB(t){Object.assign(zh,t)}const{schedule:H0,cancel:_$}=EI(queueMicrotask,!1);class mB extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;pB(gB),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),xc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ae.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),H0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function wC(t){const[e,n]=fB(),r=j.useContext(W0);return $.jsx(mB,{...t,layoutGroup:r,switchLayoutGroup:j.useContext(_C),isPresent:e,safeToRemove:n})}const gB={borderRadius:{...oa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:oa,borderTopRightRadius:oa,borderBottomLeftRadius:oa,borderBottomRightRadius:oa,boxShadow:dB},EC=["TopLeft","TopRight","BottomLeft","BottomRight"],yB=EC.length,YE=t=>typeof t=="string"?parseFloat(t):t,ZE=t=>typeof t=="number"||oe.test(t);function vB(t,e,n,r,i,s){i?(t.opacity=ze(0,n.opacity!==void 0?n.opacity:1,_B(r)),t.opacityExit=ze(e.opacity!==void 0?e.opacity:1,0,wB(r))):s&&(t.opacity=ze(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<yB;o++){const a=`border${EC[o]}Radius`;let l=JE(e,a),c=JE(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||ZE(l)===ZE(c)?(t[a]=Math.max(ze(YE(l),YE(c),r),0),(ir.test(c)||ir.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ze(e.rotate||0,n.rotate||0,r))}function JE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const _B=TC(0,.5,GI),wB=TC(.5,.95,Dt);function TC(t,e,n){return r=>r<t?0:r>e?1:n(Vl(t,e,r))}function eT(t,e){t.min=e.min,t.max=e.max}function yn(t,e){eT(t.x,e.x),eT(t.y,e.y)}function tT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function nT(t,e,n,r,i){return t-=e,t=Bh(t,1/n,r),i!==void 0&&(t=Bh(t,1/i,r)),t}function EB(t,e=0,n=1,r=.5,i,s=t,o=t){if(ir.test(e)&&(e=parseFloat(e),e=ze(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ze(s.min,s.max,r);t===s&&(a-=e),t.min=nT(t.min,e,n,a,i),t.max=nT(t.max,e,n,a,i)}function rT(t,e,[n,r,i],s,o){EB(t,e[n],e[r],e[i],e.scale,s,o)}const TB=["x","scaleX","originX"],SB=["y","scaleY","originY"];function iT(t,e,n,r){rT(t.x,e,TB,n?n.x:void 0,r?r.x:void 0),rT(t.y,e,SB,n?n.y:void 0,r?r.y:void 0)}function sT(t){return t.translate===0&&t.scale===1}function SC(t){return sT(t.x)&&sT(t.y)}function oT(t,e){return t.min===e.min&&t.max===e.max}function AB(t,e){return oT(t.x,e.x)&&oT(t.y,e.y)}function aT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function AC(t,e){return aT(t.x,e.x)&&aT(t.y,e.y)}function lT(t){return pn(t.x)/pn(t.y)}function uT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class xB{constructor(){this.members=[]}add(e){Vf(this.members,e),e.scheduleRender()}remove(e){if(Df(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function PB(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:f,rotateY:d,skewX:m,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),d&&(r+=`rotateY(${d}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const RB=(t,e)=>t.depth-e.depth;class IB{constructor(){this.children=[],this.isDirty=!1}add(e){Vf(this.children,e),this.isDirty=!0}remove(e){Df(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(RB),this.isDirty=!1,this.children.forEach(e)}}function Pc(t){const e=kt(t)?t.get():t;return wj(e)?e.toValue():e}function CB(t,e){const n=xr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Lr(r),t(s-e))};return Ae.read(r,!0),()=>Lr(r)}function kB(t){return t instanceof SVGElement&&t.tagName!=="svg"}function VB(t,e,n){const r=kt(t)?t:Dl(t);return r.start($0("",r,e,n)),r.animation}const Li={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Sa=typeof window<"u"&&window.MotionDebug!==void 0,op=["","X","Y","Z"],DB={visibility:"hidden"},cT=1e3;let NB=0;function ap(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function xC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=rC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ae,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&xC(r)}function PC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=NB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Sa&&(Li.totalNodes=Li.resolvedTargetDeltas=Li.recalculatedProjection=0),this.nodes.forEach(OB),this.nodes.forEach(BB),this.nodes.forEach(zB),this.nodes.forEach(LB),Sa&&window.MotionDebug.record(Li)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new IB)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new q0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=kB(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=CB(d,250),xc.hasAnimatedSinceResize&&(xc.hasAnimatedSinceResize=!1,this.nodes.forEach(fT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||h.getDefaultTransition()||GB,{onLayoutAnimationStart:P,onLayoutAnimationComplete:_}=h.getProps(),w=!this.targetLayout||!AC(this.targetLayout,v)||m,y=!d&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||d&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,y);const A={...V0(T,"layout"),onPlay:P,onComplete:_};(h.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else d||fT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Lr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($B),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hT);return}this.isUpdating||this.nodes.forEach(UB),this.isUpdating=!1,this.nodes.forEach(jB),this.nodes.forEach(MB),this.nodes.forEach(bB),this.clearAllSnapshots();const a=xr.now();ft.delta=vi(0,1e3/60,a-ft.timestamp),ft.timestamp=a,ft.isProcessing=!0,Zd.update.process(ft),Zd.preRender.process(ft),Zd.render.process(ft),ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,H0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FB),this.sharedNodes.forEach(qB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!SC(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||Oi(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),KB(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Ye();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(QB))){const{scroll:h}=this.root;h&&($s(l.x,h.offset.x),$s(l.y,h.offset.y))}return l}removeElementScroll(o){var a;const l=Ye();if(yn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:f,options:d}=h;h!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&yn(l,o),$s(l.x,f.offset.x),$s(l.y,f.offset.y))}return l}applyTransform(o,a=!1){const l=Ye();yn(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&qs(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Oi(h.latestValues)&&qs(l,h.latestValues)}return Oi(this.latestValues)&&qs(l,this.latestValues),l}removeTransform(o){const a=Ye();yn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Oi(c.latestValues))continue;pg(c.latestValues)&&c.updateSnapshot();const h=Ye(),f=c.measurePageBox();yn(h,f),iT(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Oi(this.latestValues)&&iT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=ft.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Ha(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ye(),this.targetWithTransforms=Ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Xj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yn(this.target,this.layout.layoutBox),gC(this.target,this.targetDelta)):yn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),Ha(this.relativeTargetOrigin,this.target,m.target),yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Sa&&Li.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||pg(this.parent.latestValues)||mC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ft.timestamp&&(c=!1),c)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;yn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,m=this.treeScale.y;sB(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ye());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tT(this.prevProjectionDelta.x,this.projectionDelta.x),tT(this.prevProjectionDelta.y,this.projectionDelta.y)),Wa(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==m||!uT(this.projectionDelta.x,this.prevProjectionDelta.x)||!uT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Sa&&Li.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zs(),this.projectionDelta=zs(),this.projectionDeltaWithTransform=zs()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},f=zs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=Ye(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,T=m!==v,P=this.getStack(),_=!P||P.members.length<=1,w=!!(T&&!_&&this.options.crossfade===!0&&!this.path.some(HB));this.animationProgress=0;let y;this.mixTargetDelta=A=>{const V=A/1e3;dT(f.x,o.x,V),dT(f.y,o.y,V),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ha(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),WB(this.relativeTarget,this.relativeTargetOrigin,d,V),y&&AB(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Ye()),yn(y,this.relativeTarget)),T&&(this.animationValues=h,vB(h,c,this.latestValues,V,w,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Lr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ae.update(()=>{xc.hasAnimatedSinceResize=!0,this.currentAnimation=VB(0,cT,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&RC(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ye();const f=pn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const d=pn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}yn(a,l),qs(a,h),Wa(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new xB),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&ap("z",o,c,this.animationValues);for(let h=0;h<op.length;h++)ap(`rotate${op[h]}`,o,c,this.animationValues),ap(`skew${op[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return DB;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Pc(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=Pc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Oi(this.latestValues)&&(T.transform=h?h({},""):"none",this.hasProjected=!1),T}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=PB(this.projectionDeltaWithTransform,this.treeScale,d),h&&(c.transform=h(d,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:c.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const T in zh){if(d[T]===void 0)continue;const{correct:P,applyTo:_}=zh[T],w=c.transform==="none"?d[T]:P(d[T],f);if(_){const y=_.length;for(let A=0;A<y;A++)c[_[A]]=w}else c[T]=w}return this.options.layoutId&&(c.pointerEvents=f===this?Pc(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(hT),this.root.sharedNodes.clear()}}}function MB(t){t.updateLayout()}function bB(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?vn(f=>{const d=o?n.measuredBox[f]:n.layoutBox[f],m=pn(d);d.min=r[f].min,d.max=d.min+m}):RC(s,n.layoutBox,r)&&vn(f=>{const d=o?n.measuredBox[f]:n.layoutBox[f],m=pn(r[f]);d.max=d.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const a=zs();Wa(a,r,n.layoutBox);const l=zs();o?Wa(l,t.applyTransform(i,!0),n.measuredBox):Wa(l,r,n.layoutBox);const c=!SC(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:m}=f;if(d&&m){const v=Ye();Ha(v,n.layoutBox,d.layoutBox);const T=Ye();Ha(T,r,m.layoutBox),AC(v,T)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function OB(t){Sa&&Li.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function LB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function FB(t){t.clearSnapshot()}function hT(t){t.clearMeasurements()}function UB(t){t.isLayoutDirty=!1}function jB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function BB(t){t.resolveTargetDelta()}function zB(t){t.calcProjection()}function $B(t){t.resetSkewAndRotation()}function qB(t){t.removeLeadSnapshot()}function dT(t,e,n){t.translate=ze(e.translate,0,n),t.scale=ze(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function pT(t,e,n,r){t.min=ze(e.min,n.min,r),t.max=ze(e.max,n.max,r)}function WB(t,e,n,r){pT(t.x,e.x,n.x,r),pT(t.y,e.y,n.y,r)}function HB(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const GB={duration:.45,ease:[.4,0,.1,1]},mT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),gT=mT("applewebkit/")&&!mT("chrome/")?Math.round:Dt;function yT(t){t.min=gT(t.min),t.max=gT(t.max)}function KB(t){yT(t.x),yT(t.y)}function RC(t,e,n){return t==="position"||t==="preserve-aspect"&&!Qj(lT(e),lT(n),.2)}function QB(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const XB=PC({attachResizeListener:(t,e)=>wr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lp={current:void 0},IC=PC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!lp.current){const t=new XB({});t.mount(window),t.setOptions({layoutScroll:!0}),lp.current=t}return lp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),YB={pan:{Feature:hB},drag:{Feature:cB,ProjectionNode:IC,MeasureLayout:wC}};function vT(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||hC())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&Ae.postRender(()=>l(s,o))};return Rr(t.current,n,i,{passive:!t.getProps()[r]})}class ZB extends Ai{mount(){this.unmount=Pr(vT(this.node,!0),vT(this.node,!1))}unmount(){}}class JB extends Ai{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pr(wr(this.node.current,"focus",()=>this.onFocus()),wr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const CC=(t,e)=>e?t===e?!0:CC(t,e.parentElement):!1;function up(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Mf(n))}class ez extends Ai{constructor(){super(...arguments),this.removeStartListeners=Dt,this.removeEndListeners=Dt,this.removeAccessibleListeners=Dt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Rr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h,globalTapTarget:f}=this.node.getProps(),d=!f&&!CC(this.node.current,a.target)?h:c;d&&Ae.update(()=>d(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Rr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Pr(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||up("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&Ae.postRender(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=wr(this.node.current,"keyup",o),up("down",(a,l)=>{this.startPress(a,l)})},n=wr(this.node.current,"keydown",e),r=()=>{this.isPressing&&up("cancel",(s,o)=>this.cancelPress(s,o))},i=wr(this.node.current,"blur",r);this.removeAccessibleListeners=Pr(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ae.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!hC()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ae.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Rr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=wr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Pr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const gg=new WeakMap,cp=new WeakMap,tz=t=>{const e=gg.get(t.target);e&&e(t)},nz=t=>{t.forEach(tz)};function rz({root:t,...e}){const n=t||document;cp.has(n)||cp.set(n,{});const r=cp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(nz,{root:t,...e})),r[i]}function iz(t,e,n){const r=rz(e);return gg.set(t,n),r.observe(t),()=>{gg.delete(t),r.unobserve(t)}}const sz={some:0,all:1};class oz extends Ai{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:sz[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),d=c?h:f;d&&d(l)};return iz(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(az(e,n))&&this.startObserver()}unmount(){}}function az({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const lz={inView:{Feature:oz},tap:{Feature:ez},focus:{Feature:JB},hover:{Feature:ZB}},uz={layout:{ProjectionNode:IC,MeasureLayout:wC}},G0=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Of=j.createContext({}),K0=typeof window<"u",kC=K0?j.useLayoutEffect:j.useEffect,VC=j.createContext({strict:!1});let _T=!1;function cz(t,e,n,r,i){var s;const{visualElement:o}=j.useContext(Of),a=j.useContext(VC),l=j.useContext(bf),c=j.useContext(G0).reducedMotion,h=j.useRef();r=r||a.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const f=h.current,d=j.useContext(_C);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&fz(h.current,n,i,d),j.useInsertionEffect(()=>{f&&f.update(n,l)});const m=n[nC],v=j.useRef(!!m&&!window.MotionHandoffIsComplete&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,m)));return kC(()=>{f&&(f.updateFeatures(),H0.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())}),j.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current=!1,_T||(_T=!0,queueMicrotask(hz)))}),f}function hz(){window.MotionHandoffIsComplete=!0}function fz(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:DC(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Bs(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function DC(t){if(t)return t.options.allowProjection!==!1?t.projection:DC(t.parent)}function dz(t,e,n){return j.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Bs(n)&&(n.current=r))},[e])}function Lf(t){return Il(t.animate)||k0.some(e=>Cl(t[e]))}function NC(t){return!!(Lf(t)||t.variants)}function pz(t,e){if(Lf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Cl(n)?n:void 0,animate:Cl(r)?r:void 0}}return t.inherit!==!1?e:{}}function mz(t){const{initial:e,animate:n}=pz(t,j.useContext(Of));return j.useMemo(()=>({initial:e,animate:n}),[wT(e),wT(n)])}function wT(t){return Array.isArray(t)?t.join(" "):t}const ET={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},To={};for(const t in ET)To[t]={isEnabled:e=>ET[t].some(n=>!!e[n])};function gz(t){for(const e in t)To[e]={...To[e],...t[e]}}const yz=Symbol.for("motionComponentSymbol");function vz({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&gz(t);function s(a,l){let c;const h={...j.useContext(G0),...a,layoutId:_z(a)},{isStatic:f}=h,d=mz(a),m=r(a,f);if(!f&&K0){wz();const v=Ez(h);c=v.MeasureLayout,d.visualElement=cz(i,m,h,e,v.ProjectionNode)}return $.jsxs(Of.Provider,{value:d,children:[c&&d.visualElement?$.jsx(c,{visualElement:d.visualElement,...h}):null,n(i,a,dz(m,d.visualElement,l),m,f,d.visualElement)]})}const o=j.forwardRef(s);return o[yz]=i,o}function _z({layoutId:t}){const e=j.useContext(W0).id;return e&&t!==void 0?e+"-"+t:t}function wz(t,e){j.useContext(VC).strict}function Ez(t){const{drag:e,layout:n}=To;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Tz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Q0(t){return typeof t!="string"||t.includes("-")?!1:!!(Tz.indexOf(t)>-1||/[A-Z]/u.test(t))}function MC(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const bC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function OC(t,e,n,r){MC(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(bC.has(i)?i:Nf(i),e.attrs[i])}function LC(t,{layout:e,layoutId:n}){return Si.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!zh[t]||t==="opacity")}function X0(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(kt(i[o])||e.style&&kt(e.style[o])||LC(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return n&&i&&typeof i.willChange=="string"&&(n.applyWillChange=!1),s}function FC(t,e,n){const r=X0(t,e,n);for(const i in t)if(kt(t[i])||kt(e[i])){const s=Zl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function Y0(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}function Sz({applyWillChange:t=!1,scrapeMotionValuesFromProps:e,createRenderState:n,onMount:r},i,s,o,a){const l={latestValues:xz(i,s,o,a?!1:t,e),renderState:n()};return r&&(l.mount=c=>r(i,c,l)),l}const UC=t=>(e,n)=>{const r=j.useContext(Of),i=j.useContext(bf),s=()=>Sz(t,e,r,i,n);return n?s():Y0(s)};function Az(t,e){const n=iC(e);n&&Vf(t,n)}function TT(t,e,n){const r=Array.isArray(e)?e:[e];for(let i=0;i<r.length;i++){const s=I0(t,r[i]);if(s){const{transitionEnd:o,transition:a,...l}=s;n(l,o)}}}function xz(t,e,n,r,i){var s;const o={},a=[],l=r&&((s=t.style)===null||s===void 0?void 0:s.willChange)===void 0,c=i(t,{});for(const P in c)o[P]=Pc(c[P]);let{initial:h,animate:f}=t;const d=Lf(t),m=NC(t);e&&m&&!d&&t.inherit!==!1&&(h===void 0&&(h=e.initial),f===void 0&&(f=e.animate));let v=n?n.initial===!1:!1;v=v||h===!1;const T=v?f:h;return T&&typeof T!="boolean"&&!Il(T)&&TT(t,T,(P,_)=>{for(const w in P){let y=P[w];if(Array.isArray(y)){const A=v?y.length-1:0;y=y[A]}y!==null&&(o[w]=y)}for(const w in _)o[w]=_[w]}),l&&(f&&h!==!1&&!Il(f)&&TT(t,f,P=>{for(const _ in P)Az(a,_)}),a.length&&(o.willChange=a.join(","))),o}const Z0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),jC=()=>({...Z0(),attrs:{}}),BC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Pz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Rz=Zl.length;function Iz(t,e,n){let r="",i=!0;for(let s=0;s<Rz;s++){const o=Zl[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=BC(a,O0[o]);if(!l){i=!1;const h=Pz[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function J0(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Si.has(l)){o=!0;continue}else if(xI(l)){i[l]=c;continue}else{const h=BC(c,O0[l]);l.startsWith("origin")?(a=!0,s[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=Iz(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${c} ${h}`}}function ST(t,e,n){return typeof t=="string"?t:oe.transform(e+n*t)}function Cz(t,e,n){const r=ST(e,t.x,t.width),i=ST(n,t.y,t.height);return`${r} ${i}`}const kz={offset:"stroke-dashoffset",array:"stroke-dasharray"},Vz={offset:"strokeDashoffset",array:"strokeDasharray"};function Dz(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?kz:Vz;t[s.offset]=oe.transform(-r);const o=oe.transform(e),a=oe.transform(n);t[s.array]=`${o} ${a}`}function ev(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,f){if(J0(t,c,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:m,dimensions:v}=t;d.transform&&(v&&(m.transform=d.transform),delete d.transform),v&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=Cz(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),o!==void 0&&Dz(d,o,a,l,!1)}const tv=t=>typeof t=="string"&&t.toLowerCase()==="svg",Nz={useVisualState:UC({scrapeMotionValuesFromProps:FC,createRenderState:jC,onMount:(t,e,{renderState:n,latestValues:r})=>{Ae.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ae.render(()=>{ev(n,r,tv(e.tagName),t.transformTemplate),OC(e,n)})}})},Mz={useVisualState:UC({applyWillChange:!0,scrapeMotionValuesFromProps:X0,createRenderState:Z0})};function zC(t,e,n){for(const r in e)!kt(e[r])&&!LC(r,n)&&(t[r]=e[r])}function bz({transformTemplate:t},e){return j.useMemo(()=>{const n=Z0();return J0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Oz(t,e){const n=t.style||{},r={};return zC(r,n,t),Object.assign(r,bz(t,e)),r}function Lz(t,e){const n={},r=Oz(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Fz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $h(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Fz.has(t)}let $C=t=>!$h(t);function Uz(t){t&&($C=e=>e.startsWith("on")?!$h(e):t(e))}try{Uz(require("@emotion/is-prop-valid").default)}catch{}function jz(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||($C(i)||n===!0&&$h(i)||!e&&!$h(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Bz(t,e,n,r){const i=j.useMemo(()=>{const s=jC();return ev(s,e,tv(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};zC(s,t.style,t),i.style={...s,...i.style}}return i}function zz(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(Q0(n)?Bz:Lz)(r,s,o,n),c=jz(r,typeof n=="string",t),h=n!==j.Fragment?{...c,...l,ref:i}:{},{children:f}=r,d=j.useMemo(()=>kt(f)?f.get():f,[f]);return j.createElement(n,{...h,children:d})}}function $z(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...Q0(r)?Nz:Mz,preloadedFeatures:t,useRender:zz(i),createVisualElement:e,Component:r};return vz(o)}}const yg={current:null},qC={current:!1};function qz(){if(qC.current=!0,!!K0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>yg.current=t.matches;t.addListener(e),e()}else yg.current=!1}function Wz(t,e,n){for(const r in e){const i=e[r],s=n[r];if(kt(i))t.addValue(r,i);else if(kt(s))t.addValue(r,Dl(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Dl(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const AT=new WeakMap,Hz=[...II,Pt,_i],Gz=t=>Hz.find(RI(t)),xT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Kz=k0.length;class Qz{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=M0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,Ae.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Lf(n),this.isVariantNode=NC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in f){const m=f[d];l[d]!==void 0&&kt(m)&&m.set(l[d],!1)}}mount(e){this.current=e,AT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),qC.current||qz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){AT.delete(this.current),this.projection&&this.projection.unmount(),Lr(this.notifyUpdate),Lr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Si.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ae.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in To){const n=To[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ye()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<xT.length;r++){const i=xT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Wz(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Kz;r++){const i=k0[r],s=this.props[i];(Cl(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Dl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(SI(i)||TI(i))?i=parseFloat(i):!Gz(i)&&_i.test(n)&&(i=OI(e,n)),this.setBaseTarget(e,kt(i)?i.get():i)),kt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=I0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!kt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new q0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class WC extends Qz{constructor(){super(...arguments),this.KeyframeResolver=LI}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function Xz(t){return window.getComputedStyle(t)}class Yz extends WC{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=MC}readValueFromInstance(e,n){if(Si.has(n)){const r=L0(n);return r&&r.default||0}else{const r=Xz(e),i=(xI(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return yC(e,n)}build(e,n,r){J0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return X0(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;kt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Zz extends WC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ye}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Si.has(n)){const r=L0(n);return r&&r.default||0}return n=bC.has(n)?n:Nf(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return FC(e,n,r)}build(e,n,r){ev(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){OC(e,n,r,i)}mount(e){this.isSVGTag=tv(e.tagName),super.mount(e)}}const Jz=(t,e)=>Q0(t)?new Zz(e):new Yz(e,{allowProjection:t!==j.Fragment}),e$=$z({...jj,...lz,...YB,...uz},Jz),ae=b6(e$);class t$ extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function n$({children:t,isPresent:e}){const n=j.useId(),r=j.useRef(null),i=j.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=j.useContext(G0);return j.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return s&&(h.nonce=s),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),$.jsx(t$,{isPresent:e,childRef:r,sizeRef:i,children:j.cloneElement(t,{ref:r})})}const r$=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=Y0(i$),l=j.useId(),c=j.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},register:h=>(a.set(h,!1),()=>a.delete(h))}),s?[Math.random()]:[n]);return j.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),j.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=$.jsx(n$,{isPresent:n,children:t})),$.jsx(bf.Provider,{value:c,children:t})};function i$(){return new Map}const Ju=t=>t.key||"";function PT(t){const e=[];return j.Children.forEach(t,n=>{j.isValidElement(n)&&e.push(n)}),e}const RT=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=j.useMemo(()=>PT(t),[t]),l=a.map(Ju),c=j.useRef(!0),h=j.useRef(a),f=Y0(()=>new Map),[d,m]=j.useState(a),[v,T]=j.useState(a);kC(()=>{c.current=!1,h.current=a;for(let w=0;w<v.length;w++){const y=Ju(v[w]);l.includes(y)?f.delete(y):f.get(y)!==!0&&f.set(y,!1)}},[v,l.length,l.join("-")]);const P=[];if(a!==d){let w=[...a];for(let y=0;y<v.length;y++){const A=v[y],V=Ju(A);l.includes(V)||(w.splice(y,0,A),P.push(A))}o==="wait"&&P.length&&(w=P),T(PT(w)),m(a);return}const{forceRender:_}=j.useContext(W0);return $.jsx($.Fragment,{children:v.map(w=>{const y=Ju(w),A=a===v||l.includes(y),V=()=>{if(f.has(y))f.set(y,!0);else return;let N=!0;f.forEach(x=>{x||(N=!1)}),N&&(_==null||_(),T(h.current),i&&i())};return $.jsx(r$,{isPresent:A,initial:!c.current||r?void 0:!1,custom:A?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:A?void 0:V,children:w},y)})})},Ff=({text:t,onClick:e,bgColor:n,fontColor:r="white",icon:i})=>$.jsxs(ae.button,{className:"Btn-animated",style:{backgroundColor:n,color:r},onClick:e,children:[$.jsx(ae.div,{className:"sign",children:i}),$.jsx(ae.div,{className:"text",style:{color:r},children:t})]}),s$=({country:t,onImageUploaded:e,setAddPhoto:n})=>{const r=()=>{console.log(n),n(!0)};return $.jsx("div",{className:"file-upload",style:{marginLeft:"1em"},children:$.jsx(Ff,{htmlFor:"file-upload",text:"Subir Foto",onClick:r,bgColor:"#e6e6e6",fontColor:"black",icon:$.jsx(IL,{})})})},o$=({handleDelete:t,handleCancel:e})=>$.jsx("div",{className:"overlay-confirmation",children:$.jsxs("div",{className:"delete-confirmation",children:[$.jsx("h1",{children:"¿Estás seguro de que quieres eliminar esta imagen?"}),$.jsxs("div",{className:"buttons",children:[$.jsx("button",{onClick:t,className:"icon-button",style:{backgroundColor:"#CF2A2A",color:"white"},children:"Sí"}),$.jsx("button",{onClick:e,className:"icon-button",style:{backgroundColor:"#2ACFCF",color:"white"},children:"No"})]})]})}),a$=({image:t,openImageModal:e,index:n})=>{const r=n%2===0;return $.jsxs(ae.div,{className:"photography",style:{rotate:r?"-3deg":"3deg"},onClick:()=>e(t),whileHover:{scale:1.1,rotate:0},children:[$.jsx(ae.img,{src:t.url,alt:`Gallery image ${t.id}`}),$.jsx(ae.h1,{children:t.title})]})},l$=({zone:t,closeDialog:e,image:n,setImages:r})=>{const[i,s]=j.useState(!1),o=()=>{s(!0)},a=()=>{s(!1)};console.log(n);const l=async()=>{if(!n)return;const c=KP(_I,n.url);console.log(c);try{await m9(c),await D6(sI(R0,"images",n.id)),r(h=>h.filter(f=>f.id!==n.id))}catch(h){console.log("Error eliminando la imagen:",h)}finally{e()}};return $.jsxs(ae.div,{className:"overlay",children:[$.jsxs(ae.div,{layoutId:t,className:"zone-dialog",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[$.jsxs(ae.div,{className:"dialog-header",children:[$.jsx(ae.div,{style:{display:"flex",alignItems:"center",marginLeft:"1em"},children:$.jsx(ae.h1,{children:"Detalles del recuerdo"})}),$.jsx(Ff,{text:"Cerrar",onClick:e,bgColor:"#CF2A2A",icon:$.jsx(By,{})})]}),$.jsxs(ae.div,{style:{display:"flex",flexDirection:"row"},children:[$.jsx(ae.div,{style:{display:"flex",backgroundColor:"",width:"100vw",padding:"2em",position:"relative",justifyContent:"center"},children:$.jsx(ae.div,{className:"image-detail",children:$.jsx(ae.div,{style:{backgroundImage:`url(${n.url})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",width:"80%",height:"80%"}})})}),$.jsxs(ae.div,{style:{width:"100vw",padding:"1em",display:"flex",flexDirection:"column",justifyContent:"center"},children:[$.jsx(ae.h2,{children:"Título de la imagen"}),$.jsx(ae.input,{type:"text",value:n.title,onChange:c=>setTitle(c.target.value),style:{width:"80%",padding:"0.5em",fontSize:"1.5em",backgroundColor:"rgb(248, 238, 227)",border:"rgb(80, 62, 40) 2px solid"},disabled:!0}),$.jsx(ae.h2,{children:"Descripción de la imagen"}),$.jsx(ae.textarea,{value:n.description,onChange:c=>setDescription(c.target.value),disabled:!0,style:{width:"80%",padding:"0.5em",fontSize:"1.5em",height:"40%",backgroundColor:"rgb(248, 238, 227)",border:"rgb(80, 62, 40) 2px solid"}}),$.jsx(ae.button,{onClick:o,style:{marginTop:"1em",padding:"0.5em 1em",fontSize:"1.2em",backgroundColor:"rgb(80, 62, 40)",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",width:"85%"},whileHover:{backgroundColor:"#6b594b"},children:"Eliminar Imagen"})]})]})]}),i&&$.jsx(o$,{handleDelete:l,handleCancel:a})]})},HC=({zone:t,closeDialog:e,setAddPhoto:n})=>{const[r,i]=j.useState(null),[s,o]=j.useState([]);j.useState(!1),j.useState(null),j.useEffect(()=>{(async()=>{if(t&&t.properties){const h=S6(iI(R0,"images"),A6("country","==",t.properties.name)),d=(await V6(h)).docs.map(m=>({id:m.id,url:m.data().url,title:m.data().title,description:m.data().description,country:m.data().country}));o(d),console.log("CONSULTANDO IMAGENES")}})()},[t]);const a=c=>{i(c)},l=()=>{i(null)};return $.jsxs(ae.div,{className:"overlay",children:[$.jsxs(ae.div,{layoutId:t,className:"zone-dialog",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[$.jsxs(ae.div,{className:"dialog-header",children:[$.jsxs(ae.div,{style:{display:"flex",alignItems:"center",marginLeft:"1em"},children:[$.jsx(ae.h1,{children:t.properties.name}),$.jsx(s$,{country:t.properties.name,setAddPhoto:n})]}),$.jsx(Ff,{text:"Cerrar",onClick:e,bgColor:"#CF2A2A",icon:$.jsx(By,{})})]}),s.length===0&&$.jsx(ae.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"40em"},children:$.jsx(ae.h2,{children:"No hay imágenes en esta zona"})}),s.length>0&&$.jsx(ae.div,{className:"image-gallery",children:s.map((c,h)=>$.jsx(a$,{image:c,openImageModal:a,index:h},c.id))})]}),r&&$.jsx(l$,{zone:t,closeDialog:l,image:r,setImages:o})]})},u$=(t,e,n,r,i)=>{e(t),t.properties.name==="España"?(n(!0),setTimeout(()=>{r(!0)},500)):i(!0)},c$=(t,e)=>{setTimeout(()=>{t(!1)},500),e(!1)},GC=t=>{t(!1)},h$="/spain-provinces.geojson",f$=({handleBackToWorld:t})=>{const[e,n]=Se.useState(!1),[r,i]=Se.useState(null);return $.jsxs("div",{className:"spain-map-container",children:[$.jsx(ff,{projection:"geoMercator",projectionConfig:{scale:2500,center:[-3,40]},style:{width:"100%",height:"100%"},children:$.jsx(df,{geography:h$,children:({geographies:s})=>s.map(o=>{const a=hP();return $.jsx(sP,{className:"zona",geography:o,onClick:()=>{i(o),n(!0)},style:{default:{fill:a,outline:"none",stroke:"#503e28",strokeWidth:.5},hover:{fill:"#503e28",outline:"none",stroke:"none"},pressed:{fill:"#6c8699",outline:"none",stroke:"none"}}},o.rsmKey)})})}),$.jsxs(ae.button,{onClick:t,className:"back-button",whileHover:{scale:1.05},children:[$.jsx(CL,{}),"Volver"]}),e&&$.jsx(HC,{zone:r,closeDialog:()=>GC(n)})]})},d$=({zone:t,closeDialog:e})=>{const n=j.useRef(null),[r,i]=j.useState(null),[s,o]=j.useState(null),[a,l]=j.useState(""),[c,h]=j.useState(""),[f,d]=j.useState(!1),m=_=>{if(_.target.files[0]){const w=_.target.files[0];i(w);const y=URL.createObjectURL(w);o(y)}},v=()=>{i(null),o(null)},T=()=>{n.current.click()},P=async()=>{if(!r||!a||!c){alert("Por favor, selecciona una imagen y completa el título y la descripción.");return}const _=KP(_I,`images/${r.name}`),w=d9(_,r);d(!0),w.on("state_changed",y=>{Math.round(y.bytesTransferred/y.totalBytes*100)},y=>{console.error("Error al subir archivo:",y),d(!1)},async()=>{const y=await p9(w.snapshot.ref);await N6(iI(R0,"images"),{url:y,title:a,description:c,country:t.properties.name}),d(!1),i(null),o(null),l(""),h(""),e()})};return $.jsx(ae.div,{className:"overlay",children:$.jsxs(ae.div,{layoutId:t,className:"zone-dialog",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[$.jsxs(ae.div,{className:"dialog-header",children:[$.jsx(ae.div,{style:{display:"flex",alignItems:"center",marginLeft:"1em"},children:$.jsx(ae.h1,{children:"Añade un recuerdo a la aventura"})}),$.jsx(Ff,{text:"Cerrar",onClick:e,bgColor:"#CF2A2A",icon:$.jsx(By,{})})]}),$.jsxs(ae.div,{style:{display:"flex",flexDirection:"row"},children:[$.jsxs(ae.div,{style:{display:"flex",alignItems:"center",backgroundColor:"",width:"100vw",padding:"2em",position:"relative"},children:[$.jsx("input",{type:"file",onChange:m,style:{display:"none"},id:"file-upload",ref:n}),$.jsx(ae.div,{className:"image-picker",onClick:s?null:T,children:s?$.jsx(ae.div,{style:{backgroundImage:`url(${s})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",width:"80%",height:"80%"},children:$.jsx(ae.button,{className:"delete-button",onClick:()=>v(),children:$.jsx(kL,{className:"icon"})})}):$.jsx(ae.h2,{children:"Selecciona una imagen"})})]}),$.jsxs(ae.div,{style:{width:"100vw",padding:"1em",display:"flex",flexDirection:"column",justifyContent:"center"},children:[$.jsx(ae.h2,{children:"Título del recuerdo"}),$.jsx(ae.input,{type:"text",value:a,onChange:_=>l(_.target.value),style:{width:"80%",padding:"0.5em",fontSize:"1.5em",backgroundColor:"rgb(248, 238, 227)",border:"rgb(80, 62, 40) 2px solid"}}),$.jsx(ae.h2,{children:"Descripción del recuerdo"}),$.jsx(ae.textarea,{value:c,onChange:_=>h(_.target.value),style:{width:"80%",padding:"0.5em",fontSize:"1.5em",height:"40%",backgroundColor:"rgb(248, 238, 227)",border:"rgb(80, 62, 40) 2px solid"}}),$.jsx(ae.button,{onClick:P,disabled:f,style:{marginTop:"1em",padding:"0.5em 1em",fontSize:"1.2em",backgroundColor:"rgb(80, 62, 40)",color:"white",border:"none",borderRadius:"5px",cursor:f?"not-allowed":"pointer",width:"80%"},children:f?"Subiendo...":"Subir recuerdo"})]})]})]})})},p$=({setShowCover:t})=>$.jsx(ae.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:0},transition:{duration:1.5},className:"cover",children:$.jsxs("div",{className:"libro",children:[$.jsx("h1",{style:{fontFamily:"serif",fontSize:"3rem",color:"#5c3d2e"},children:"Mi Libro de Aventuras"}),$.jsx("button",{onClick:()=>t(!1),style:{marginTop:"20px",padding:"10px 20px",fontSize:"1.5rem",backgroundColor:"#8b5e3c",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Entrar en la Aventura"})]})});function m$(){const[t,e]=j.useState(!0),[n,r]=j.useState(!1),[i,s]=j.useState(!1),[o,a]=j.useState(!1),[l,c]=j.useState(null),[h,f]=j.useState(!1);return console.log(h),$.jsxs("div",{className:"App",children:[$.jsx(RT,{children:t&&$.jsx(p$,{setShowCover:e})}),!t&&$.jsxs($.Fragment,{children:[n?$.jsx("div",{className:`map-container ${i?"zoom-out":""}`,children:$.jsx(f$,{handleBackToWorld:()=>c$(r,s)})}):$.jsx("div",{className:`map-container ${i?"zoom-in":""}`,children:$.jsx(wL,{onCountryClick:d=>u$(d,c,s,r,a)})}),$.jsxs(RT,{children:[o&&!h&&$.jsx(HC,{zone:l,closeDialog:()=>GC(a),setAddPhoto:f}),h&&$.jsx(d$,{zone:l,closeDialog:()=>f(!1)})]})]})]})}BA(document.getElementById("root")).render($.jsx(j.StrictMode,{children:$.jsx(m$,{})}));
